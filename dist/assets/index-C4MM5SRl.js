import{j as t,B as k,P as ze,E as ej,T as L,A as Oe,a as se,R as ns,L as Lp,b as Id,c as Ks,I as Qe,D as Ta,d as xt,e as wt,f as pt,g as ke,h as Tt,G as Ia,C as zt,i as ro,F as It,k as Qt,S as $t,M as lt,l as Bt,m as Lt,n as Vt,o as Ne,p as G,q as Ut,u as tj,r as nj,s as Jg,t as aj,v as sj,w as ij,x as rj,y as Vp,z as lj,H as oj,J as fe,K as as,N as cj,U as Zg,O as ei,Q as dj,V as fr,W as Up,X as at,Y as uj,Z as hr,_ as Wp,$ as Xl,a0 as xu,a1 as mr,a2 as qp,a3 as Qd,a4 as Pp,a5 as Wt,a6 as pu,a7 as Hp,a8 as Kl,a9 as $d,aa as fj,ab as hj,ac as Fp,ad as Yp,ae as Xg,af as Kg,ag as Gp,ah as Jp,ai as lo,aj as mj,ak as gj,al as xj,am as pj,an as yu,ao as Ig,ap as Ad,aq as Ed,ar as Rd,as as Qg,at as yj,au as Zp,av as vj,aw as bj,ax as jj,ay as Sj,az as wj,aA as Tj,aB as Cj,aC as gr,aD as $g,aE as _j,aF as Aj,aG as Ej,aH as Xp,aI as Rj,aJ as zj,aK as kj,aL as Yl,aM as Dj,aN as Nj,aO as ex,aP as tx,aQ as Mj,aR as Oj,aS as Bj,aT as nx}from"./mui-C_Y_tBj7.js";import{d as Lj,e as Vj,g as Uj,r as w,a as Kp,u as yt,L as Il,f as oo,h as Ip,i as Wj,N as En,B as qj,j as Pj,k as Je}from"./vendor-BVZkIb8U.js";import{c as Hj}from"./supabase-C0JrsnXd.js";import{C as Fj,a as Yj,L as Gj,B as Jj,A as Zj,R as Xj,P as Kj,b as Ij,i as Qj,p as $j,c as e1,d as t1,e as n1,f as a1}from"./charts-Bll8yX-O.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();var zd={exports:{}},tr={},kd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function s1(){return ax||(ax=1,function(s){function i(O,I){var H=O.length;O.push(I);e:for(;0<H;){var ee=H-1>>>1,ie=O[ee];if(0<d(ie,I))O[ee]=I,O[H]=ie,H=ee;else break e}}function l(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var I=O[0],H=O.pop();if(H!==I){O[0]=H;e:for(var ee=0,ie=O.length,de=ie>>>1;ee<de;){var ce=2*(ee+1)-1,be=O[ce],Re=ce+1,le=O[Re];if(0>d(be,H))Re<ie&&0>d(le,be)?(O[ee]=le,O[Re]=H,ee=Re):(O[ee]=be,O[ce]=H,ee=ce);else if(Re<ie&&0>d(le,H))O[ee]=le,O[Re]=H,ee=Re;else break e}}return I}function d(O,I){var H=O.sortIndex-I.sortIndex;return H!==0?H:O.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],x=[],p=1,v=null,b=3,T=!1,C=!1,A=!1,_=!1,z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function W(O){for(var I=l(x);I!==null;){if(I.callback===null)o(x);else if(I.startTime<=O)o(x),I.sortIndex=I.expirationTime,i(g,I);else break;I=l(x)}}function N(O){if(A=!1,W(O),!C)if(l(g)!==null)C=!0,J||(J=!0,te());else{var I=l(x);I!==null&&Z(N,I.startTime-O)}}var J=!1,oe=-1,U=5,ae=-1;function P(){return _?!0:!(s.unstable_now()-ae<U)}function re(){if(_=!1,J){var O=s.unstable_now();ae=O;var I=!0;try{e:{C=!1,A&&(A=!1,S(oe),oe=-1),T=!0;var H=b;try{t:{for(W(O),v=l(g);v!==null&&!(v.expirationTime>O&&P());){var ee=v.callback;if(typeof ee=="function"){v.callback=null,b=v.priorityLevel;var ie=ee(v.expirationTime<=O);if(O=s.unstable_now(),typeof ie=="function"){v.callback=ie,W(O),I=!0;break t}v===l(g)&&o(g),W(O)}else o(g);v=l(g)}if(v!==null)I=!0;else{var de=l(x);de!==null&&Z(N,de.startTime-O),I=!1}}break e}finally{v=null,b=H,T=!1}I=void 0}}finally{I?te():J=!1}}}var te;if(typeof E=="function")te=function(){E(re)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,X=me.port2;me.port1.onmessage=re,te=function(){X.postMessage(null)}}else te=function(){z(re,0)};function Z(O,I){oe=z(function(){O(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var H=b;b=I;try{return O()}finally{b=H}},s.unstable_requestPaint=function(){_=!0},s.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=b;b=O;try{return I()}finally{b=H}},s.unstable_scheduleCallback=function(O,I,H){var ee=s.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ee+H:ee):H=ee,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=H+ie,O={id:p++,callback:I,priorityLevel:O,startTime:H,expirationTime:ie,sortIndex:-1},H>ee?(O.sortIndex=H,i(x,O),l(g)===null&&O===l(x)&&(A?(S(oe),oe=-1):A=!0,Z(N,H-ee))):(O.sortIndex=ie,i(g,O),C||T||(C=!0,J||(J=!0,te()))),O},s.unstable_shouldYield=P,s.unstable_wrapCallback=function(O){var I=b;return function(){var H=b;b=I;try{return O.apply(this,arguments)}finally{b=H}}}}(Dd)),Dd}var sx;function i1(){return sx||(sx=1,kd.exports=s1()),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function r1(){if(ix)return tr;ix=1;var s=i1(),i=Lj(),l=Vj();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(o(188))}function g(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,r=n;;){var c=a.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===a)return m(c),e;if(u===r)return m(c),n;u=u.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=u;else{for(var y=!1,j=c.child;j;){if(j===a){y=!0,a=c,r=u;break}if(j===r){y=!0,r=c,a=u;break}j=j.sibling}if(!y){for(j=u.child;j;){if(j===a){y=!0,a=u,r=c;break}if(j===r){y=!0,r=u,a=c;break}j=j.sibling}if(!y)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),E=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case J:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case E:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case W:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return n=e.displayName||null,n!==null?n:X(e.type)||"Memo";case U:n=e._payload,e=e._init;try{return X(e(n))}catch{}}return null}var Z=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ee=[],ie=-1;function de(e){return{current:e}}function ce(e){0>ie||(e.current=ee[ie],ee[ie]=null,ie--)}function be(e,n){ie++,ee[ie]=e.current,e.current=n}var Re=de(null),le=de(null),pe=de(null),ne=de(null);function he(e,n){switch(be(pe,n),be(le,e),be(Re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jg(n),e=Sg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ce(Re),be(Re,e)}function we(){ce(Re),ce(le),ce(pe)}function Ge(e){e.memoizedState!==null&&be(ne,e);var n=Re.current,a=Sg(n,e.type);n!==a&&(be(le,e),be(Re,a))}function Be(e){le.current===e&&(ce(Re),ce(le)),ne.current===e&&(ce(ne),Ki._currentValue=H)}var We=Object.prototype.hasOwnProperty,jn=s.unstable_scheduleCallback,ai=s.unstable_cancelCallback,Dy=s.unstable_shouldYield,Ny=s.unstable_requestPaint,Sn=s.unstable_now,My=s.unstable_getCurrentPriorityLevel,ef=s.unstable_ImmediatePriority,tf=s.unstable_UserBlockingPriority,Cr=s.unstable_NormalPriority,Oy=s.unstable_LowPriority,nf=s.unstable_IdlePriority,By=s.log,Ly=s.unstable_setDisableYieldValue,si=null,Pt=null;function In(e){if(typeof By=="function"&&Ly(e),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(si,e)}catch{}}var Ht=Math.clz32?Math.clz32:Wy,Vy=Math.log,Uy=Math.LN2;function Wy(e){return e>>>=0,e===0?32:31-(Vy(e)/Uy|0)|0}var _r=256,Ar=4194304;function Ea(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Er(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var j=r&134217727;return j!==0?(r=j&~u,r!==0?c=Ea(r):(y&=j,y!==0?c=Ea(y):a||(a=j&~e,a!==0&&(c=Ea(a))))):(j=r&~u,j!==0?c=Ea(j):y!==0?c=Ea(y):a||(a=r&~e,a!==0&&(c=Ea(a)))),c===0?0:n!==0&&n!==c&&!(n&u)&&(u=c&-c,a=n&-n,u>=a||u===32&&(a&4194048)!==0)?n:c}function ii(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qy(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(){var e=_r;return _r<<=1,!(_r&4194048)&&(_r=256),e}function sf(){var e=Ar;return Ar<<=1,!(Ar&62914560)&&(Ar=4194304),e}function xo(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ri(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Py(e,n,a,r,c,u){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var j=e.entanglements,R=e.expirationTimes,q=e.hiddenUpdates;for(a=y&~a;0<a;){var K=31-Ht(a),$=1<<K;j[K]=0,R[K]=-1;var F=q[K];if(F!==null)for(q[K]=null,K=0;K<F.length;K++){var Y=F[K];Y!==null&&(Y.lane&=-536870913)}a&=~$}r!==0&&rf(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(y&~n))}function rf(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ht(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&4194090}function lf(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-Ht(a),c=1<<r;c&n|e[r]&n&&(e[r]|=n),a&=~c}}function po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yo(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function of(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:qg(e.type))}function Hy(e,n){var a=I.p;try{return I.p=e,n()}finally{I.p=a}}var Qn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Qn,kt="__reactProps$"+Qn,rs="__reactContainer$"+Qn,vo="__reactEvents$"+Qn,Fy="__reactListeners$"+Qn,Yy="__reactHandles$"+Qn,cf="__reactResources$"+Qn,li="__reactMarker$"+Qn;function bo(e){delete e[Ct],delete e[kt],delete e[vo],delete e[Fy],delete e[Yy]}function ls(e){var n=e[Ct];if(n)return n;for(var a=e.parentNode;a;){if(n=a[rs]||a[Ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=_g(e);e!==null;){if(a=e[Ct])return a;e=_g(e)}return n}e=a,a=e.parentNode}return null}function os(e){if(e=e[Ct]||e[rs]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function oi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function cs(e){var n=e[cf];return n||(n=e[cf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(e){e[li]=!0}var df=new Set,uf={};function Ra(e,n){ds(e,n),ds(e+"Capture",n)}function ds(e,n){for(uf[e]=n,e=0;e<n.length;e++)df.add(n[e])}var Gy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ff={},hf={};function Jy(e){return We.call(hf,e)?!0:We.call(ff,e)?!1:Gy.test(e)?hf[e]=!0:(ff[e]=!0,!1)}function Rr(e,n,a){if(Jy(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function zr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Dn(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}var jo,mf;function us(e){if(jo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jo=n&&n[1]||"",mf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+e+mf}var So=!1;function wo(e,n){if(!e||So)return"";So=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Y){var F=Y}Reflect.construct(e,[],$)}else{try{$.call()}catch(Y){F=Y}e.call($.prototype)}}else{try{throw Error()}catch(Y){F=Y}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),y=u[0],j=u[1];if(y&&j){var R=y.split(`
`),q=j.split(`
`);for(c=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(r===R.length||c===q.length)for(r=R.length-1,c=q.length-1;1<=r&&0<=c&&R[r]!==q[c];)c--;for(;1<=r&&0<=c;r--,c--)if(R[r]!==q[c]){if(r!==1||c!==1)do if(r--,c--,0>c||R[r]!==q[c]){var K=`
`+R[r].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=r&&0<=c);break}}}finally{So=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?us(a):""}function Zy(e){switch(e.tag){case 26:case 27:case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return wo(e.type,!1);case 11:return wo(e.type.render,!1);case 1:return wo(e.type,!0);case 31:return us("Activity");default:return""}}function gf(e){try{var n="";do n+=Zy(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xy(e){var n=xf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,u=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,u.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function kr(e){e._valueTracker||(e._valueTracker=Xy(e))}function pf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=xf(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function Dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ky=/[\n"\\]/g;function an(e){return e.replace(Ky,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function To(e,n,a,r,c,u,y,j){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Co(e,y,nn(n)):a!=null?Co(e,y,nn(a)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+nn(j):e.removeAttribute("name")}function yf(e,n,a,r,c,u,y,j){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),n!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||n!=null))return;a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,j||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=j?e.checked:!!r,e.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Co(e,n,a){n==="number"&&Dr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fs(e,n,a,r){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function vf(e,n,a){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+nn(a):""}function bf(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(o(92));if(Z(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=nn(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r)}function hs(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||Iy.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Sf(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&a[c]!==r&&jf(e,c,r)}else for(var u in n)n.hasOwnProperty(u)&&jf(e,u,n[u])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(e){return $y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ao=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,gs=null;function wf(e){var n=os(e);if(n&&(e=n.stateNode)){var a=e[kt]||null;e:switch(e=n.stateNode,n.type){case"input":if(To(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var c=r[kt]||null;if(!c)throw Error(o(90));To(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&pf(r)}break e;case"textarea":vf(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&fs(e,!!a.multiple,n,!1)}}}var Ro=!1;function Tf(e,n,a){if(Ro)return e(n,a);Ro=!0;try{var r=e(n);return r}finally{if(Ro=!1,(ms!==null||gs!==null)&&(yl(),ms&&(n=ms,e=gs,gs=ms=null,wf(n),e)))for(n=0;n<e.length;n++)wf(e[n])}}function ci(e,n){var a=e.stateNode;if(a===null)return null;var r=a[kt]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=!1;if(Nn)try{var di={};Object.defineProperty(di,"passive",{get:function(){zo=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{zo=!1}var $n=null,ko=null,Mr=null;function Cf(){if(Mr)return Mr;var e,n=ko,a=n.length,r,c="value"in $n?$n.value:$n.textContent,u=c.length;for(e=0;e<a&&n[e]===c[e];e++);var y=a-e;for(r=1;r<=y&&n[a-r]===c[u-r];r++);return Mr=c.slice(e,1<r?1-r:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Br(){return!0}function _f(){return!1}function Dt(e){function n(a,r,c,u,y){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(a=e[j],this[j]=a?a(u):u[j]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Br:_f,this.isPropagationStopped=_f,this}return p(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),n}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=Dt(za),ui=p({},za,{view:0,detail:0}),ev=Dt(ui),Do,No,fi,Vr=p({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Do=e.screenX-fi.screenX,No=e.screenY-fi.screenY):No=Do=0,fi=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Af=Dt(Vr),tv=p({},Vr,{dataTransfer:0}),nv=Dt(tv),av=p({},ui,{relatedTarget:0}),Mo=Dt(av),sv=p({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),iv=Dt(sv),rv=p({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lv=Dt(rv),ov=p({},za,{data:0}),Ef=Dt(ov),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uv[e])?!!n[e]:!1}function Oo(){return fv}var hv=p({},ui,{key:function(e){if(e.key){var n=cv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mv=Dt(hv),gv=p({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Dt(gv),xv=p({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),pv=Dt(xv),yv=p({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),vv=Dt(yv),bv=p({},Vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jv=Dt(bv),Sv=p({},za,{newState:0,oldState:0}),wv=Dt(Sv),Tv=[9,13,27,32],Bo=Nn&&"CompositionEvent"in window,hi=null;Nn&&"documentMode"in document&&(hi=document.documentMode);var Cv=Nn&&"TextEvent"in window&&!hi,zf=Nn&&(!Bo||hi&&8<hi&&11>=hi),kf=" ",Df=!1;function Nf(e,n){switch(e){case"keyup":return Tv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function _v(e,n){switch(e){case"compositionend":return Mf(n);case"keypress":return n.which!==32?null:(Df=!0,kf);case"textInput":return e=n.data,e===kf&&Df?null:e;default:return null}}function Av(e,n){if(xs)return e==="compositionend"||!Bo&&Nf(e,n)?(e=Cf(),Mr=ko=$n=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zf&&n.locale!=="ko"?null:n.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Of(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ev[e.type]:n==="textarea"}function Bf(e,n,a,r){ms?gs?gs.push(r):gs=[r]:ms=r,n=Tl(n,"onChange"),0<n.length&&(a=new Lr("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var mi=null,gi=null;function Rv(e){xg(e,0)}function Ur(e){var n=oi(e);if(pf(n))return e}function Lf(e,n){if(e==="change")return n}var Vf=!1;if(Nn){var Lo;if(Nn){var Vo="oninput"in document;if(!Vo){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),Vo=typeof Uf.oninput=="function"}Lo=Vo}else Lo=!1;Vf=Lo&&(!document.documentMode||9<document.documentMode)}function Wf(){mi&&(mi.detachEvent("onpropertychange",qf),gi=mi=null)}function qf(e){if(e.propertyName==="value"&&Ur(gi)){var n=[];Bf(n,gi,e,Eo(e)),Tf(Rv,n)}}function zv(e,n,a){e==="focusin"?(Wf(),mi=n,gi=a,mi.attachEvent("onpropertychange",qf)):e==="focusout"&&Wf()}function kv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ur(gi)}function Dv(e,n){if(e==="click")return Ur(n)}function Nv(e,n){if(e==="input"||e==="change")return Ur(n)}function Mv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ft=typeof Object.is=="function"?Object.is:Mv;function xi(e,n){if(Ft(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!We.call(n,c)||!Ft(e[c],n[c]))return!1}return!0}function Pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hf(e,n){var a=Pf(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pf(a)}}function Ff(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ff(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Dr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Dr(e.document)}return n}function Uo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Ov=Nn&&"documentMode"in document&&11>=document.documentMode,ps=null,Wo=null,pi=null,qo=!1;function Gf(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qo||ps==null||ps!==Dr(r)||(r=ps,"selectionStart"in r&&Uo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pi&&xi(pi,r)||(pi=r,r=Tl(Wo,"onSelect"),0<r.length&&(n=new Lr("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=ps)))}function ka(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ys={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Po={},Jf={};Nn&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Da(e){if(Po[e])return Po[e];if(!ys[e])return e;var n=ys[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jf)return Po[e]=n[a];return e}var Zf=Da("animationend"),Xf=Da("animationiteration"),Kf=Da("animationstart"),Bv=Da("transitionrun"),Lv=Da("transitionstart"),Vv=Da("transitioncancel"),If=Da("transitionend"),Qf=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function mn(e,n){Qf.set(e,n),Ra(n,[e])}var $f=new WeakMap;function sn(e,n){if(typeof e=="object"&&e!==null){var a=$f.get(e);return a!==void 0?a:(n={value:e,source:n,stack:gf(n)},$f.set(e,n),n)}return{value:e,source:n,stack:gf(n)}}var rn=[],vs=0,Fo=0;function Wr(){for(var e=vs,n=Fo=vs=0;n<e;){var a=rn[n];rn[n++]=null;var r=rn[n];rn[n++]=null;var c=rn[n];rn[n++]=null;var u=rn[n];if(rn[n++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}u!==0&&eh(a,c,u)}}function qr(e,n,a,r){rn[vs++]=e,rn[vs++]=n,rn[vs++]=a,rn[vs++]=r,Fo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Yo(e,n,a,r){return qr(e,n,a,r),Pr(e)}function bs(e,n){return qr(e,null,null,n),Pr(e)}function eh(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,u=e.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&n!==null&&(c=31-Ht(a),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=a|536870912),u):null}function Pr(e){if(50<Pi)throw Pi=0,Ic=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var js={};function Uv(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,n,a,r){return new Uv(e,n,a,r)}function Go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,n){var a=e.alternate;return a===null?(a=Yt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function th(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hr(e,n,a,r,c,u){var y=0;if(r=e,typeof e=="function")Go(e)&&(y=1);else if(typeof e=="string")y=qb(e,a,Re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=Yt(31,a,n,c),e.elementType=ae,e.lanes=u,e;case C:return Na(a.children,c,u,n);case A:y=8,c|=24;break;case _:return e=Yt(12,a,n,c|2),e.elementType=_,e.lanes=u,e;case N:return e=Yt(13,a,n,c),e.elementType=N,e.lanes=u,e;case J:return e=Yt(19,a,n,c),e.elementType=J,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:case E:y=10;break e;case S:y=9;break e;case W:y=11;break e;case oe:y=14;break e;case U:y=16,r=null;break e}y=29,a=Error(o(130,e===null?"null":typeof e,"")),r=null}return n=Yt(y,a,n,c),n.elementType=e,n.type=r,n.lanes=u,n}function Na(e,n,a,r){return e=Yt(7,e,r,n),e.lanes=a,e}function Jo(e,n,a){return e=Yt(6,e,null,n),e.lanes=a,e}function Zo(e,n,a){return n=Yt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ss=[],ws=0,Fr=null,Yr=0,ln=[],on=0,Ma=null,On=1,Bn="";function Oa(e,n){Ss[ws++]=Yr,Ss[ws++]=Fr,Fr=e,Yr=n}function nh(e,n,a){ln[on++]=On,ln[on++]=Bn,ln[on++]=Ma,Ma=e;var r=On;e=Bn;var c=32-Ht(r)-1;r&=~(1<<c),a+=1;var u=32-Ht(n)+c;if(30<u){var y=c-c%5;u=(r&(1<<y)-1).toString(32),r>>=y,c-=y,On=1<<32-Ht(n)+c|a<<c|r,Bn=u+e}else On=1<<u|a<<c|r,Bn=e}function Xo(e){e.return!==null&&(Oa(e,1),nh(e,1,0))}function Ko(e){for(;e===Fr;)Fr=Ss[--ws],Ss[ws]=null,Yr=Ss[--ws],Ss[ws]=null;for(;e===Ma;)Ma=ln[--on],ln[on]=null,Bn=ln[--on],ln[on]=null,On=ln[--on],ln[on]=null}var Rt=null,$e=null,Me=!1,Ba=null,wn=!1,Io=Error(o(519));function La(e){var n=Error(o(418,""));throw bi(sn(n,e)),Io}function ah(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[Ct]=e,n[kt]=r,a){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(a=0;a<Fi.length;a++)Ae(Fi[a],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),yf(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),kr(n);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),bf(n,r.value,r.defaultValue,r.children),kr(n)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||bg(n.textContent,a)?(r.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),r.onScroll!=null&&Ae("scroll",n),r.onScrollEnd!=null&&Ae("scrollend",n),r.onClick!=null&&(n.onclick=Cl),n=!0):n=!1,n||La(e)}function sh(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Rt=Rt.return}}function yi(e){if(e!==Rt)return!1;if(!Me)return sh(e),Me=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hd(e.type,e.memoizedProps)),a=!a),a&&$e&&La(e),sh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){$e=xn(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}$e=null}}else n===27?(n=$e,ga(e.type)?(e=pd,pd=null,$e=e):$e=n):$e=Rt?xn(e.stateNode.nextSibling):null;return!0}function vi(){$e=Rt=null,Me=!1}function ih(){var e=Ba;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Ba=null),e}function bi(e){Ba===null?Ba=[e]:Ba.push(e)}var Qo=de(null),Va=null,Ln=null;function ea(e,n,a){be(Qo,n._currentValue),n._currentValue=a}function Vn(e){e._currentValue=Qo.current,ce(Qo)}function $o(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function ec(e,n,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var y=c.child;u=u.firstContext;e:for(;u!==null;){var j=u;u=c;for(var R=0;R<n.length;R++)if(j.context===n[R]){u.lanes|=a,j=u.alternate,j!==null&&(j.lanes|=a),$o(u.return,a,e),r||(y=null);break e}u=j.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(o(341));y.lanes|=a,u=y.alternate,u!==null&&(u.lanes|=a),$o(y,a,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ji(e,n,a,r){e=null;for(var c=n,u=!1;c!==null;){if(!u){if(c.flags&524288)u=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var j=c.type;Ft(c.pendingProps.value,y.value)||(e!==null?e.push(j):e=[j])}}else if(c===ne.current){if(y=c.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}c=c.return}e!==null&&ec(n,e,a,r),n.flags|=262144}function Gr(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){Va=e,Ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return rh(Va,e)}function Jr(e,n){return Va===null&&Ua(e),rh(e,n)}function rh(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ln===null){if(e===null)throw Error(o(308));Ln=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ln=Ln.next=n;return a}var Wv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},qv=s.unstable_scheduleCallback,Pv=s.unstable_NormalPriority,dt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tc(){return{controller:new Wv,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&qv(Pv,function(){e.controller.abort()})}var wi=null,nc=0,Ts=0,Cs=null;function Hv(e,n){if(wi===null){var a=wi=[];nc=0,Ts=sd(),Cs={status:"pending",value:void 0,then:function(r){a.push(r)}}}return nc++,n.then(lh,lh),n}function lh(){if(--nc===0&&wi!==null){Cs!==null&&(Cs.status="fulfilled");var e=wi;wi=null,Ts=0,Cs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Fv(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var oh=O.S;O.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Hv(e,n),oh!==null&&oh(e,n)};var Wa=de(null);function ac(){var e=Wa.current;return e!==null?e:Ye.pooledCache}function Zr(e,n){n===null?be(Wa,Wa.current):be(Wa,n.pool)}function ch(){var e=ac();return e===null?null:{parent:dt._currentValue,pool:e}}var Ti=Error(o(460)),dh=Error(o(474)),Xr=Error(o(542)),sc={then:function(){}};function uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kr(){}function fh(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Kr,Kr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mh(e),e;default:if(typeof n.status=="string")n.then(Kr,Kr);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mh(e),e}throw Ci=n,Ti}}var Ci=null;function hh(){if(Ci===null)throw Error(o(459));var e=Ci;return Ci=null,e}function mh(e){if(e===Ti||e===Xr)throw Error(o(483))}var ta=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Pr(e),eh(e,null,a),n}return qr(e,r,n,a),Pr(e)}function _i(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,lf(e,a)}}function lc(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?c=u=y:u=u.next=y,a=a.next}while(a!==null);u===null?c=u=n:u=u.next=n}else c=u=n;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var oc=!1;function Ai(){if(oc){var e=Cs;if(e!==null)throw e}}function Ei(e,n,a,r){oc=!1;var c=e.updateQueue;ta=!1;var u=c.firstBaseUpdate,y=c.lastBaseUpdate,j=c.shared.pending;if(j!==null){c.shared.pending=null;var R=j,q=R.next;R.next=null,y===null?u=q:y.next=q,y=R;var K=e.alternate;K!==null&&(K=K.updateQueue,j=K.lastBaseUpdate,j!==y&&(j===null?K.firstBaseUpdate=q:j.next=q,K.lastBaseUpdate=R))}if(u!==null){var $=c.baseState;y=0,K=q=R=null,j=u;do{var F=j.lane&-536870913,Y=F!==j.lane;if(Y?(Ee&F)===F:(r&F)===F){F!==0&&F===Ts&&(oc=!0),K!==null&&(K=K.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var je=e,xe=j;F=n;var He=a;switch(xe.tag){case 1:if(je=xe.payload,typeof je=="function"){$=je.call(He,$,F);break e}$=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=xe.payload,F=typeof je=="function"?je.call(He,$,F):je,F==null)break e;$=p({},$,F);break e;case 2:ta=!0}}F=j.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=c.callbacks,Y===null?c.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:j.tag,payload:j.payload,callback:j.callback,next:null},K===null?(q=K=Y,R=$):K=K.next=Y,y|=F;if(j=j.next,j===null){if(j=c.shared.pending,j===null)break;Y=j,j=Y.next,Y.next=null,c.lastBaseUpdate=Y,c.shared.pending=null}}while(!0);K===null&&(R=$),c.baseState=R,c.firstBaseUpdate=q,c.lastBaseUpdate=K,u===null&&(c.shared.lanes=0),ua|=y,e.lanes=y,e.memoizedState=$}}function gh(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function xh(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gh(a[e],n)}var _s=de(null),Ir=de(0);function ph(e,n){e=Yn,be(Ir,e),be(_s,n),Yn=e|n.baseLanes}function cc(){be(Ir,Yn),be(_s,_s.current)}function dc(){Yn=Ir.current,ce(_s),ce(Ir)}var sa=0,Te=null,qe=null,ot=null,Qr=!1,As=!1,qa=!1,$r=0,Ri=0,Es=null,Yv=0;function st(){throw Error(o(321))}function uc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ft(e[a],n[a]))return!1;return!0}function fc(e,n,a,r,c,u){return sa=u,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?em:tm,qa=!1,u=a(r,c),qa=!1,As&&(u=vh(n,a,r,c)),yh(e),u}function yh(e){O.H=il;var n=qe!==null&&qe.next!==null;if(sa=0,ot=qe=Te=null,Qr=!1,Ri=0,Es=null,n)throw Error(o(300));e===null||ht||(e=e.dependencies,e!==null&&Gr(e)&&(ht=!0))}function vh(e,n,a,r){Te=e;var c=0;do{if(As&&(Es=null),Ri=0,As=!1,25<=c)throw Error(o(301));if(c+=1,ot=qe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=Qv,u=n(a,r)}while(As);return u}function Gv(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?zi(n):n,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Te.flags|=1024),n}function hc(){var e=$r!==0;return $r=0,e}function mc(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function gc(e){if(Qr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Qr=!1}sa=0,ot=qe=Te=null,As=!1,Ri=$r=0,Es=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Te.memoizedState=ot=e:ot=ot.next=e,ot}function ct(){if(qe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=ot===null?Te.memoizedState:ot.next;if(n!==null)ot=n,qe=e;else{if(e===null)throw Te.alternate===null?Error(o(467)):Error(o(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ot===null?Te.memoizedState=ot=e:ot=ot.next=e}return ot}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zi(e){var n=Ri;return Ri+=1,Es===null&&(Es=[]),e=fh(Es,e,n),n=Te,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?em:tm),e}function el(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zi(e);if(e.$$typeof===E)return _t(e)}throw Error(o(438,String(e)))}function pc(e){var n=null,a=Te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=xc(),Te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=P;return n.index++,a}function Un(e,n){return typeof n=="function"?n(e):n}function tl(e){var n=ct();return yc(n,qe,e)}function yc(e,n,a){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var y=c.next;c.next=u.next,u.next=y}n.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{n=c.next;var j=y=null,R=null,q=n,K=!1;do{var $=q.lane&-536870913;if($!==q.lane?(Ee&$)===$:(sa&$)===$){var F=q.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),$===Ts&&(K=!0);else if((sa&F)===F){q=q.next,F===Ts&&(K=!0);continue}else $={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(j=R=$,y=u):R=R.next=$,Te.lanes|=F,ua|=F;$=q.action,qa&&a(u,$),u=q.hasEagerState?q.eagerState:a(u,$)}else F={lane:$,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(j=R=F,y=u):R=R.next=F,Te.lanes|=$,ua|=$;q=q.next}while(q!==null&&q!==n);if(R===null?y=u:R.next=j,!Ft(u,e.memoizedState)&&(ht=!0,K&&(a=Cs,a!==null)))throw a;e.memoizedState=u,e.baseState=y,e.baseQueue=R,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function vc(e){var n=ct(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,u=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do u=e(u,y.action),y=y.next;while(y!==c);Ft(u,n.memoizedState)||(ht=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),a.lastRenderedState=u}return[u,r]}function bh(e,n,a){var r=Te,c=ct(),u=Me;if(u){if(a===void 0)throw Error(o(407));a=a()}else a=n();var y=!Ft((qe||c).memoizedState,a);y&&(c.memoizedState=a,ht=!0),c=c.queue;var j=wh.bind(null,r,c,e);if(ki(2048,8,j,[e]),c.getSnapshot!==n||y||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Rs(9,nl(),Sh.bind(null,r,c,a,n),null),Ye===null)throw Error(o(349));u||sa&124||jh(r,n,a)}return a}function jh(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Te.updateQueue,n===null?(n=xc(),Te.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sh(e,n,a,r){n.value=a,n.getSnapshot=r,Th(n)&&Ch(e)}function wh(e,n,a){return a(function(){Th(n)&&Ch(e)})}function Th(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ft(e,a)}catch{return!0}}function Ch(e){var n=bs(e,2);n!==null&&Kt(n,e,2)}function bc(e){var n=Nt();if(typeof e=="function"){var a=e;if(e=a(),qa){In(!0);try{a()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},n}function _h(e,n,a,r){return e.baseState=a,yc(e,qe,typeof r=="function"?r:Un)}function Jv(e,n,a,r,c){if(sl(e))throw Error(o(485));if(e=n.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){u.listeners.push(y)}};O.T!==null?a(!0):u.isTransition=!1,r(u),a=n.pending,a===null?(u.next=n.pending=u,Ah(n,u)):(u.next=a.next,n.pending=a.next=u)}}function Ah(e,n){var a=n.action,r=n.payload,c=e.state;if(n.isTransition){var u=O.T,y={};O.T=y;try{var j=a(c,r),R=O.S;R!==null&&R(y,j),Eh(e,n,j)}catch(q){jc(e,n,q)}finally{O.T=u}}else try{u=a(c,r),Eh(e,n,u)}catch(q){jc(e,n,q)}}function Eh(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Rh(e,n,r)},function(r){return jc(e,n,r)}):Rh(e,n,a)}function Rh(e,n,a){n.status="fulfilled",n.value=a,zh(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ah(e,a)))}function jc(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,zh(n),n=n.next;while(n!==r)}e.action=null}function zh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kh(e,n){return n}function Dh(e,n){if(Me){var a=Ye.formState;if(a!==null){e:{var r=Te;if(Me){if($e){t:{for(var c=$e,u=wn;c.nodeType!==8;){if(!u){c=null;break t}if(c=xn(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){$e=xn(c.nextSibling),r=c.data==="F!";break e}}La(r)}r=!1}r&&(n=a[0])}}return a=Nt(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:n},a.queue=r,a=Ih.bind(null,Te,r),r.dispatch=a,r=bc(!1),u=_c.bind(null,Te,!1,r.queue),r=Nt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,a=Jv.bind(null,Te,c,u,a),c.dispatch=a,r.memoizedState=e,[n,a,!1]}function Nh(e){var n=ct();return Mh(n,qe,e)}function Mh(e,n,a){if(n=yc(e,n,kh)[0],e=tl(Un)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=zi(n)}catch(y){throw y===Ti?Xr:y}else r=n;n=ct();var c=n.queue,u=c.dispatch;return a!==n.memoizedState&&(Te.flags|=2048,Rs(9,nl(),Zv.bind(null,c,a),null)),[r,u,e]}function Zv(e,n){e.action=n}function Oh(e){var n=ct(),a=qe;if(a!==null)return Mh(n,a,e);ct(),n=n.memoizedState,a=ct();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function Rs(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=Te.updateQueue,n===null&&(n=xc(),Te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function nl(){return{destroy:void 0,resource:void 0}}function Bh(){return ct().memoizedState}function al(e,n,a,r){var c=Nt();r=r===void 0?null:r,Te.flags|=e,c.memoizedState=Rs(1|n,nl(),a,r)}function ki(e,n,a,r){var c=ct();r=r===void 0?null:r;var u=c.memoizedState.inst;qe!==null&&r!==null&&uc(r,qe.memoizedState.deps)?c.memoizedState=Rs(n,u,a,r):(Te.flags|=e,c.memoizedState=Rs(1|n,u,a,r))}function Lh(e,n){al(8390656,8,e,n)}function Vh(e,n){ki(2048,8,e,n)}function Uh(e,n){return ki(4,2,e,n)}function Wh(e,n){return ki(4,4,e,n)}function qh(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ph(e,n,a){a=a!=null?a.concat([e]):null,ki(4,4,qh.bind(null,n,e),a)}function Sc(){}function Hh(e,n){var a=ct();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&uc(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function Fh(e,n){var a=ct();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&uc(n,r[1]))return r[0];if(r=e(),qa){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[r,n],r}function wc(e,n,a){return a===void 0||sa&1073741824?e.memoizedState=n:(e.memoizedState=a,e=Jm(),Te.lanes|=e,ua|=e,a)}function Yh(e,n,a,r){return Ft(a,n)?a:_s.current!==null?(e=wc(e,a,r),Ft(e,n)||(ht=!0),e):sa&42?(e=Jm(),Te.lanes|=e,ua|=e,n):(ht=!0,e.memoizedState=a)}function Gh(e,n,a,r,c){var u=I.p;I.p=u!==0&&8>u?u:8;var y=O.T,j={};O.T=j,_c(e,!1,n,a);try{var R=c(),q=O.S;if(q!==null&&q(j,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=Fv(R,r);Di(e,n,K,Xt(e))}else Di(e,n,r,Xt(e))}catch($){Di(e,n,{then:function(){},status:"rejected",reason:$},Xt())}finally{I.p=u,O.T=y}}function Xv(){}function Tc(e,n,a,r){if(e.tag!==5)throw Error(o(476));var c=Jh(e).queue;Gh(e,c,n,H,a===null?Xv:function(){return Zh(e),a(r)})}function Jh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:H},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zh(e){var n=Jh(e).next.queue;Di(e,n,{},Xt())}function Cc(){return _t(Ki)}function Xh(){return ct().memoizedState}function Kh(){return ct().memoizedState}function Kv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Xt();e=na(a);var r=aa(n,e,a);r!==null&&(Kt(r,n,a),_i(r,n,a)),n={cache:tc()},e.payload=n;return}n=n.return}}function Iv(e,n,a){var r=Xt();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sl(e)?Qh(n,a):(a=Yo(e,n,a,r),a!==null&&(Kt(a,e,r),$h(a,n,r)))}function Ih(e,n,a){var r=Xt();Di(e,n,a,r)}function Di(e,n,a,r){var c={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sl(e))Qh(n,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var y=n.lastRenderedState,j=u(y,a);if(c.hasEagerState=!0,c.eagerState=j,Ft(j,y))return qr(e,n,c,0),Ye===null&&Wr(),!1}catch{}finally{}if(a=Yo(e,n,c,r),a!==null)return Kt(a,e,r),$h(a,n,r),!0}return!1}function _c(e,n,a,r){if(r={lane:2,revertLane:sd(),action:r,hasEagerState:!1,eagerState:null,next:null},sl(e)){if(n)throw Error(o(479))}else n=Yo(e,a,r,2),n!==null&&Kt(n,e,2)}function sl(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Qh(e,n){As=Qr=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function $h(e,n,a){if(a&4194048){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,lf(e,a)}}var il={readContext:_t,use:el,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},em={readContext:_t,use:el,useCallback:function(e,n){return Nt().memoizedState=[e,n===void 0?null:n],e},useContext:_t,useEffect:Lh,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,al(4194308,4,qh.bind(null,n,e),a)},useLayoutEffect:function(e,n){return al(4194308,4,e,n)},useInsertionEffect:function(e,n){al(4,2,e,n)},useMemo:function(e,n){var a=Nt();n=n===void 0?null:n;var r=e();if(qa){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=Nt();if(a!==void 0){var c=a(n);if(qa){In(!0);try{a(n)}finally{In(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Iv.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var n=Nt();return e={current:e},n.memoizedState=e},useState:function(e){e=bc(e);var n=e.queue,a=Ih.bind(null,Te,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Sc,useDeferredValue:function(e,n){var a=Nt();return wc(a,e,n)},useTransition:function(){var e=bc(!1);return e=Gh.bind(null,Te,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=Te,c=Nt();if(Me){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Ye===null)throw Error(o(349));Ee&124||jh(r,n,a)}c.memoizedState=a;var u={value:a,getSnapshot:n};return c.queue=u,Lh(wh.bind(null,r,u,e),[e]),r.flags|=2048,Rs(9,nl(),Sh.bind(null,r,u,a,n),null),a},useId:function(){var e=Nt(),n=Ye.identifierPrefix;if(Me){var a=Bn,r=On;a=(r&~(1<<32-Ht(r)-1)).toString(32)+a,n=""+n+"R"+a,a=$r++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=Yv++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Cc,useFormState:Dh,useActionState:Dh,useOptimistic:function(e){var n=Nt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=_c.bind(null,Te,!0,a),a.dispatch=n,[e,n]},useMemoCache:pc,useCacheRefresh:function(){return Nt().memoizedState=Kv.bind(null,Te)}},tm={readContext:_t,use:el,useCallback:Hh,useContext:_t,useEffect:Vh,useImperativeHandle:Ph,useInsertionEffect:Uh,useLayoutEffect:Wh,useMemo:Fh,useReducer:tl,useRef:Bh,useState:function(){return tl(Un)},useDebugValue:Sc,useDeferredValue:function(e,n){var a=ct();return Yh(a,qe.memoizedState,e,n)},useTransition:function(){var e=tl(Un)[0],n=ct().memoizedState;return[typeof e=="boolean"?e:zi(e),n]},useSyncExternalStore:bh,useId:Xh,useHostTransitionStatus:Cc,useFormState:Nh,useActionState:Nh,useOptimistic:function(e,n){var a=ct();return _h(a,qe,e,n)},useMemoCache:pc,useCacheRefresh:Kh},Qv={readContext:_t,use:el,useCallback:Hh,useContext:_t,useEffect:Vh,useImperativeHandle:Ph,useInsertionEffect:Uh,useLayoutEffect:Wh,useMemo:Fh,useReducer:vc,useRef:Bh,useState:function(){return vc(Un)},useDebugValue:Sc,useDeferredValue:function(e,n){var a=ct();return qe===null?wc(a,e,n):Yh(a,qe.memoizedState,e,n)},useTransition:function(){var e=vc(Un)[0],n=ct().memoizedState;return[typeof e=="boolean"?e:zi(e),n]},useSyncExternalStore:bh,useId:Xh,useHostTransitionStatus:Cc,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,n){var a=ct();return qe!==null?_h(a,qe,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pc,useCacheRefresh:Kh},zs=null,Ni=0;function rl(e){var n=Ni;return Ni+=1,zs===null&&(zs=[]),fh(zs,e,n)}function Mi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ll(e,n){throw n.$$typeof===v?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function nm(e){var n=e._init;return n(e._payload)}function am(e){function n(M,D){if(e){var V=M.deletions;V===null?(M.deletions=[D],M.flags|=16):V.push(D)}}function a(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function r(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=Mn(M,D),M.index=0,M.sibling=null,M}function u(M,D,V){return M.index=V,e?(V=M.alternate,V!==null?(V=V.index,V<D?(M.flags|=67108866,D):V):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function j(M,D,V,Q){return D===null||D.tag!==6?(D=Jo(V,M.mode,Q),D.return=M,D):(D=c(D,V),D.return=M,D)}function R(M,D,V,Q){var ue=V.type;return ue===C?K(M,D,V.props.children,Q,V.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===U&&nm(ue)===D.type)?(D=c(D,V.props),Mi(D,V),D.return=M,D):(D=Hr(V.type,V.key,V.props,null,M.mode,Q),Mi(D,V),D.return=M,D)}function q(M,D,V,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=Zo(V,M.mode,Q),D.return=M,D):(D=c(D,V.children||[]),D.return=M,D)}function K(M,D,V,Q,ue){return D===null||D.tag!==7?(D=Na(V,M.mode,Q,ue),D.return=M,D):(D=c(D,V),D.return=M,D)}function $(M,D,V){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jo(""+D,M.mode,V),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return V=Hr(D.type,D.key,D.props,null,M.mode,V),Mi(V,D),V.return=M,V;case T:return D=Zo(D,M.mode,V),D.return=M,D;case U:var Q=D._init;return D=Q(D._payload),$(M,D,V)}if(Z(D)||te(D))return D=Na(D,M.mode,V,null),D.return=M,D;if(typeof D.then=="function")return $(M,rl(D),V);if(D.$$typeof===E)return $(M,Jr(M,D),V);ll(M,D)}return null}function F(M,D,V,Q){var ue=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ue!==null?null:j(M,D,""+V,Q);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===ue?R(M,D,V,Q):null;case T:return V.key===ue?q(M,D,V,Q):null;case U:return ue=V._init,V=ue(V._payload),F(M,D,V,Q)}if(Z(V)||te(V))return ue!==null?null:K(M,D,V,Q,null);if(typeof V.then=="function")return F(M,D,rl(V),Q);if(V.$$typeof===E)return F(M,D,Jr(M,V),Q);ll(M,V)}return null}function Y(M,D,V,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(V)||null,j(D,M,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return M=M.get(Q.key===null?V:Q.key)||null,R(D,M,Q,ue);case T:return M=M.get(Q.key===null?V:Q.key)||null,q(D,M,Q,ue);case U:var Ce=Q._init;return Q=Ce(Q._payload),Y(M,D,V,Q,ue)}if(Z(Q)||te(Q))return M=M.get(V)||null,K(D,M,Q,ue,null);if(typeof Q.then=="function")return Y(M,D,V,rl(Q),ue);if(Q.$$typeof===E)return Y(M,D,V,Jr(D,Q),ue);ll(D,Q)}return null}function je(M,D,V,Q){for(var ue=null,Ce=null,ge=D,ye=D=0,gt=null;ge!==null&&ye<V.length;ye++){ge.index>ye?(gt=ge,ge=null):gt=ge.sibling;var De=F(M,ge,V[ye],Q);if(De===null){ge===null&&(ge=gt);break}e&&ge&&De.alternate===null&&n(M,ge),D=u(De,D,ye),Ce===null?ue=De:Ce.sibling=De,Ce=De,ge=gt}if(ye===V.length)return a(M,ge),Me&&Oa(M,ye),ue;if(ge===null){for(;ye<V.length;ye++)ge=$(M,V[ye],Q),ge!==null&&(D=u(ge,D,ye),Ce===null?ue=ge:Ce.sibling=ge,Ce=ge);return Me&&Oa(M,ye),ue}for(ge=r(ge);ye<V.length;ye++)gt=Y(ge,M,ye,V[ye],Q),gt!==null&&(e&&gt.alternate!==null&&ge.delete(gt.key===null?ye:gt.key),D=u(gt,D,ye),Ce===null?ue=gt:Ce.sibling=gt,Ce=gt);return e&&ge.forEach(function(ba){return n(M,ba)}),Me&&Oa(M,ye),ue}function xe(M,D,V,Q){if(V==null)throw Error(o(151));for(var ue=null,Ce=null,ge=D,ye=D=0,gt=null,De=V.next();ge!==null&&!De.done;ye++,De=V.next()){ge.index>ye?(gt=ge,ge=null):gt=ge.sibling;var ba=F(M,ge,De.value,Q);if(ba===null){ge===null&&(ge=gt);break}e&&ge&&ba.alternate===null&&n(M,ge),D=u(ba,D,ye),Ce===null?ue=ba:Ce.sibling=ba,Ce=ba,ge=gt}if(De.done)return a(M,ge),Me&&Oa(M,ye),ue;if(ge===null){for(;!De.done;ye++,De=V.next())De=$(M,De.value,Q),De!==null&&(D=u(De,D,ye),Ce===null?ue=De:Ce.sibling=De,Ce=De);return Me&&Oa(M,ye),ue}for(ge=r(ge);!De.done;ye++,De=V.next())De=Y(ge,M,ye,De.value,Q),De!==null&&(e&&De.alternate!==null&&ge.delete(De.key===null?ye:De.key),D=u(De,D,ye),Ce===null?ue=De:Ce.sibling=De,Ce=De);return e&&ge.forEach(function($b){return n(M,$b)}),Me&&Oa(M,ye),ue}function He(M,D,V,Q){if(typeof V=="object"&&V!==null&&V.type===C&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:e:{for(var ue=V.key;D!==null;){if(D.key===ue){if(ue=V.type,ue===C){if(D.tag===7){a(M,D.sibling),Q=c(D,V.props.children),Q.return=M,M=Q;break e}}else if(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===U&&nm(ue)===D.type){a(M,D.sibling),Q=c(D,V.props),Mi(Q,V),Q.return=M,M=Q;break e}a(M,D);break}else n(M,D);D=D.sibling}V.type===C?(Q=Na(V.props.children,M.mode,Q,V.key),Q.return=M,M=Q):(Q=Hr(V.type,V.key,V.props,null,M.mode,Q),Mi(Q,V),Q.return=M,M=Q)}return y(M);case T:e:{for(ue=V.key;D!==null;){if(D.key===ue)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){a(M,D.sibling),Q=c(D,V.children||[]),Q.return=M,M=Q;break e}else{a(M,D);break}else n(M,D);D=D.sibling}Q=Zo(V,M.mode,Q),Q.return=M,M=Q}return y(M);case U:return ue=V._init,V=ue(V._payload),He(M,D,V,Q)}if(Z(V))return je(M,D,V,Q);if(te(V)){if(ue=te(V),typeof ue!="function")throw Error(o(150));return V=ue.call(V),xe(M,D,V,Q)}if(typeof V.then=="function")return He(M,D,rl(V),Q);if(V.$$typeof===E)return He(M,D,Jr(M,V),Q);ll(M,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,D!==null&&D.tag===6?(a(M,D.sibling),Q=c(D,V),Q.return=M,M=Q):(a(M,D),Q=Jo(V,M.mode,Q),Q.return=M,M=Q),y(M)):a(M,D)}return function(M,D,V,Q){try{Ni=0;var ue=He(M,D,V,Q);return zs=null,ue}catch(ge){if(ge===Ti||ge===Xr)throw ge;var Ce=Yt(29,ge,null,M.mode);return Ce.lanes=Q,Ce.return=M,Ce}finally{}}}var ks=am(!0),sm=am(!1),cn=de(null),Tn=null;function ia(e){var n=e.alternate;be(ut,ut.current&1),be(cn,e),Tn===null&&(n===null||_s.current!==null||n.memoizedState!==null)&&(Tn=e)}function im(e){if(e.tag===22){if(be(ut,ut.current),be(cn,e),Tn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Tn=e)}}else ra()}function ra(){be(ut,ut.current),be(cn,cn.current)}function Wn(e){ce(cn),Tn===e&&(Tn=null),ce(ut)}var ut=de(0);function ol(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ac(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:p({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ec={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=Xt(),c=na(r);c.payload=n,a!=null&&(c.callback=a),n=aa(e,c,r),n!==null&&(Kt(n,e,r),_i(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=Xt(),c=na(r);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=aa(e,c,r),n!==null&&(Kt(n,e,r),_i(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Xt(),r=na(a);r.tag=2,n!=null&&(r.callback=n),n=aa(e,r,a),n!==null&&(Kt(n,e,a),_i(n,e,a))}};function rm(e,n,a,r,c,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,y):n.prototype&&n.prototype.isPureReactComponent?!xi(a,r)||!xi(c,u):!0}function lm(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&Ec.enqueueReplaceState(n,n.state,null)}function Pa(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=p({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var cl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function om(e){cl(e)}function cm(e){console.error(e)}function dm(e){cl(e)}function dl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function um(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Rc(e,n,a){return a=na(a),a.tag=3,a.payload={element:null},a.callback=function(){dl(e,n)},a}function fm(e){return e=na(e),e.tag=3,e}function hm(e,n,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){um(n,a,r)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){um(n,a,r),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var j=r.stack;this.componentDidCatch(r.value,{componentStack:j!==null?j:""})})}function $v(e,n,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&ji(n,a,c,!0),a=cn.current,a!==null){switch(a.tag){case 13:return Tn===null?$c():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===sc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),td(e,r,c)),!1;case 22:return a.flags|=65536,r===sc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),td(e,r,c)),!1}throw Error(o(435,a.tag))}return td(e,r,c),$c(),!1}if(Me)return n=cn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Io&&(e=Error(o(422),{cause:r}),bi(sn(e,a)))):(r!==Io&&(n=Error(o(423),{cause:r}),bi(sn(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=sn(r,a),c=Rc(e.stateNode,r,c),lc(e,c),et!==4&&(et=2)),!1;var u=Error(o(520),{cause:r});if(u=sn(u,a),qi===null?qi=[u]:qi.push(u),et!==4&&(et=2),n===null)return!0;r=sn(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Rc(a.stateNode,r,e),lc(a,e),!1;case 1:if(n=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(fa===null||!fa.has(u))))return a.flags|=65536,c&=-c,a.lanes|=c,c=fm(c),hm(c,e,a,r),lc(a,c),!1}a=a.return}while(a!==null);return!1}var mm=Error(o(461)),ht=!1;function vt(e,n,a,r){n.child=e===null?sm(n,null,a,r):ks(n,e.child,a,r)}function gm(e,n,a,r,c){a=a.render;var u=n.ref;if("ref"in r){var y={};for(var j in r)j!=="ref"&&(y[j]=r[j])}else y=r;return Ua(n),r=fc(e,n,a,y,u,c),j=hc(),e!==null&&!ht?(mc(e,n,c),qn(e,n,c)):(Me&&j&&Xo(n),n.flags|=1,vt(e,n,r,c),n.child)}function xm(e,n,a,r,c){if(e===null){var u=a.type;return typeof u=="function"&&!Go(u)&&u.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=u,pm(e,n,u,r,c)):(e=Hr(a.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!Lc(e,c)){var y=u.memoizedProps;if(a=a.compare,a=a!==null?a:xi,a(y,r)&&e.ref===n.ref)return qn(e,n,c)}return n.flags|=1,e=Mn(u,r),e.ref=n.ref,e.return=n,n.child=e}function pm(e,n,a,r,c){if(e!==null){var u=e.memoizedProps;if(xi(u,r)&&e.ref===n.ref)if(ht=!1,n.pendingProps=r=u,Lc(e,c))e.flags&131072&&(ht=!0);else return n.lanes=e.lanes,qn(e,n,c)}return zc(e,n,a,r,c)}function ym(e,n,a){var r=n.pendingProps,c=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(n.flags&128){if(r=u!==null?u.baseLanes|a:a,e!==null){for(c=n.child=e.child,u=0;c!==null;)u=u|c.lanes|c.childLanes,c=c.sibling;n.childLanes=u&~r}else n.childLanes=0,n.child=null;return vm(e,n,r,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zr(n,u!==null?u.cachePool:null),u!==null?ph(n,u):cc(),im(n);else return n.lanes=n.childLanes=536870912,vm(e,n,u!==null?u.baseLanes|a:a,a)}else u!==null?(Zr(n,u.cachePool),ph(n,u),ra(),n.memoizedState=null):(e!==null&&Zr(n,null),cc(),ra());return vt(e,n,c,a),n.child}function vm(e,n,a,r){var c=ac();return c=c===null?null:{parent:dt._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&Zr(n,null),cc(),im(n),e!==null&&ji(e,n,r,!0),null}function ul(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function zc(e,n,a,r,c){return Ua(n),a=fc(e,n,a,r,void 0,c),r=hc(),e!==null&&!ht?(mc(e,n,c),qn(e,n,c)):(Me&&r&&Xo(n),n.flags|=1,vt(e,n,a,c),n.child)}function bm(e,n,a,r,c,u){return Ua(n),n.updateQueue=null,a=vh(n,r,a,c),yh(e),r=hc(),e!==null&&!ht?(mc(e,n,u),qn(e,n,u)):(Me&&r&&Xo(n),n.flags|=1,vt(e,n,a,u),n.child)}function jm(e,n,a,r,c){if(Ua(n),n.stateNode===null){var u=js,y=a.contextType;typeof y=="object"&&y!==null&&(u=_t(y)),u=new a(r,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ec,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=r,u.state=n.memoizedState,u.refs={},ic(n),y=a.contextType,u.context=typeof y=="object"&&y!==null?_t(y):js,u.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ac(n,a,y,r),u.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(y=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),y!==u.state&&Ec.enqueueReplaceState(u,u.state,null),Ei(n,r,u,c),Ai(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){u=n.stateNode;var j=n.memoizedProps,R=Pa(a,j);u.props=R;var q=u.context,K=a.contextType;y=js,typeof K=="object"&&K!==null&&(y=_t(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof u.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,K||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(j||q!==y)&&lm(n,u,r,y),ta=!1;var F=n.memoizedState;u.state=F,Ei(n,r,u,c),Ai(),q=n.memoizedState,j||F!==q||ta?(typeof $=="function"&&(Ac(n,a,$,r),q=n.memoizedState),(R=ta||rm(n,a,R,r,F,q,y))?(K||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=q),u.props=r,u.state=q,u.context=y,r=R):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,rc(e,n),y=n.memoizedProps,K=Pa(a,y),u.props=K,$=n.pendingProps,F=u.context,q=a.contextType,R=js,typeof q=="object"&&q!==null&&(R=_t(q)),j=a.getDerivedStateFromProps,(q=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y!==$||F!==R)&&lm(n,u,r,R),ta=!1,F=n.memoizedState,u.state=F,Ei(n,r,u,c),Ai();var Y=n.memoizedState;y!==$||F!==Y||ta||e!==null&&e.dependencies!==null&&Gr(e.dependencies)?(typeof j=="function"&&(Ac(n,a,j,r),Y=n.memoizedState),(K=ta||rm(n,a,K,r,F,Y,R)||e!==null&&e.dependencies!==null&&Gr(e.dependencies))?(q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,Y,R),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,Y,R)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=Y),u.props=r,u.state=Y,u.context=R,r=K):(typeof u.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),r=!1)}return u=r,ul(e,n),r=(n.flags&128)!==0,u||r?(u=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,e!==null&&r?(n.child=ks(n,e.child,null,c),n.child=ks(n,null,a,c)):vt(e,n,a,c),n.memoizedState=u.state,e=n.child):e=qn(e,n,c),e}function Sm(e,n,a,r){return vi(),n.flags|=256,vt(e,n,a,r),n.child}var kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:ch()}}function Nc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=dn),e}function wm(e,n,a){var r=n.pendingProps,c=!1,u=(n.flags&128)!==0,y;if((y=u)||(y=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Me){if(c?ia(n):ra(),Me){var j=$e,R;if(R=j){e:{for(R=j,j=wn;R.nodeType!==8;){if(!j){j=null;break e}if(R=xn(R.nextSibling),R===null){j=null;break e}}j=R}j!==null?(n.memoizedState={dehydrated:j,treeContext:Ma!==null?{id:On,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},R=Yt(18,null,null,0),R.stateNode=j,R.return=n,n.child=R,Rt=n,$e=null,R=!0):R=!1}R||La(n)}if(j=n.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return xd(j)?n.lanes=32:n.lanes=536870912,null;Wn(n)}return j=r.children,r=r.fallback,c?(ra(),c=n.mode,j=fl({mode:"hidden",children:j},c),r=Na(r,c,a,null),j.return=n,r.return=n,j.sibling=r,n.child=j,c=n.child,c.memoizedState=Dc(a),c.childLanes=Nc(e,y,a),n.memoizedState=kc,r):(ia(n),Mc(n,j))}if(R=e.memoizedState,R!==null&&(j=R.dehydrated,j!==null)){if(u)n.flags&256?(ia(n),n.flags&=-257,n=Oc(e,n,a)):n.memoizedState!==null?(ra(),n.child=e.child,n.flags|=128,n=null):(ra(),c=r.fallback,j=n.mode,r=fl({mode:"visible",children:r.children},j),c=Na(c,j,a,null),c.flags|=2,r.return=n,c.return=n,r.sibling=c,n.child=r,ks(n,e.child,null,a),r=n.child,r.memoizedState=Dc(a),r.childLanes=Nc(e,y,a),n.memoizedState=kc,n=c);else if(ia(n),xd(j)){if(y=j.nextSibling&&j.nextSibling.dataset,y)var q=y.dgst;y=q,r=Error(o(419)),r.stack="",r.digest=y,bi({value:r,source:null,stack:null}),n=Oc(e,n,a)}else if(ht||ji(e,n,a,!1),y=(a&e.childLanes)!==0,ht||y){if(y=Ye,y!==null&&(r=a&-a,r=r&42?1:po(r),r=r&(y.suspendedLanes|a)?0:r,r!==0&&r!==R.retryLane))throw R.retryLane=r,bs(e,r),Kt(y,e,r),mm;j.data==="$?"||$c(),n=Oc(e,n,a)}else j.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,$e=xn(j.nextSibling),Rt=n,Me=!0,Ba=null,wn=!1,e!==null&&(ln[on++]=On,ln[on++]=Bn,ln[on++]=Ma,On=e.id,Bn=e.overflow,Ma=n),n=Mc(n,r.children),n.flags|=4096);return n}return c?(ra(),c=r.fallback,j=n.mode,R=e.child,q=R.sibling,r=Mn(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,q!==null?c=Mn(q,c):(c=Na(c,j,a,null),c.flags|=2),c.return=n,r.return=n,r.sibling=c,n.child=r,r=c,c=n.child,j=e.child.memoizedState,j===null?j=Dc(a):(R=j.cachePool,R!==null?(q=dt._currentValue,R=R.parent!==q?{parent:q,pool:q}:R):R=ch(),j={baseLanes:j.baseLanes|a,cachePool:R}),c.memoizedState=j,c.childLanes=Nc(e,y,a),n.memoizedState=kc,r):(ia(n),a=e.child,e=a.sibling,a=Mn(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Mc(e,n){return n=fl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fl(e,n){return e=Yt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Oc(e,n,a){return ks(n,e.child,null,a),e=Mc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tm(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),$o(e.return,n,a)}function Bc(e,n,a,r,c){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=a,u.tailMode=c)}function Cm(e,n,a){var r=n.pendingProps,c=r.revealOrder,u=r.tail;if(vt(e,n,r.children,a),r=ut.current,r&2)r=r&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,a,n);else if(e.tag===19)Tm(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(be(ut,r),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&ol(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Bc(n,!1,c,a,u);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ol(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Bc(n,!0,a,null,u);break;case"together":Bc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ua|=n.lanes,!(a&n.childLanes))if(e!==null){if(ji(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=Mn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Mn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Lc(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&Gr(e)))}function eb(e,n,a){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),ea(n,dt,e.memoizedState.cache),vi();break;case 27:case 5:Ge(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:ea(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ia(n),n.flags|=128,null):a&n.child.childLanes?wm(e,n,a):(ia(n),e=qn(e,n,a),e!==null?e.sibling:null);ia(n);break;case 19:var c=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(ji(e,n,a,!1),r=(a&n.childLanes)!==0),c){if(r)return Cm(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),be(ut,ut.current),r)break;return null;case 22:case 23:return n.lanes=0,ym(e,n,a);case 24:ea(n,dt,e.memoizedState.cache)}return qn(e,n,a)}function _m(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ht=!0;else{if(!Lc(e,a)&&!(n.flags&128))return ht=!1,eb(e,n,a);ht=!!(e.flags&131072)}else ht=!1,Me&&n.flags&1048576&&nh(n,Yr,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var r=n.elementType,c=r._init;if(r=c(r._payload),n.type=r,typeof r=="function")Go(r)?(e=Pa(r,e),n.tag=1,n=jm(null,n,r,e,a)):(n.tag=0,n=zc(null,n,r,e,a));else{if(r!=null){if(c=r.$$typeof,c===W){n.tag=11,n=gm(null,n,r,e,a);break e}else if(c===oe){n.tag=14,n=xm(null,n,r,e,a);break e}}throw n=X(r)||r,Error(o(306,n,""))}}return n;case 0:return zc(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,c=Pa(r,n.pendingProps),jm(e,n,r,c,a);case 3:e:{if(he(n,n.stateNode.containerInfo),e===null)throw Error(o(387));r=n.pendingProps;var u=n.memoizedState;c=u.element,rc(e,n),Ei(n,r,null,a);var y=n.memoizedState;if(r=y.cache,ea(n,dt,r),r!==u.cache&&ec(n,[dt],a,!0),Ai(),r=y.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Sm(e,n,r,a);break e}else if(r!==c){c=sn(Error(o(424)),n),bi(c),n=Sm(e,n,r,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=xn(e.firstChild),Rt=n,Me=!0,Ba=null,wn=!0,a=sm(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vi(),r===c){n=qn(e,n,a);break e}vt(e,n,r,a)}n=n.child}return n;case 26:return ul(e,n),e===null?(a=zg(n.type,null,n.pendingProps,null))?n.memoizedState=a:Me||(a=n.type,e=n.pendingProps,r=_l(pe.current).createElement(a),r[Ct]=n,r[kt]=e,jt(r,a,e),ft(r),n.stateNode=r):n.memoizedState=zg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ge(n),e===null&&Me&&(r=n.stateNode=Ag(n.type,n.pendingProps,pe.current),Rt=n,wn=!0,c=$e,ga(n.type)?(pd=c,$e=xn(r.firstChild)):$e=c),vt(e,n,n.pendingProps.children,a),ul(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Me&&((c=r=$e)&&(r=Eb(r,n.type,n.pendingProps,wn),r!==null?(n.stateNode=r,Rt=n,$e=xn(r.firstChild),wn=!1,c=!0):c=!1),c||La(n)),Ge(n),c=n.type,u=n.pendingProps,y=e!==null?e.memoizedProps:null,r=u.children,hd(c,u)?r=null:y!==null&&hd(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=fc(e,n,Gv,null,null,a),Ki._currentValue=c),ul(e,n),vt(e,n,r,a),n.child;case 6:return e===null&&Me&&((e=a=$e)&&(a=Rb(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Rt=n,$e=null,e=!0):e=!1),e||La(n)),null;case 13:return wm(e,n,a);case 4:return he(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=ks(n,null,r,a):vt(e,n,r,a),n.child;case 11:return gm(e,n,n.type,n.pendingProps,a);case 7:return vt(e,n,n.pendingProps,a),n.child;case 8:return vt(e,n,n.pendingProps.children,a),n.child;case 12:return vt(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,ea(n,n.type,r.value),vt(e,n,r.children,a),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Ua(n),c=_t(c),r=r(c),n.flags|=1,vt(e,n,r,a),n.child;case 14:return xm(e,n,n.type,n.pendingProps,a);case 15:return pm(e,n,n.type,n.pendingProps,a);case 19:return Cm(e,n,a);case 31:return r=n.pendingProps,a=n.mode,r={mode:r.mode,children:r.children},e===null?(a=fl(r,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Mn(e.child,r),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return ym(e,n,a);case 24:return Ua(n),r=_t(dt),e===null?(c=ac(),c===null&&(c=Ye,u=tc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=a),c=u),n.memoizedState={parent:r,cache:c},ic(n),ea(n,dt,c)):(e.lanes&a&&(rc(e,n),Ei(n,null,null,a),Ai()),c=e.memoizedState,u=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ea(n,dt,r)):(r=u.cache,ea(n,dt,r),r!==c.cache&&ec(n,[dt],a,!0))),vt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Pn(e){e.flags|=4}function Am(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Og(n)){if(n=cn.current,n!==null&&((Ee&4194048)===Ee?Tn!==null:(Ee&62914560)!==Ee&&!(Ee&536870912)||n!==Tn))throw Ci=sc,dh;e.flags|=8192}}function hl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?sf():536870912,e.lanes|=n,Os|=n)}function Oi(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function tb(e,n,a){var r=n.pendingProps;switch(Ko(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(n),null;case 1:return Ke(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Vn(dt),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yi(n)?Pn(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,ih())),Ke(n),null;case 26:return a=n.memoizedState,e===null?(Pn(n),a!==null?(Ke(n),Am(n,a)):(Ke(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Pn(n),Ke(n),Am(n,a)):(Ke(n),n.flags&=-16777217):(e.memoizedProps!==r&&Pn(n),Ke(n),n.flags&=-16777217),null;case 27:Be(n),a=pe.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Pn(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return Ke(n),null}e=Re.current,yi(n)?ah(n):(e=Ag(c,r,a),n.stateNode=e,Pn(n))}return Ke(n),null;case 5:if(Be(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Pn(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return Ke(n),null}if(e=Re.current,yi(n))ah(n);else{switch(c=_l(pe.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(a,{is:r.is}):c.createElement(a)}}e[Ct]=n,e[kt]=r;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(jt(e,a,r),a){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Pn(n)}}return Ke(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Pn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(o(166));if(e=pe.current,yi(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,c=Rt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Ct]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||bg(e.nodeValue,a)),e||La(n)}else e=_l(e).createTextNode(r),e[Ct]=n,n.stateNode=e}return Ke(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=yi(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Ct]=n}else vi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ke(n),c=!1}else c=ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Wn(n),n):(Wn(n),null)}if(Wn(n),n.flags&128)return n.lanes=a,n;if(a=r!==null,e=e!==null&&e.memoizedState!==null,a){r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var u=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),hl(n,n.updateQueue),Ke(n),null;case 4:return we(),e===null&&od(n.stateNode.containerInfo),Ke(n),null;case 10:return Vn(n.type),Ke(n),null;case 19:if(ce(ut),c=n.memoizedState,c===null)return Ke(n),null;if(r=(n.flags&128)!==0,u=c.rendering,u===null)if(r)Oi(c,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(u=ol(e),u!==null){for(n.flags|=128,Oi(c,!1),e=u.updateQueue,n.updateQueue=e,hl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)th(a,e),a=a.sibling;return be(ut,ut.current&1|2),n.child}e=e.sibling}c.tail!==null&&Sn()>xl&&(n.flags|=128,r=!0,Oi(c,!1),n.lanes=4194304)}else{if(!r)if(e=ol(u),e!==null){if(n.flags|=128,r=!0,e=e.updateQueue,n.updateQueue=e,hl(n,e),Oi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!u.alternate&&!Me)return Ke(n),null}else 2*Sn()-c.renderingStartTime>xl&&a!==536870912&&(n.flags|=128,r=!0,Oi(c,!1),n.lanes=4194304);c.isBackwards?(u.sibling=n.child,n.child=u):(e=c.last,e!==null?e.sibling=u:n.child=u,c.last=u)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Sn(),n.sibling=null,e=ut.current,be(ut,r?e&1|2:e&1),n):(Ke(n),null);case 22:case 23:return Wn(n),dc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?a&536870912&&!(n.flags&128)&&(Ke(n),n.subtreeFlags&6&&(n.flags|=8192)):Ke(n),a=n.updateQueue,a!==null&&hl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&ce(Wa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vn(dt),Ke(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function nb(e,n){switch(Ko(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vn(dt),we(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Be(n),null;case 13:if(Wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));vi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ce(ut),null;case 4:return we(),null;case 10:return Vn(n.type),null;case 22:case 23:return Wn(n),dc(),e!==null&&ce(Wa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vn(dt),null;case 25:return null;default:return null}}function Em(e,n){switch(Ko(n),n.tag){case 3:Vn(dt),we();break;case 26:case 27:case 5:Be(n);break;case 4:we();break;case 13:Wn(n);break;case 19:ce(ut);break;case 10:Vn(n.type);break;case 22:case 23:Wn(n),dc(),e!==null&&ce(Wa);break;case 24:Vn(dt)}}function Bi(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var u=a.create,y=a.inst;r=u(),y.destroy=r}a=a.next}while(a!==c)}}catch(j){Fe(n,n.return,j)}}function la(e,n,a){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var y=r.inst,j=y.destroy;if(j!==void 0){y.destroy=void 0,c=n;var R=a,q=j;try{q()}catch(K){Fe(c,R,K)}}}r=r.next}while(r!==u)}}catch(K){Fe(n,n.return,K)}}function Rm(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{xh(n,a)}catch(r){Fe(e,e.return,r)}}}function zm(e,n,a){a.props=Pa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Fe(e,n,r)}}function Li(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){Fe(e,n,c)}}function Cn(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Fe(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Fe(e,n,c)}else a.current=null}function km(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Fe(e,e.return,c)}}function Vc(e,n,a){try{var r=e.stateNode;wb(r,e.type,a,n),r[kt]=n}catch(c){Fe(e,e.return,c)}}function Dm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ga(e.type)||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Cl));else if(r!==4&&(r===27&&ga(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Wc(e,n,a),e=e.sibling;e!==null;)Wc(e,n,a),e=e.sibling}function ml(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&ga(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ml(e,n,a),e=e.sibling;e!==null;)ml(e,n,a),e=e.sibling}function Nm(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);jt(n,r,a),n[Ct]=e,n[kt]=a}catch(u){Fe(e,e.return,u)}}var Hn=!1,it=!1,qc=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,mt=null;function ab(e,n){if(e=e.containerInfo,ud=Dl,e=Yf(e),Uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var y=0,j=-1,R=-1,q=0,K=0,$=e,F=null;t:for(;;){for(var Y;$!==a||c!==0&&$.nodeType!==3||(j=y+c),$!==u||r!==0&&$.nodeType!==3||(R=y+r),$.nodeType===3&&(y+=$.nodeValue.length),(Y=$.firstChild)!==null;)F=$,$=Y;for(;;){if($===e)break t;if(F===a&&++q===c&&(j=y),F===u&&++K===r&&(R=y),(Y=$.nextSibling)!==null)break;$=F,F=$.parentNode}$=Y}a=j===-1||R===-1?null:{start:j,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:e,selectionRange:a},Dl=!1,mt=n;mt!==null;)if(n=mt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,mt=e;else for(;mt!==null;){switch(n=mt,u=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&u!==null){e=void 0,a=n,c=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var je=Pa(a.type,c,a.elementType===a.type);e=r.getSnapshotBeforeUpdate(je,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Fe(a,a.return,xe)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,mt=e;break}mt=n.return}}function Om(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:oa(e,a),r&4&&Bi(5,a);break;case 1:if(oa(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Fe(a,a.return,y)}else{var c=Pa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Fe(a,a.return,y)}}r&64&&Rm(a),r&512&&Li(a,a.return);break;case 3:if(oa(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xh(e,n)}catch(y){Fe(a,a.return,y)}}break;case 27:n===null&&r&4&&Nm(a);case 26:case 5:oa(e,a),n===null&&r&4&&km(a),r&512&&Li(a,a.return);break;case 12:oa(e,a);break;case 13:oa(e,a),r&4&&Vm(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=fb.bind(null,a),zb(e,a))));break;case 22:if(r=a.memoizedState!==null||Hn,!r){n=n!==null&&n.memoizedState!==null||it,c=Hn;var u=it;Hn=r,(it=n)&&!u?ca(e,a,(a.subtreeFlags&8772)!==0):oa(e,a),Hn=c,it=u}break;case 30:break;default:oa(e,a)}}function Bm(e){var n=e.alternate;n!==null&&(e.alternate=null,Bm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&bo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Mt=!1;function Fn(e,n,a){for(a=a.child;a!==null;)Lm(e,n,a),a=a.sibling}function Lm(e,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(si,a)}catch{}switch(a.tag){case 26:it||Cn(a,n),Fn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||Cn(a,n);var r=Xe,c=Mt;ga(a.type)&&(Xe=a.stateNode,Mt=!1),Fn(e,n,a),Gi(a.stateNode),Xe=r,Mt=c;break;case 5:it||Cn(a,n);case 6:if(r=Xe,c=Mt,Xe=null,Fn(e,n,a),Xe=r,Mt=c,Xe!==null)if(Mt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(u){Fe(a,n,u)}else try{Xe.removeChild(a.stateNode)}catch(u){Fe(a,n,u)}break;case 18:Xe!==null&&(Mt?(e=Xe,Cg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),er(e)):Cg(Xe,a.stateNode));break;case 4:r=Xe,c=Mt,Xe=a.stateNode.containerInfo,Mt=!0,Fn(e,n,a),Xe=r,Mt=c;break;case 0:case 11:case 14:case 15:it||la(2,a,n),it||la(4,a,n),Fn(e,n,a);break;case 1:it||(Cn(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&zm(a,n,r)),Fn(e,n,a);break;case 21:Fn(e,n,a);break;case 22:it=(r=it)||a.memoizedState!==null,Fn(e,n,a),it=r;break;default:Fn(e,n,a)}}function Vm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{er(e)}catch(a){Fe(n,n.return,a)}}function sb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Mm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Mm),n;default:throw Error(o(435,e.tag))}}function Pc(e,n){var a=sb(e);n.forEach(function(r){var c=hb.bind(null,e,r);a.has(r)||(a.add(r),r.then(c,c))})}function Gt(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],u=e,y=n,j=y;e:for(;j!==null;){switch(j.tag){case 27:if(ga(j.type)){Xe=j.stateNode,Mt=!1;break e}break;case 5:Xe=j.stateNode,Mt=!1;break e;case 3:case 4:Xe=j.stateNode.containerInfo,Mt=!0;break e}j=j.return}if(Xe===null)throw Error(o(160));Lm(u,y,c),Xe=null,Mt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Um(n,e),n=n.sibling}var gn=null;function Um(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(n,e),Jt(e),r&4&&(la(3,e,e.return),Bi(3,e),la(5,e,e.return));break;case 1:Gt(n,e),Jt(e),r&512&&(it||a===null||Cn(a,a.return)),r&64&&Hn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=gn;if(Gt(n,e),Jt(e),r&512&&(it||a===null||Cn(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[li]||u[Ct]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),jt(u,r,a),u[Ct]=e,ft(u),r=u;break e;case"link":var y=Ng("link","href",c).get(r+(a.href||""));if(y){for(var j=0;j<y.length;j++)if(u=y[j],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(j,1);break t}}u=c.createElement(r),jt(u,r,a),c.head.appendChild(u);break;case"meta":if(y=Ng("meta","content",c).get(r+(a.content||""))){for(j=0;j<y.length;j++)if(u=y[j],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(j,1);break t}}u=c.createElement(r),jt(u,r,a),c.head.appendChild(u);break;default:throw Error(o(468,r))}u[Ct]=e,ft(u),r=u}e.stateNode=r}else Mg(c,e.type,e.stateNode);else e.stateNode=Dg(c,r,e.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?Mg(c,e.type,e.stateNode):Dg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Vc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Gt(n,e),Jt(e),r&512&&(it||a===null||Cn(a,a.return)),a!==null&&r&4&&Vc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Gt(n,e),Jt(e),r&512&&(it||a===null||Cn(a,a.return)),e.flags&32){c=e.stateNode;try{hs(c,"")}catch(Y){Fe(e,e.return,Y)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Vc(e,c,a!==null?a.memoizedProps:c)),r&1024&&(qc=!0);break;case 6:if(Gt(n,e),Jt(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(Y){Fe(e,e.return,Y)}}break;case 3:if(Rl=null,c=gn,gn=Al(n.containerInfo),Gt(n,e),gn=c,Jt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{er(n.containerInfo)}catch(Y){Fe(e,e.return,Y)}qc&&(qc=!1,Wm(e));break;case 4:r=gn,gn=Al(e.stateNode.containerInfo),Gt(n,e),Jt(e),gn=r;break;case 12:Gt(n,e),Jt(e);break;case 13:Gt(n,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=Sn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pc(e,r)));break;case 22:c=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,q=Hn,K=it;if(Hn=q||c,it=K||R,Gt(n,e),it=K,Hn=q,Jt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Hn||it||Ha(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(u=R.stateNode,c)y=u.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{j=R.stateNode;var $=R.memoizedProps.style,F=$!=null&&$.hasOwnProperty("display")?$.display:null;j.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(Y){Fe(R,R.return,Y)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(Y){Fe(R,R.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Pc(e,a))));break;case 19:Gt(n,e),Jt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pc(e,r)));break;case 30:break;case 21:break;default:Gt(n,e),Jt(e)}}function Jt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(Dm(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,u=Uc(e);ml(e,u,c);break;case 5:var y=a.stateNode;a.flags&32&&(hs(y,""),a.flags&=-33);var j=Uc(e);ml(e,j,y);break;case 3:case 4:var R=a.stateNode.containerInfo,q=Uc(e);Wc(e,q,R);break;default:throw Error(o(161))}}catch(K){Fe(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function oa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Om(e,n.alternate,n),n=n.sibling}function Ha(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:la(4,n,n.return),Ha(n);break;case 1:Cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&zm(n,n.return,a),Ha(n);break;case 27:Gi(n.stateNode);case 26:case 5:Cn(n,n.return),Ha(n);break;case 22:n.memoizedState===null&&Ha(n);break;case 30:Ha(n);break;default:Ha(n)}e=e.sibling}}function ca(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,u=n,y=u.flags;switch(u.tag){case 0:case 11:case 15:ca(c,u,a),Bi(4,u);break;case 1:if(ca(c,u,a),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){Fe(r,r.return,q)}if(r=u,c=r.updateQueue,c!==null){var j=r.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)gh(R[c],j)}catch(q){Fe(r,r.return,q)}}a&&y&64&&Rm(u),Li(u,u.return);break;case 27:Nm(u);case 26:case 5:ca(c,u,a),a&&r===null&&y&4&&km(u),Li(u,u.return);break;case 12:ca(c,u,a);break;case 13:ca(c,u,a),a&&y&4&&Vm(c,u);break;case 22:u.memoizedState===null&&ca(c,u,a),Li(u,u.return);break;case 30:break;default:ca(c,u,a)}n=n.sibling}}function Hc(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Si(a))}function Fc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Si(e))}function _n(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qm(e,n,a,r),n=n.sibling}function qm(e,n,a,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:_n(e,n,a,r),c&2048&&Bi(9,n);break;case 1:_n(e,n,a,r);break;case 3:_n(e,n,a,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Si(e)));break;case 12:if(c&2048){_n(e,n,a,r),e=n.stateNode;try{var u=n.memoizedProps,y=u.id,j=u.onPostCommit;typeof j=="function"&&j(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Fe(n,n.return,R)}}else _n(e,n,a,r);break;case 13:_n(e,n,a,r);break;case 23:break;case 22:u=n.stateNode,y=n.alternate,n.memoizedState!==null?u._visibility&2?_n(e,n,a,r):Vi(e,n):u._visibility&2?_n(e,n,a,r):(u._visibility|=2,Ds(e,n,a,r,(n.subtreeFlags&10256)!==0)),c&2048&&Hc(y,n);break;case 24:_n(e,n,a,r),c&2048&&Fc(n.alternate,n);break;default:_n(e,n,a,r)}}function Ds(e,n,a,r,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var u=e,y=n,j=a,R=r,q=y.flags;switch(y.tag){case 0:case 11:case 15:Ds(u,y,j,R,c),Bi(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?Ds(u,y,j,R,c):Vi(u,y):(K._visibility|=2,Ds(u,y,j,R,c)),c&&q&2048&&Hc(y.alternate,y);break;case 24:Ds(u,y,j,R,c),c&&q&2048&&Fc(y.alternate,y);break;default:Ds(u,y,j,R,c)}n=n.sibling}}function Vi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,c=r.flags;switch(r.tag){case 22:Vi(a,r),c&2048&&Hc(r.alternate,r);break;case 24:Vi(a,r),c&2048&&Fc(r.alternate,r);break;default:Vi(a,r)}n=n.sibling}}var Ui=8192;function Ns(e){if(e.subtreeFlags&Ui)for(e=e.child;e!==null;)Pm(e),e=e.sibling}function Pm(e){switch(e.tag){case 26:Ns(e),e.flags&Ui&&e.memoizedState!==null&&Hb(gn,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var n=gn;gn=Al(e.stateNode.containerInfo),Ns(e),gn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ui,Ui=16777216,Ns(e),Ui=n):Ns(e));break;default:Ns(e)}}function Hm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wi(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];mt=r,Ym(r,e)}Hm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fm(e),e=e.sibling}function Fm(e){switch(e.tag){case 0:case 11:case 15:Wi(e),e.flags&2048&&la(9,e,e.return);break;case 3:Wi(e);break;case 12:Wi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,gl(e)):Wi(e);break;default:Wi(e)}}function gl(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];mt=r,Ym(r,e)}Hm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:la(8,n,n.return),gl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gl(n));break;default:gl(n)}e=e.sibling}}function Ym(e,n){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:la(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Si(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,mt=r;else e:for(a=e;mt!==null;){r=mt;var c=r.sibling,u=r.return;if(Bm(r),r===a){mt=null;break e}if(c!==null){c.return=u,mt=c;break e}mt=u}}}var ib={getCacheForType:function(e){var n=_t(dt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},rb=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,_e=null,Ee=0,Ve=0,Zt=null,da=!1,Ms=!1,Yc=!1,Yn=0,et=0,ua=0,Fa=0,Gc=0,dn=0,Os=0,qi=null,Ot=null,Jc=!1,Zc=0,xl=1/0,pl=null,fa=null,bt=0,ha=null,Bs=null,Ls=0,Xc=0,Kc=null,Gm=null,Pi=0,Ic=null;function Xt(){if(Le&2&&Ee!==0)return Ee&-Ee;if(O.T!==null){var e=Ts;return e!==0?e:sd()}return of()}function Jm(){dn===0&&(dn=!(Ee&536870912)||Me?af():536870912);var e=cn.current;return e!==null&&(e.flags|=32),dn}function Kt(e,n,a){(e===Ye&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),ma(e,Ee,dn,!1)),ri(e,a),(!(Le&2)||e!==Ye)&&(e===Ye&&(!(Le&2)&&(Fa|=a),et===4&&ma(e,Ee,dn,!1)),An(e))}function Zm(e,n,a){if(Le&6)throw Error(o(327));var r=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ii(e,n),c=r?cb(e,n):ed(e,n,!0),u=r;do{if(c===0){Ms&&!r&&ma(e,n,0,!1);break}else{if(a=e.current.alternate,u&&!lb(a)){c=ed(e,n,!1),u=!1;continue}if(c===2){if(u=n,e.errorRecoveryDisabledLanes&u)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var j=e;c=qi;var R=j.current.memoizedState.isDehydrated;if(R&&(Vs(j,y).flags|=256),y=ed(j,y,!1),y!==2){if(Yc&&!R){j.errorRecoveryDisabledLanes|=u,Fa|=u,c=4;break e}u=Ot,Ot=c,u!==null&&(Ot===null?Ot=u:Ot.push.apply(Ot,u))}c=y}if(u=!1,c!==2)continue}}if(c===1){Vs(e,0),ma(e,n,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:ma(r,n,dn,!da);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(c=Zc+300-Sn(),10<c)){if(ma(r,n,dn,!da),Er(r,0,!0)!==0)break e;r.timeoutHandle=wg(Xm.bind(null,r,a,Ot,pl,Jc,n,dn,Fa,Os,da,u,2,-0,0),c);break e}Xm(r,a,Ot,pl,Jc,n,dn,Fa,Os,da,u,0,-0,0)}}break}while(!0);An(e)}function Xm(e,n,a,r,c,u,y,j,R,q,K,$,F,Y){if(e.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Xi={stylesheets:null,count:0,unsuspend:Pb},Pm(n),$=Fb(),$!==null)){e.cancelPendingCommit=$(ng.bind(null,e,n,u,a,r,c,y,j,R,K,1,F,Y)),ma(e,u,y,!q);return}ng(e,n,u,a,r,c,y,j,R)}function lb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],u=c.getSnapshot;c=c.value;try{if(!Ft(u(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(e,n,a,r){n&=~Gc,n&=~Fa,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var u=31-Ht(c),y=1<<u;r[u]=-1,c&=~y}a!==0&&rf(e,a,n)}function yl(){return Le&6?!0:(Hi(0),!1)}function Qc(){if(_e!==null){if(Ve===0)var e=_e.return;else e=_e,Ln=Va=null,gc(e),zs=null,Ni=0,e=_e;for(;e!==null;)Em(e.alternate,e),e=e.return;_e=null}}function Vs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Cb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qc(),Ye=e,_e=a=Mn(e.current,null),Ee=n,Ve=0,Zt=null,da=!1,Ms=ii(e,n),Yc=!1,Os=dn=Gc=Fa=ua=et=0,Ot=qi=null,Jc=!1,n&8&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Ht(r),u=1<<c;n|=e[c],r&=~u}return Yn=n,Wr(),a}function Km(e,n){Te=null,O.H=il,n===Ti||n===Xr?(n=hh(),Ve=3):n===dh?(n=hh(),Ve=4):Ve=n===mm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Zt=n,_e===null&&(et=1,dl(e,sn(n,e.current)))}function Im(){var e=O.H;return O.H=il,e===null?il:e}function Qm(){var e=O.A;return O.A=ib,e}function $c(){et=4,da||(Ee&4194048)!==Ee&&cn.current!==null||(Ms=!0),!(ua&134217727)&&!(Fa&134217727)||Ye===null||ma(Ye,Ee,dn,!1)}function ed(e,n,a){var r=Le;Le|=2;var c=Im(),u=Qm();(Ye!==e||Ee!==n)&&(pl=null,Vs(e,n)),n=!1;var y=et;e:do try{if(Ve!==0&&_e!==null){var j=_e,R=Zt;switch(Ve){case 8:Qc(),y=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(n=!0);var q=Ve;if(Ve=0,Zt=null,Us(e,j,R,q),a&&Ms){y=0;break e}break;default:q=Ve,Ve=0,Zt=null,Us(e,j,R,q)}}ob(),y=et;break}catch(K){Km(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ln=Va=null,Le=r,O.H=c,O.A=u,_e===null&&(Ye=null,Ee=0,Wr()),y}function ob(){for(;_e!==null;)$m(_e)}function cb(e,n){var a=Le;Le|=2;var r=Im(),c=Qm();Ye!==e||Ee!==n?(pl=null,xl=Sn()+500,Vs(e,n)):Ms=ii(e,n);e:do try{if(Ve!==0&&_e!==null){n=_e;var u=Zt;t:switch(Ve){case 1:Ve=0,Zt=null,Us(e,n,u,1);break;case 2:case 9:if(uh(u)){Ve=0,Zt=null,eg(n);break}n=function(){Ve!==2&&Ve!==9||Ye!==e||(Ve=7),An(e)},u.then(n,n);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:uh(u)?(Ve=0,Zt=null,eg(n)):(Ve=0,Zt=null,Us(e,n,u,7));break;case 5:var y=null;switch(_e.tag){case 26:y=_e.memoizedState;case 5:case 27:var j=_e;if(!y||Og(y)){Ve=0,Zt=null;var R=j.sibling;if(R!==null)_e=R;else{var q=j.return;q!==null?(_e=q,vl(q)):_e=null}break t}}Ve=0,Zt=null,Us(e,n,u,5);break;case 6:Ve=0,Zt=null,Us(e,n,u,6);break;case 8:Qc(),et=6;break e;default:throw Error(o(462))}}db();break}catch(K){Km(e,K)}while(!0);return Ln=Va=null,O.H=r,O.A=c,Le=a,_e!==null?0:(Ye=null,Ee=0,Wr(),et)}function db(){for(;_e!==null&&!Dy();)$m(_e)}function $m(e){var n=_m(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,n===null?vl(e):_e=n}function eg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=bm(a,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=bm(a,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:gc(n);default:Em(a,n),n=_e=th(n,Yn),n=_m(a,n,Yn)}e.memoizedProps=e.pendingProps,n===null?vl(e):_e=n}function Us(e,n,a,r){Ln=Va=null,gc(n),zs=null,Ni=0;var c=n.return;try{if($v(e,c,n,a,Ee)){et=1,dl(e,sn(a,e.current)),_e=null;return}}catch(u){if(c!==null)throw _e=c,u;et=1,dl(e,sn(a,e.current)),_e=null;return}n.flags&32768?(Me||r===1?e=!0:Ms||Ee&536870912?e=!1:(da=e=!0,(r===2||r===9||r===3||r===6)&&(r=cn.current,r!==null&&r.tag===13&&(r.flags|=16384))),tg(n,e)):vl(n)}function vl(e){var n=e;do{if(n.flags&32768){tg(n,da);return}e=n.return;var a=tb(n.alternate,n,Yn);if(a!==null){_e=a;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);et===0&&(et=5)}function tg(e,n){do{var a=nb(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);et=6,_e=null}function ng(e,n,a,r,c,u,y,j,R){e.cancelPendingCommit=null;do bl();while(bt!==0);if(Le&6)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(u=n.lanes|n.childLanes,u|=Fo,Py(e,a,u,y,j,R),e===Ye&&(_e=Ye=null,Ee=0),Bs=n,ha=e,Ls=a,Xc=u,Kc=c,Gm=r,n.subtreeFlags&10256||n.flags&10256?(e.callbackNode=null,e.callbackPriority=0,mb(Cr,function(){return lg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,n.subtreeFlags&13878||r){r=O.T,O.T=null,c=I.p,I.p=2,y=Le,Le|=4;try{ab(e,n,a)}finally{Le=y,I.p=c,O.T=r}}bt=1,ag(),sg(),ig()}}function ag(){if(bt===1){bt=0;var e=ha,n=Bs,a=(n.flags&13878)!==0;if(n.subtreeFlags&13878||a){a=O.T,O.T=null;var r=I.p;I.p=2;var c=Le;Le|=4;try{Um(n,e);var u=fd,y=Yf(e.containerInfo),j=u.focusedElem,R=u.selectionRange;if(y!==j&&j&&j.ownerDocument&&Ff(j.ownerDocument.documentElement,j)){if(R!==null&&Uo(j)){var q=R.start,K=R.end;if(K===void 0&&(K=q),"selectionStart"in j)j.selectionStart=q,j.selectionEnd=Math.min(K,j.value.length);else{var $=j.ownerDocument||document,F=$&&$.defaultView||window;if(F.getSelection){var Y=F.getSelection(),je=j.textContent.length,xe=Math.min(R.start,je),He=R.end===void 0?xe:Math.min(R.end,je);!Y.extend&&xe>He&&(y=He,He=xe,xe=y);var M=Hf(j,xe),D=Hf(j,He);if(M&&D&&(Y.rangeCount!==1||Y.anchorNode!==M.node||Y.anchorOffset!==M.offset||Y.focusNode!==D.node||Y.focusOffset!==D.offset)){var V=$.createRange();V.setStart(M.node,M.offset),Y.removeAllRanges(),xe>He?(Y.addRange(V),Y.extend(D.node,D.offset)):(V.setEnd(D.node,D.offset),Y.addRange(V))}}}}for($=[],Y=j;Y=Y.parentNode;)Y.nodeType===1&&$.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<$.length;j++){var Q=$[j];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Dl=!!ud,fd=ud=null}finally{Le=c,I.p=r,O.T=a}}e.current=n,bt=2}}function sg(){if(bt===2){bt=0;var e=ha,n=Bs,a=(n.flags&8772)!==0;if(n.subtreeFlags&8772||a){a=O.T,O.T=null;var r=I.p;I.p=2;var c=Le;Le|=4;try{Om(e,n.alternate,n)}finally{Le=c,I.p=r,O.T=a}}bt=3}}function ig(){if(bt===4||bt===3){bt=0,Ny();var e=ha,n=Bs,a=Ls,r=Gm;n.subtreeFlags&10256||n.flags&10256?bt=5:(bt=0,Bs=ha=null,rg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(fa=null),yo(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(si,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=O.T,c=I.p,I.p=2,O.T=null;try{for(var u=e.onRecoverableError,y=0;y<r.length;y++){var j=r[y];u(j.value,{componentStack:j.stack})}}finally{O.T=n,I.p=c}}Ls&3&&bl(),An(e),c=e.pendingLanes,a&4194090&&c&42?e===Ic?Pi++:(Pi=0,Ic=e):Pi=0,Hi(0)}}function rg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Si(n)))}function bl(e){return ag(),sg(),ig(),lg()}function lg(){if(bt!==5)return!1;var e=ha,n=Xc;Xc=0;var a=yo(Ls),r=O.T,c=I.p;try{I.p=32>a?32:a,O.T=null,a=Kc,Kc=null;var u=ha,y=Ls;if(bt=0,Bs=ha=null,Ls=0,Le&6)throw Error(o(331));var j=Le;if(Le|=4,Fm(u.current),qm(u,u.current,y,a),Le=j,Hi(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(si,u)}catch{}return!0}finally{I.p=c,O.T=r,rg(e,n)}}function og(e,n,a){n=sn(a,n),n=Rc(e.stateNode,n,2),e=aa(e,n,2),e!==null&&(ri(e,2),An(e))}function Fe(e,n,a){if(e.tag===3)og(e,e,a);else for(;n!==null;){if(n.tag===3){og(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fa===null||!fa.has(r))){e=sn(a,e),a=fm(2),r=aa(n,a,2),r!==null&&(hm(a,r,n,e),ri(r,2),An(r));break}}n=n.return}}function td(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new rb;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(a)||(Yc=!0,c.add(a),e=ub.bind(null,e,n,a),n.then(e,e))}function ub(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ye===e&&(Ee&a)===a&&(et===4||et===3&&(Ee&62914560)===Ee&&300>Sn()-Zc?!(Le&2)&&Vs(e,0):Gc|=a,Os===Ee&&(Os=0)),An(e)}function cg(e,n){n===0&&(n=sf()),e=bs(e,n),e!==null&&(ri(e,n),An(e))}function fb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),cg(e,a)}function hb(e,n){var a=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(n),cg(e,a)}function mb(e,n){return jn(e,n)}var jl=null,Ws=null,nd=!1,Sl=!1,ad=!1,Ya=0;function An(e){e!==Ws&&e.next===null&&(Ws===null?jl=Ws=e:Ws=Ws.next=e),Sl=!0,nd||(nd=!0,xb())}function Hi(e,n){if(!ad&&Sl){ad=!0;do for(var a=!1,r=jl;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var y=r.suspendedLanes,j=r.pingedLanes;u=(1<<31-Ht(42|e)+1)-1,u&=c&~(y&~j),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,hg(r,u))}else u=Ee,u=Er(r,r===Ye?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(u&3)||ii(r,u)||(a=!0,hg(r,u));r=r.next}while(a);ad=!1}}function gb(){dg()}function dg(){Sl=nd=!1;var e=0;Ya!==0&&(Tb()&&(e=Ya),Ya=0);for(var n=Sn(),a=null,r=jl;r!==null;){var c=r.next,u=ug(r,n);u===0?(r.next=null,a===null?jl=c:a.next=c,c===null&&(Ws=a)):(a=r,(e!==0||u&3)&&(Sl=!0)),r=c}Hi(e)}function ug(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var y=31-Ht(u),j=1<<y,R=c[y];R===-1?(!(j&a)||j&r)&&(c[y]=qy(j,n)):R<=n&&(e.expiredLanes|=j),u&=~j}if(n=Ye,a=Ee,a=Er(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ai(r),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||ii(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&ai(r),yo(a)){case 2:case 8:a=tf;break;case 32:a=Cr;break;case 268435456:a=nf;break;default:a=Cr}return r=fg.bind(null,e),a=jn(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&ai(r),e.callbackPriority=2,e.callbackNode=null,2}function fg(e,n){if(bt!==0&&bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(bl()&&e.callbackNode!==a)return null;var r=Ee;return r=Er(e,e===Ye?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Zm(e,r,n),ug(e,Sn()),e.callbackNode!=null&&e.callbackNode===a?fg.bind(null,e):null)}function hg(e,n){if(bl())return null;Zm(e,n,!0)}function xb(){_b(function(){Le&6?jn(ef,gb):dg()})}function sd(){return Ya===0&&(Ya=af()),Ya}function mg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nr(""+e)}function gg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function pb(e,n,a,r,c){if(n==="submit"&&a&&a.stateNode===c){var u=mg((c[kt]||null).action),y=r.submitter;y&&(n=(n=y[kt]||null)?mg(n.formAction):y.getAttribute("formAction"),n!==null&&(u=n,y=null));var j=new Lr("action","action",null,r,c);e.push({event:j,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ya!==0){var R=y?gg(c,y):new FormData(c);Tc(a,{pending:!0,data:R,method:c.method,action:u},null,R)}}else typeof u=="function"&&(j.preventDefault(),R=y?gg(c,y):new FormData(c),Tc(a,{pending:!0,data:R,method:c.method,action:u},u,R))},currentTarget:c}]})}}for(var id=0;id<Ho.length;id++){var rd=Ho[id],yb=rd.toLowerCase(),vb=rd[0].toUpperCase()+rd.slice(1);mn(yb,"on"+vb)}mn(Zf,"onAnimationEnd"),mn(Xf,"onAnimationIteration"),mn(Kf,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Bv,"onTransitionRun"),mn(Lv,"onTransitionStart"),mn(Vv,"onTransitionCancel"),mn(If,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fi));function xg(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var y=r.length-1;0<=y;y--){var j=r[y],R=j.instance,q=j.currentTarget;if(j=j.listener,R!==u&&c.isPropagationStopped())break e;u=j,c.currentTarget=q;try{u(c)}catch(K){cl(K)}c.currentTarget=null,u=R}else for(y=0;y<r.length;y++){if(j=r[y],R=j.instance,q=j.currentTarget,j=j.listener,R!==u&&c.isPropagationStopped())break e;u=j,c.currentTarget=q;try{u(c)}catch(K){cl(K)}c.currentTarget=null,u=R}}}}function Ae(e,n){var a=n[vo];a===void 0&&(a=n[vo]=new Set);var r=e+"__bubble";a.has(r)||(pg(n,e,2,!1),a.add(r))}function ld(e,n,a){var r=0;n&&(r|=4),pg(a,e,r,n)}var wl="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[wl]){e[wl]=!0,df.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||ld(a,!1,e),ld(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wl]||(n[wl]=!0,ld("selectionchange",!1,n))}}function pg(e,n,a,r){switch(qg(n)){case 2:var c=Jb;break;case 8:c=Zb;break;default:c=Sd}a=c.bind(null,n,a,e),c=void 0,!zo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function cd(e,n,a,r,c){var u=r;if(!(n&1)&&!(n&2)&&r!==null)e:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var j=r.stateNode.containerInfo;if(j===c)break;if(y===4)for(y=r.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;j!==null;){if(y=ls(j),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){r=u=y;continue e}j=j.parentNode}}r=r.return}Tf(function(){var q=u,K=Eo(a),$=[];e:{var F=Qf.get(e);if(F!==void 0){var Y=Lr,je=e;switch(e){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":Y=mv;break;case"focusin":je="focus",Y=Mo;break;case"focusout":je="blur",Y=Mo;break;case"beforeblur":case"afterblur":Y=Mo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=pv;break;case Zf:case Xf:case Kf:Y=iv;break;case If:Y=vv;break;case"scroll":case"scrollend":Y=ev;break;case"wheel":Y=jv;break;case"copy":case"cut":case"paste":Y=lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Rf;break;case"toggle":case"beforetoggle":Y=wv}var xe=(n&4)!==0,He=!xe&&(e==="scroll"||e==="scrollend"),M=xe?F!==null?F+"Capture":null:F;xe=[];for(var D=q,V;D!==null;){var Q=D;if(V=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||V===null||M===null||(Q=ci(D,M),Q!=null&&xe.push(Yi(D,Q,V))),He)break;D=D.return}0<xe.length&&(F=new Y(F,je,null,a,K),$.push({event:F,listeners:xe}))}}if(!(n&7)){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==Ao&&(je=a.relatedTarget||a.fromElement)&&(ls(je)||je[rs]))break e;if((Y||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(je=a.relatedTarget||a.toElement,Y=q,je=je?ls(je):null,je!==null&&(He=h(je),xe=je.tag,je!==He||xe!==5&&xe!==27&&xe!==6)&&(je=null)):(Y=null,je=q),Y!==je)){if(xe=Af,Q="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Rf,Q="onPointerLeave",M="onPointerEnter",D="pointer"),He=Y==null?F:oi(Y),V=je==null?F:oi(je),F=new xe(Q,D+"leave",Y,a,K),F.target=He,F.relatedTarget=V,Q=null,ls(K)===q&&(xe=new xe(M,D+"enter",je,a,K),xe.target=V,xe.relatedTarget=He,Q=xe),He=Q,Y&&je)t:{for(xe=Y,M=je,D=0,V=xe;V;V=qs(V))D++;for(V=0,Q=M;Q;Q=qs(Q))V++;for(;0<D-V;)xe=qs(xe),D--;for(;0<V-D;)M=qs(M),V--;for(;D--;){if(xe===M||M!==null&&xe===M.alternate)break t;xe=qs(xe),M=qs(M)}xe=null}else xe=null;Y!==null&&yg($,F,Y,xe,!1),je!==null&&He!==null&&yg($,He,je,xe,!0)}}e:{if(F=q?oi(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ue=Lf;else if(Of(F))if(Vf)ue=Nv;else{ue=kv;var Ce=zv}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&_o(q.elementType)&&(ue=Lf):ue=Dv;if(ue&&(ue=ue(e,q))){Bf($,ue,a,K);break e}Ce&&Ce(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Co(F,"number",F.value)}switch(Ce=q?oi(q):window,e){case"focusin":(Of(Ce)||Ce.contentEditable==="true")&&(ps=Ce,Wo=q,pi=null);break;case"focusout":pi=Wo=ps=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,Gf($,a,K);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Gf($,a,K)}var ge;if(Bo)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else xs?Nf(e,a)&&(ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(zf&&a.locale!=="ko"&&(xs||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&xs&&(ge=Cf()):($n=K,ko="value"in $n?$n.value:$n.textContent,xs=!0)),Ce=Tl(q,ye),0<Ce.length&&(ye=new Ef(ye,e,null,a,K),$.push({event:ye,listeners:Ce}),ge?ye.data=ge:(ge=Mf(a),ge!==null&&(ye.data=ge)))),(ge=Cv?_v(e,a):Av(e,a))&&(ye=Tl(q,"onBeforeInput"),0<ye.length&&(Ce=new Ef("onBeforeInput","beforeinput",null,a,K),$.push({event:Ce,listeners:ye}),Ce.data=ge)),pb($,e,q,a,K)}xg($,n)})}function Yi(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Tl(e,n){for(var a=n+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=ci(e,a),c!=null&&r.unshift(Yi(e,c,u)),c=ci(e,n),c!=null&&r.push(Yi(e,c,u))),e.tag===3)return r;e=e.return}return[]}function qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yg(e,n,a,r,c){for(var u=n._reactName,y=[];a!==null&&a!==r;){var j=a,R=j.alternate,q=j.stateNode;if(j=j.tag,R!==null&&R===r)break;j!==5&&j!==26&&j!==27||q===null||(R=q,c?(q=ci(a,u),q!=null&&y.unshift(Yi(a,q,R))):c||(q=ci(a,u),q!=null&&y.push(Yi(a,q,R)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var jb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function vg(e){return(typeof e=="string"?e:""+e).replace(jb,`
`).replace(Sb,"")}function bg(e,n){return n=vg(n),vg(e)===n}function Cl(){}function Pe(e,n,a,r,c,u){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||hs(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&hs(e,""+r);break;case"className":zr(e,"class",r);break;case"tabIndex":zr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(e,a,r);break;case"style":Sf(e,r,u);break;case"data":if(n!=="object"){zr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Nr(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(n!=="input"&&Pe(e,n,"name",c.name,c,null),Pe(e,n,"formEncType",c.formEncType,c,null),Pe(e,n,"formMethod",c.formMethod,c,null),Pe(e,n,"formTarget",c.formTarget,c,null)):(Pe(e,n,"encType",c.encType,c,null),Pe(e,n,"method",c.method,c,null),Pe(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Nr(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=Cl);break;case"onScroll":r!=null&&Ae("scroll",e);break;case"onScrollEnd":r!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Nr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Rr(e,"popover",r);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Rr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qy.get(a)||a,Rr(e,a,r))}}function dd(e,n,a,r,c,u){switch(a){case"style":Sf(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof r=="string"?hs(e,r):(typeof r=="number"||typeof r=="bigint")&&hs(e,""+r);break;case"onScroll":r!=null&&Ae("scroll",e);break;case"onScrollEnd":r!=null&&Ae("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Cl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),u=e[kt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(n,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Rr(e,a,r)}}}function jt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var r=!1,c=!1,u;for(u in a)if(a.hasOwnProperty(u)){var y=a[u];if(y!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Pe(e,n,u,y,a,null)}}c&&Pe(e,n,"srcSet",a.srcSet,a,null),r&&Pe(e,n,"src",a.src,a,null);return;case"input":Ae("invalid",e);var j=u=y=c=null,R=null,q=null;for(r in a)if(a.hasOwnProperty(r)){var K=a[r];if(K!=null)switch(r){case"name":c=K;break;case"type":y=K;break;case"checked":R=K;break;case"defaultChecked":q=K;break;case"value":u=K;break;case"defaultValue":j=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,n));break;default:Pe(e,n,r,K,a,null)}}yf(e,u,j,R,q,y,c,!1),kr(e);return;case"select":Ae("invalid",e),r=y=u=null;for(c in a)if(a.hasOwnProperty(c)&&(j=a[c],j!=null))switch(c){case"value":u=j;break;case"defaultValue":y=j;break;case"multiple":r=j;default:Pe(e,n,c,j,a,null)}n=u,a=y,e.multiple=!!r,n!=null?fs(e,!!r,n,!1):a!=null&&fs(e,!!r,a,!0);return;case"textarea":Ae("invalid",e),u=c=r=null;for(y in a)if(a.hasOwnProperty(y)&&(j=a[y],j!=null))switch(y){case"value":r=j;break;case"defaultValue":c=j;break;case"children":u=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(91));break;default:Pe(e,n,y,j,a,null)}bf(e,r,c,u),kr(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(r=a[R],r!=null))switch(R){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(e,n,R,r,a,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(r=0;r<Fi.length;r++)Ae(Fi[r],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(r=a[q],r!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Pe(e,n,q,r,a,null)}return;default:if(_o(n)){for(K in a)a.hasOwnProperty(K)&&(r=a[K],r!==void 0&&dd(e,n,K,r,a,void 0));return}}for(j in a)a.hasOwnProperty(j)&&(r=a[j],r!=null&&Pe(e,n,j,r,a,null))}function wb(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,y=null,j=null,R=null,q=null,K=null;for(Y in a){var $=a[Y];if(a.hasOwnProperty(Y)&&$!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=$;default:r.hasOwnProperty(Y)||Pe(e,n,Y,null,r,$)}}for(var F in r){var Y=r[F];if($=a[F],r.hasOwnProperty(F)&&(Y!=null||$!=null))switch(F){case"type":u=Y;break;case"name":c=Y;break;case"checked":q=Y;break;case"defaultChecked":K=Y;break;case"value":y=Y;break;case"defaultValue":j=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,n));break;default:Y!==$&&Pe(e,n,F,Y,r,$)}}To(e,y,j,R,q,K,u,c);return;case"select":Y=y=j=F=null;for(u in a)if(R=a[u],a.hasOwnProperty(u)&&R!=null)switch(u){case"value":break;case"multiple":Y=R;default:r.hasOwnProperty(u)||Pe(e,n,u,null,r,R)}for(c in r)if(u=r[c],R=a[c],r.hasOwnProperty(c)&&(u!=null||R!=null))switch(c){case"value":F=u;break;case"defaultValue":j=u;break;case"multiple":y=u;default:u!==R&&Pe(e,n,c,u,r,R)}n=j,a=y,r=Y,F!=null?fs(e,!!a,F,!1):!!r!=!!a&&(n!=null?fs(e,!!a,n,!0):fs(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(j in a)if(c=a[j],a.hasOwnProperty(j)&&c!=null&&!r.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pe(e,n,j,null,r,c)}for(y in r)if(c=r[y],u=a[y],r.hasOwnProperty(y)&&(c!=null||u!=null))switch(y){case"value":F=c;break;case"defaultValue":Y=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Pe(e,n,y,c,r,u)}vf(e,F,Y);return;case"option":for(var je in a)if(F=a[je],a.hasOwnProperty(je)&&F!=null&&!r.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:Pe(e,n,je,null,r,F)}for(R in r)if(F=r[R],Y=a[R],r.hasOwnProperty(R)&&F!==Y&&(F!=null||Y!=null))switch(R){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Pe(e,n,R,F,r,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)F=a[xe],a.hasOwnProperty(xe)&&F!=null&&!r.hasOwnProperty(xe)&&Pe(e,n,xe,null,r,F);for(q in r)if(F=r[q],Y=a[q],r.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,n));break;default:Pe(e,n,q,F,r,Y)}return;default:if(_o(n)){for(var He in a)F=a[He],a.hasOwnProperty(He)&&F!==void 0&&!r.hasOwnProperty(He)&&dd(e,n,He,void 0,r,F);for(K in r)F=r[K],Y=a[K],!r.hasOwnProperty(K)||F===Y||F===void 0&&Y===void 0||dd(e,n,K,F,r,Y);return}}for(var M in a)F=a[M],a.hasOwnProperty(M)&&F!=null&&!r.hasOwnProperty(M)&&Pe(e,n,M,null,r,F);for($ in r)F=r[$],Y=a[$],!r.hasOwnProperty($)||F===Y||F==null&&Y==null||Pe(e,n,$,F,r,Y)}var ud=null,fd=null;function _l(e){return e.nodeType===9?e:e.ownerDocument}function jg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function Tb(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var wg=typeof setTimeout=="function"?setTimeout:void 0,Cb=typeof clearTimeout=="function"?clearTimeout:void 0,Tg=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof Tg<"u"?function(e){return Tg.resolve(null).then(e).catch(Ab)}:wg;function Ab(e){setTimeout(function(){throw e})}function ga(e){return e==="head"}function Cg(e,n){var a=n,r=0,c=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(0<r&&8>r){a=r;var y=e.ownerDocument;if(a&1&&Gi(y.documentElement),a&2&&Gi(y.body),a&4)for(a=y.head,Gi(a),y=a.firstChild;y;){var j=y.nextSibling,R=y.nodeName;y[li]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=j}}if(c===0){e.removeChild(u),er(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:r=a.charCodeAt(0)-48;else r=0;a=u}while(a);er(n)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gd(a),bo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Eb(e,n,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function Rb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zb(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var pd=null;function _g(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ag(e,n,a){switch(n=_l(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Gi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);bo(e)}var un=new Map,Eg=new Set;function Al(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gn=I.d;I.d={f:kb,r:Db,D:Nb,C:Mb,L:Ob,m:Bb,X:Vb,S:Lb,M:Ub};function kb(){var e=Gn.f(),n=yl();return e||n}function Db(e){var n=os(e);n!==null&&n.tag===5&&n.type==="form"?Zh(n):Gn.r(e)}var Ps=typeof document>"u"?null:document;function Rg(e,n,a){var r=Ps;if(r&&typeof n=="string"&&n){var c=an(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Eg.has(c)||(Eg.add(c),e={rel:e,crossOrigin:a,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),jt(n,"link",e),ft(n),r.head.appendChild(n)))}}function Nb(e){Gn.D(e),Rg("dns-prefetch",e,null)}function Mb(e,n){Gn.C(e,n),Rg("preconnect",e,n)}function Ob(e,n,a){Gn.L(e,n,a);var r=Ps;if(r&&e&&n){var c='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+an(a.imageSizes)+'"]')):c+='[href="'+an(e)+'"]';var u=c;switch(n){case"style":u=Hs(e);break;case"script":u=Fs(e)}un.has(u)||(e=p({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),un.set(u,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(Ji(u))||n==="script"&&r.querySelector(Zi(u))||(n=r.createElement("link"),jt(n,"link",e),ft(n),r.head.appendChild(n)))}}function Bb(e,n){Gn.m(e,n);var a=Ps;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+an(r)+'"][href="'+an(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Fs(e)}if(!un.has(u)&&(e=p({rel:"modulepreload",href:e},n),un.set(u,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zi(u)))return}r=a.createElement("link"),jt(r,"link",e),ft(r),a.head.appendChild(r)}}}function Lb(e,n,a){Gn.S(e,n,a);var r=Ps;if(r&&e){var c=cs(r).hoistableStyles,u=Hs(e);n=n||"default";var y=c.get(u);if(!y){var j={loading:0,preload:null};if(y=r.querySelector(Ji(u)))j.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":n},a),(a=un.get(u))&&yd(e,a);var R=y=r.createElement("link");ft(R),jt(R,"link",e),R._p=new Promise(function(q,K){R.onload=q,R.onerror=K}),R.addEventListener("load",function(){j.loading|=1}),R.addEventListener("error",function(){j.loading|=2}),j.loading|=4,El(y,n,r)}y={type:"stylesheet",instance:y,count:1,state:j},c.set(u,y)}}}function Vb(e,n){Gn.X(e,n);var a=Ps;if(a&&e){var r=cs(a).hoistableScripts,c=Fs(e),u=r.get(c);u||(u=a.querySelector(Zi(c)),u||(e=p({src:e,async:!0},n),(n=un.get(c))&&vd(e,n),u=a.createElement("script"),ft(u),jt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Ub(e,n){Gn.M(e,n);var a=Ps;if(a&&e){var r=cs(a).hoistableScripts,c=Fs(e),u=r.get(c);u||(u=a.querySelector(Zi(c)),u||(e=p({src:e,async:!0,type:"module"},n),(n=un.get(c))&&vd(e,n),u=a.createElement("script"),ft(u),jt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function zg(e,n,a,r){var c=(c=pe.current)?Al(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Hs(a.href),a=cs(c).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Hs(a.href);var u=cs(c).hoistableStyles,y=u.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,y),(u=c.querySelector(Ji(e)))&&!u._p&&(y.instance=u,y.state.loading=5),un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},un.set(e,a),u||Wb(c,e,a,y.state))),n&&r===null)throw Error(o(528,""));return y}if(n&&r!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(a),a=cs(c).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Hs(e){return'href="'+an(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function kg(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),jt(n,"link",a),ft(n),e.head.appendChild(n))}function Fs(e){return'[src="'+an(e)+'"]'}function Zi(e){return"script[async]"+e}function Dg(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(r)return n.instance=r,ft(r),r;var c=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ft(r),jt(r,"style",c),El(r,a.precedence,e),n.instance=r;case"stylesheet":c=Hs(a.href);var u=e.querySelector(Ji(c));if(u)return n.state.loading|=4,n.instance=u,ft(u),u;r=kg(a),(c=un.get(c))&&yd(r,c),u=(e.ownerDocument||e).createElement("link"),ft(u);var y=u;return y._p=new Promise(function(j,R){y.onload=j,y.onerror=R}),jt(u,"link",r),n.state.loading|=4,El(u,a.precedence,e),n.instance=u;case"script":return u=Fs(a.src),(c=e.querySelector(Zi(u)))?(n.instance=c,ft(c),c):(r=a,(c=un.get(u))&&(r=p({},a),vd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ft(c),jt(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(r=n.instance,n.state.loading|=4,El(r,a.precedence,e));return n.instance}function El(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,y=0;y<r.length;y++){var j=r[y];if(j.dataset.precedence===n)u=j;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Rl=null;function Ng(e,n,a){if(Rl===null){var r=new Map,c=Rl=new Map;c.set(a,r)}else c=Rl,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var u=a[c];if(!(u[li]||u[Ct]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var y=u.getAttribute(n)||"";y=e+y;var j=r.get(y);j?j.push(u):r.set(y,[u])}}return r}function Mg(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function qb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Og(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Xi=null;function Pb(){}function Hb(e,n,a){if(Xi===null)throw Error(o(475));var r=Xi;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=Hs(a.href),u=e.querySelector(Ji(c));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=zl.bind(r),e.then(r,r)),n.state.loading|=4,n.instance=u,ft(u);return}u=e.ownerDocument||e,a=kg(a),(c=un.get(c))&&yd(a,c),u=u.createElement("link"),ft(u);var y=u;y._p=new Promise(function(j,R){y.onload=j,y.onerror=R}),jt(u,"link",a),n.instance=u}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(r.count++,n=zl.bind(r),e.addEventListener("load",n),e.addEventListener("error",n))}}function Fb(){if(Xi===null)throw Error(o(475));var e=Xi;return e.stylesheets&&e.count===0&&bd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&bd(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zl(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kl=null;function bd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kl=new Map,n.forEach(Yb,e),kl=null,zl.call(e))}function Yb(e,n){if(!(n.state.loading&4)){var a=kl.get(e);if(a)var r=a.get(null);else{a=new Map,kl.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var y=c[u];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),r=y)}r&&a.set(null,r)}c=n.instance,y=c.getAttribute("data-precedence"),u=a.get(y)||r,u===r&&a.set(null,c),a.set(y,c),this.count++,r=zl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Ki={$$typeof:E,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Gb(e,n,a,r,c,u,y,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.hiddenUpdates=xo(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Bg(e,n,a,r,c,u,y,j,R,q,K,$){return e=new Gb(e,n,a,y,j,R,q,$),n=1,u===!0&&(n|=24),u=Yt(3,null,null,n),e.current=u,u.stateNode=e,n=tc(),n.refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:n},ic(u),e}function Lg(e){return e?(e=js,e):js}function Vg(e,n,a,r,c,u){c=Lg(c),r.context===null?r.context=c:r.pendingContext=c,r=na(n),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=aa(e,r,n),a!==null&&(Kt(a,e,n),_i(a,e,n))}function Ug(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function jd(e,n){Ug(e,n),(e=e.alternate)&&Ug(e,n)}function Wg(e){if(e.tag===13){var n=bs(e,67108864);n!==null&&Kt(n,e,67108864),jd(e,67108864)}}var Dl=!0;function Jb(e,n,a,r){var c=O.T;O.T=null;var u=I.p;try{I.p=2,Sd(e,n,a,r)}finally{I.p=u,O.T=c}}function Zb(e,n,a,r){var c=O.T;O.T=null;var u=I.p;try{I.p=8,Sd(e,n,a,r)}finally{I.p=u,O.T=c}}function Sd(e,n,a,r){if(Dl){var c=wd(r);if(c===null)cd(e,n,r,Nl,a),Pg(e,r);else if(Kb(c,e,n,a,r))r.stopPropagation();else if(Pg(e,r),n&4&&-1<Xb.indexOf(e)){for(;c!==null;){var u=os(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var y=Ea(u.pendingLanes);if(y!==0){var j=u;for(j.pendingLanes|=2,j.entangledLanes|=2;y;){var R=1<<31-Ht(y);j.entanglements[1]|=R,y&=~R}An(u),!(Le&6)&&(xl=Sn()+500,Hi(0))}}break;case 13:j=bs(u,2),j!==null&&Kt(j,u,2),yl(),jd(u,2)}if(u=wd(r),u===null&&cd(e,n,r,Nl,a),u===c)break;c=u}c!==null&&r.stopPropagation()}else cd(e,n,r,null,a)}}function wd(e){return e=Eo(e),Td(e)}var Nl=null;function Td(e){if(Nl=null,e=ls(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Nl=e,null}function qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(My()){case ef:return 2;case tf:return 8;case Cr:case Oy:return 32;case nf:return 268435456;default:return 32}default:return 32}}var Cd=!1,xa=null,pa=null,ya=null,Ii=new Map,Qi=new Map,va=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(e,n){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Ii.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(n.pointerId)}}function $i(e,n,a,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},n!==null&&(n=os(n),n!==null&&Wg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Kb(e,n,a,r,c){switch(n){case"focusin":return xa=$i(xa,e,n,a,r,c),!0;case"dragenter":return pa=$i(pa,e,n,a,r,c),!0;case"mouseover":return ya=$i(ya,e,n,a,r,c),!0;case"pointerover":var u=c.pointerId;return Ii.set(u,$i(Ii.get(u)||null,e,n,a,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Qi.set(u,$i(Qi.get(u)||null,e,n,a,r,c)),!0}return!1}function Hg(e){var n=ls(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,Hy(e.priority,function(){if(a.tag===13){var r=Xt();r=po(r);var c=bs(a,r);c!==null&&Kt(c,a,r),jd(a,r)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=wd(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Ao=r,a.target.dispatchEvent(r),Ao=null}else return n=os(a),n!==null&&Wg(n),e.blockedOn=a,!1;n.shift()}return!0}function Fg(e,n,a){Ml(e)&&a.delete(n)}function Ib(){Cd=!1,xa!==null&&Ml(xa)&&(xa=null),pa!==null&&Ml(pa)&&(pa=null),ya!==null&&Ml(ya)&&(ya=null),Ii.forEach(Fg),Qi.forEach(Fg)}function Ol(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ib)))}var Bl=null;function Yg(e){Bl!==e&&(Bl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bl===e&&(Bl=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(Td(r||a)===null)continue;break}var u=os(a);u!==null&&(e.splice(n,3),n-=3,Tc(u,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function er(e){function n(R){return Ol(R,e)}xa!==null&&Ol(xa,e),pa!==null&&Ol(pa,e),ya!==null&&Ol(ya,e),Ii.forEach(n),Qi.forEach(n);for(var a=0;a<va.length;a++){var r=va[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<va.length&&(a=va[0],a.blockedOn===null);)Hg(a),a.blockedOn===null&&va.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],u=a[r+1],y=c[kt]||null;if(typeof u=="function")y||Yg(a);else if(y){var j=null;if(u&&u.hasAttribute("formAction")){if(c=u,y=u[kt]||null)j=y.formAction;else if(Td(c)!==null)continue}else j=y.action;typeof j=="function"?a[r+1]=j:(a.splice(r,3),r-=3),Yg(a)}}}function _d(e){this._internalRoot=e}Ll.prototype.render=_d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,r=Xt();Vg(a,r,e,n,null,null)},Ll.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vg(e.current,2,null,e,null,null),yl(),n[rs]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var n=of();e={blockedOn:null,target:e,priority:n};for(var a=0;a<va.length&&n!==0&&n<va[a].priority;a++);va.splice(a,0,e),a===0&&Hg(e)}};var Gg=i.version;if(Gg!=="19.1.1")throw Error(o(527,Gg,"19.1.1"));I.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Qb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{si=Vl.inject(Qb),Pt=Vl}catch{}}return tr.createRoot=function(e,n){if(!d(e))throw Error(o(299));var a=!1,r="",c=om,u=cm,y=dm,j=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks)),n=Bg(e,1,!1,null,null,a,r,c,u,y,j,null),e[rs]=n.current,od(e),new _d(n)},tr.hydrateRoot=function(e,n,a){if(!d(e))throw Error(o(299));var r=!1,c="",u=om,y=cm,j=dm,R=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),n=Bg(e,1,!0,n,a??null,r,c,u,y,j,R,q),n.context=Lg(null),a=n.current,r=Xt(),r=po(r),c=na(r),c.callback=null,aa(a,c,r),a=r,n.current.lanes=a,ri(n,a),An(n),e[rs]=n.current,od(e),new Ll(n)},tr.version="19.1.1",tr}var rx;function l1(){if(rx)return zd.exports;rx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),zd.exports=r1(),zd.exports}var o1=l1();const c1=Uj(o1),kn=w.createContext(),nr={light:{name:"light",background:"#ffffff",color:"#000000",cardBackground:"#f9f9f9",buttonBackground:"#007bff",buttonColor:"#ffffff"},dark:{name:"dark",background:"#121212",color:"#ffffff",cardBackground:"#1e1e1e",buttonBackground:"#bb86fc",buttonColor:"#000000"},event:{name:"event",background:"#ffefd5",color:"#5a2a27",cardBackground:"#ffe4c4",buttonBackground:"#ff7f50",buttonColor:"#ffffff"},highContrast:{name:"highContrast",background:"#ffffff",color:"#000000",cardBackground:"#ffffff",buttonBackground:"#0000ee",buttonColor:"#ffffff"}},d1=({children:s})=>{const[i,l]=w.useState(()=>typeof window<"u"&&localStorage.getItem("fairscore-theme")||"light"),[o,d]=w.useState(nr[i]||nr.light),[h,f]=w.useState(()=>typeof window<"u"?localStorage.getItem("fairscore-high-contrast")==="true":!1),[m,g]=w.useState(()=>{if(typeof window<"u"){const _=localStorage.getItem("fairscore-reduced-motion");return _!==null?_==="true":window.matchMedia("(prefers-reduced-motion: reduce)").matches}return!1}),[x,p]=w.useState(()=>typeof window<"u"&&localStorage.getItem("fairscore-font-size")||"normal");w.useEffect(()=>{d(nr[i]||nr.light),localStorage.setItem("fairscore-theme",i)},[i]),w.useEffect(()=>{localStorage.setItem("fairscore-high-contrast",h.toString()),h?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},[h]),w.useEffect(()=>{localStorage.setItem("fairscore-reduced-motion",m.toString()),m?document.documentElement.classList.add("reduced-motion"):document.documentElement.classList.remove("reduced-motion")},[m]),w.useEffect(()=>{localStorage.setItem("fairscore-font-size",x);const _={small:"87.5%",normal:"100%",large:"112.5%",xlarge:"125%"};document.documentElement.style.fontSize=_[x]||"100%"},[x]),w.useEffect(()=>{const _=S=>{S.key==="Tab"&&document.body.classList.add("keyboard-nav-active")},z=()=>{document.body.classList.remove("keyboard-nav-active")};return document.addEventListener("keydown",_),document.addEventListener("mousedown",z),()=>{document.removeEventListener("keydown",_),document.removeEventListener("mousedown",z)}},[]);const v=w.useCallback(_=>{nr[_]&&l(_)},[]),b=w.useCallback(()=>{f(_=>!_)},[]),T=w.useCallback(()=>{g(_=>!_)},[]),C=w.useCallback(_=>{["small","normal","large","xlarge"].includes(_)&&p(_)},[]),A={highContrastMode:h,reducedMotion:m,fontSize:x,toggleHighContrast:b,toggleReducedMotion:T,changeFontSize:C};return t.jsx(kn.Provider,{value:{theme:o,themeName:i,toggleTheme:v,...A},children:s})},u1="https://dhpfxourfmccblvdwcjy.supabase.co",f1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRocGZ4b3VyZm1jY2JsdmR3Y2p5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4NTg1ODIsImV4cCI6MjA3NTQzNDU4Mn0.9xm9wDw6d_6aDVWwP0M7KPmpFkuvmK9UusUGuLA_CZA",B=Hj(u1,f1),Ue={SUPER_ADMIN:"super_admin",CO_ADMIN:"co_admin",EVENT_ADMIN:"event_admin",JUDGE:"judge",VIEWER:"viewer"},Ga=new Map,h1=5*60*1e3,Qa={async getUserProfile(s){const{data:i,error:l}=await B.from("user_profiles").select("*").eq("id",s).maybeSingle();if(l)throw l;if(!i)return null;const{data:o}=await B.from("user_roles").select("role").eq("user_id",s).order("created_at",{ascending:!0}).limit(1).maybeSingle();return{...i,role:o?.role||Ue.VIEWER}},async createUserProfile(s,i,l,o=Ue.VIEWER){const{data:d}=await B.from("user_profiles").select("id").eq("id",s).maybeSingle();if(d)return d;const{data:h,error:f}=await B.from("user_profiles").insert([{id:s,email:i,full_name:l}]).select().single();if(f)throw f;return h},async updateUserRole(s,i,l){const o=await this.getUserProfile(s),{data:d,error:h}=await B.from("user_profiles").update({role:i,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(h)throw h;return await this.createAuditLog(l,"role_change","user_profiles",s,{role:o?.role},{role:i}),Ga.delete(s),d},async hasPermission(s,i,l){const o=`${s}:${i}:${l}`,d=Ga.get(o);if(d&&Date.now()-d.timestamp<h1)return d.allowed;try{const{data:h,error:f}=await B.rpc("has_permission",{p_user_id:s,p_resource:i,p_action:l});if(f){if(f.code==="42883"){const m=await this.getUserProfile(s);if(!m)return!1;if(m.role===Ue.SUPER_ADMIN)return!0;const x=(await this.getPermissionsForRole(m.role)).some(p=>p.resource===i&&p.action===l&&p.allowed);return Ga.set(o,{allowed:x,timestamp:Date.now()}),x}return console.error("Permission check error:",f),!1}return Ga.set(o,{allowed:h,timestamp:Date.now()}),h}catch(h){return console.error("Permission check failed:",h),!1}},async canAccessEvent(s,i){try{const{data:l,error:o}=await B.rpc("can_access_event",{p_user_id:s,p_event_id:i});if(o){if(o.code==="42883"){const d=await this.getUserProfile(s);if(!d)return!1;if(d.role===Ue.SUPER_ADMIN)return!0;if(d.role===Ue.EVENT_ADMIN){const{data:h}=await B.from("event_admin_assignments").select("id").eq("user_id",s).eq("event_id",i).maybeSingle();return!!h}return!1}return console.error("Event access check error:",o),!1}return l}catch(l){return console.error("Event access check failed:",l),!1}},async getPermissionsForRole(s){try{const{data:i,error:l}=await B.from("permissions").select("*").eq("role",s);if(l){if(l.code==="42P01")return this.getDefaultPermissions(s);throw l}return i||this.getDefaultPermissions(s)}catch{return console.warn("Permissions table not available, using defaults"),this.getDefaultPermissions(s)}},getDefaultPermissions(s){const i=[{resource:"events",action:"create",allowed:!0},{resource:"events",action:"read",allowed:!0},{resource:"events",action:"update",allowed:!0},{resource:"events",action:"delete",allowed:!0},{resource:"events",action:"lock",allowed:!0},{resource:"events",action:"publish",allowed:!0},{resource:"users",action:"create",allowed:!0},{resource:"users",action:"read",allowed:!0},{resource:"users",action:"update",allowed:!0},{resource:"users",action:"delete",allowed:!0},{resource:"scores",action:"read",allowed:!0},{resource:"scores",action:"override",allowed:!0},{resource:"results",action:"compute",allowed:!0},{resource:"results",action:"read",allowed:!0},{resource:"results",action:"export",allowed:!0},{resource:"audit",action:"read",allowed:!0}],l=[{resource:"events",action:"create",allowed:!0},{resource:"events",action:"read",allowed:!0},{resource:"events",action:"update",allowed:!0},{resource:"events",action:"lock",allowed:!0},{resource:"events",action:"publish",allowed:!0},{resource:"users",action:"read",allowed:!0},{resource:"scores",action:"read",allowed:!0},{resource:"results",action:"compute",allowed:!0},{resource:"results",action:"read",allowed:!0},{resource:"results",action:"export",allowed:!0},{resource:"audit",action:"read",allowed:!0}],o=[{resource:"events",action:"read",allowed:!0},{resource:"scores",action:"read",allowed:!0},{resource:"scores",action:"submit",allowed:!0},{resource:"results",action:"read",allowed:!0}],d=[{resource:"events",action:"read",allowed:!0},{resource:"scores",action:"read",allowed:!0},{resource:"results",action:"read",allowed:!0}];switch(s){case Ue.SUPER_ADMIN:return i;case Ue.EVENT_ADMIN:return l;case Ue.JUDGE:return o;default:return d}},async assignEventAdmin(s,i,l){const{data:o,error:d}=await B.from("event_admin_assignments").insert([{user_id:s,event_id:i,created_by:l}]).select().single();if(d)throw d;return await this.createAuditLog(l,"event_admin_assigned","event_admin_assignments",o.id,null,{user_id:s,event_id:i}),o},async removeEventAdmin(s,i,l){const{error:o}=await B.from("event_admin_assignments").delete().eq("user_id",s).eq("event_id",i);if(o)throw o;await this.createAuditLog(l,"event_admin_removed","event_admin_assignments",null,{user_id:s,event_id:i},null)},async getEventAdmins(s){const{data:i,error:l}=await B.from("event_admin_assignments").select(`
        *,
        user_profiles (
          id,
          email,
          full_name,
          role
        )
      `).eq("event_id",s);if(l)throw l;return i||[]},async getUserEvents(s){const i=await this.getUserProfile(s);if(!i)return[];if(i.role===Ue.SUPER_ADMIN){const{data:l,error:o}=await B.from("events").select("*").order("created_at",{ascending:!1});if(o)throw o;return l||[]}if(i.role===Ue.EVENT_ADMIN){const{data:l,error:o}=await B.from("event_admin_assignments").select(`
          event_id,
          events (*)
        `).eq("user_id",s);if(o)throw o;return(l||[]).map(d=>d.events).filter(Boolean)}return[]},async createAuditLog(s,i,l,o,d=null,h=null,f=null){const{data:m,error:g}=await B.from("audit_logs").insert([{user_id:s,action:i,resource_type:l,resource_id:o,old_value:d,new_value:h,reason:f}]).select().single();return g?(console.error("Audit log error:",g),null):m},async getAuditLogs(s={}){let i=B.from("audit_logs").select("*").order("created_at",{ascending:!1});s.userId&&(i=i.eq("user_id",s.userId)),s.resourceType&&(i=i.eq("resource_type",s.resourceType)),s.resourceId&&(i=i.eq("resource_id",s.resourceId)),s.action&&(i=i.eq("action",s.action)),s.limit&&(i=i.limit(s.limit));const{data:l,error:o}=await i;if(o)throw o;return l||[]},clearCache(s=null){if(s)for(const i of Ga.keys())i.startsWith(s)&&Ga.delete(i);else Ga.clear()}},Nd={minLength:8},m1=5,g1=30,lx={async signUp(s,i,l){const o=this.validatePassword(i);if(!o.valid)return{success:!1,error:o.errors.join(", ")};const{data:d,error:h}=await B.auth.signUp({email:s,password:i,options:{data:{name:l}}});if(h)return{success:!1,error:h.message};if(d.user)try{await Qa.createUserProfile(d.user.id,s,l,Ue.VIEWER)}catch(f){console.error("Profile creation handled by trigger:",f)}return{success:!0,data:d}},async signIn(s,i){const l=await this.getProfileByEmail(s);if(l&&l.locked_until&&new Date(l.locked_until)>new Date)return{success:!1,error:`Account locked. Try again in ${Math.ceil((new Date(l.locked_until)-new Date)/6e4)} minutes.`};const{data:o,error:d}=await B.auth.signInWithPassword({email:s,password:i});return d?(l&&await this.recordFailedLogin(l.id),{success:!1,error:"Invalid email or password"}):(l&&await this.recordSuccessfulLogin(l.id),await Qa.createAuditLog(o.user.id,"login","auth",o.user.id),{success:!0,data:o})},async signOut(){const{data:{session:s}}=await B.auth.getSession();s?.user&&(await Qa.createAuditLog(s.user.id,"logout","auth",s.user.id),await B.from("refresh_tokens").update({revoked_at:new Date().toISOString(),revoked_reason:"logout"}).eq("user_id",s.user.id).is("revoked_at",null));const{error:i}=await B.auth.signOut();return i?{success:!1,error:i.message}:{success:!0}},async getSession(){const{data:{session:s},error:i}=await B.auth.getSession();return i?{success:!1,error:i.message}:{success:!0,session:s}},async refreshSession(){const{data:s,error:i}=await B.auth.refreshSession();return i?{success:!1,error:i.message}:{success:!0,data:s}},async resetPassword(s){const{error:i}=await B.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});return i?{success:!1,error:i.message}:{success:!0}},async updatePassword(s){const i=this.validatePassword(s);if(!i.valid)return{success:!1,error:i.errors.join(", ")};const{data:l,error:o}=await B.auth.updateUser({password:s});if(o)return{success:!1,error:o.message};const{data:{session:d}}=await B.auth.getSession();return d?.user&&(await B.from("user_profiles").update({password_changed_at:new Date().toISOString()}).eq("id",d.user.id),await Qa.createAuditLog(d.user.id,"password_change","auth",d.user.id)),{success:!0,data:l}},validatePassword(s){const i=[];return s.length<Nd.minLength&&i.push(`Password must be at least ${Nd.minLength} characters`),/[A-Z]/.test(s)||i.push("Password must contain at least one uppercase letter"),/[a-z]/.test(s)||i.push("Password must contain at least one lowercase letter"),/[0-9]/.test(s)||i.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(s)||i.push("Password must contain at least one special character"),{valid:i.length===0,errors:i,criteria:{length:s.length>=Nd.minLength,uppercase:/[A-Z]/.test(s),lowercase:/[a-z]/.test(s),number:/[0-9]/.test(s),special:/[!@#$%^&*(),.?":{}|<>]/.test(s)}}},async getProfileByEmail(s){const{data:i,error:l}=await B.from("user_profiles").select("*").eq("email",s).maybeSingle();return l?(console.error("Error fetching profile:",l),null):i},async recordFailedLogin(s){const{data:i}=await B.from("user_profiles").select("failed_login_attempts").eq("id",s).single(),l=(i?.failed_login_attempts||0)+1,o={failed_login_attempts:l,updated_at:new Date().toISOString()};l>=m1&&(o.locked_until=new Date(Date.now()+g1*6e4).toISOString(),await B.from("security_alerts").insert([{user_id:s,alert_type:"account_locked",severity:"high",description:`Account locked after ${l} failed login attempts`}])),await B.from("user_profiles").update(o).eq("id",s)},async recordSuccessfulLogin(s){await B.from("user_profiles").update({failed_login_attempts:0,locked_until:null,last_login_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",s)},async checkPasswordAge(s,i=90){const{data:l}=await B.from("user_profiles").select("password_changed_at").eq("id",s).single();if(!l?.password_changed_at)return{expired:!1,daysOld:0};const o=Date.now()-new Date(l.password_changed_at).getTime(),d=Math.floor(o/(1e3*60*60*24));return{expired:d>=i,daysOld:d,expiresIn:i-d}},onAuthStateChange(s){return B.auth.onAuthStateChange(s)}},Qp=w.createContext(),x1=1e4,p1=({children:s})=>{const[i,l]=w.useState(null),[o,d]=w.useState(null),[h,f]=w.useState([]),[m,g]=w.useState(null),[x,p]=w.useState(null),[v,b]=w.useState(!0),[T,C]=w.useState(null),A=w.useRef(null),_=w.useRef(!1),z=w.useCallback(async te=>{if(!_.current)try{const me=await Qa.getUserProfile(te);if(me){_.current=!0,d(me);const X=await Qa.getPermissionsForRole(me.role);if(f(X),me.organization_id){const{data:Z,error:O}=await B.from("organizations").select("*").eq("id",me.organization_id).maybeSingle();O&&console.warn("Error loading organization:",O),g(Z);const{data:I,error:H}=await B.from("branding_settings").select("*").eq("organization_id",me.organization_id).maybeSingle();H&&console.warn("Error loading branding:",H),p(I)}}}catch(me){console.error("Error loading user profile:",me),C("Failed to load user profile. Please try again.")}},[]),S=async(te,me,X)=>(C(null),await lx.signUp(te,me,X)),E=async(te,me)=>{C(null),_.current=!1;const X=await lx.signIn(te,me);if(X.success&&X.data.user){const Z=X.data.user;l({id:Z.id,email:Z.email,username:Z.user_metadata?.name||Z.email}),await z(Z.id)}return X},W=async te=>{C(null),_.current=!1,l({id:te.id,email:te.email,username:te.user_metadata?.name||te.email}),await z(te.id)},N=async()=>{try{l(null),d(null),f([]),g(null),p(null),C(null),_.current=!1,await B.auth.signOut()}catch(te){console.error("Logout error:",te.message)}},J=w.useCallback(()=>{C(null),b(!0),_.current=!1,B.auth.getSession().then(({data:{session:te}})=>{te?.user?(l({id:te.user.id,email:te.user.email,username:te.user.user_metadata?.name||te.user.email}),z(te.user.id).finally(()=>{b(!1)})):b(!1)}).catch(()=>{b(!1),C("Failed to check session. Please refresh the page.")})},[z]),oe=w.useCallback((te,me)=>o?o.role===Ue.SUPER_ADMIN?!0:h.some(X=>X.resource===te&&X.action===me&&X.allowed):!1,[o,h]),U=w.useCallback(async te=>i?Qa.canAccessEvent(i.id,te):!1,[i]),ae=w.useCallback(async()=>{i?.id&&(_.current=!1,await z(i.id))},[i,z]),P=w.useCallback(()=>{A.current&&(clearTimeout(A.current),A.current=null),b(!1),C(null)},[]);w.useEffect(()=>{let te=!0;A.current=setTimeout(()=>{te&&v&&(console.warn("Auth loading timeout reached"),b(!1),C("Loading took too long. Please try again."))},x1);const{data:{subscription:me}}=B.auth.onAuthStateChange((X,Z)=>{te&&(Z?.user?(l({id:Z.user.id,email:Z.user.email,username:Z.user.user_metadata?.name||Z.user.email}),setTimeout(()=>{te&&z(Z.user.id).finally(()=>{te&&P()})},0)):(l(null),d(null),f([]),g(null),p(null),_.current=!1,P()))});return B.auth.getSession().then(({data:{session:X}})=>{te&&(X?.user?(l({id:X.user.id,email:X.user.email,username:X.user.user_metadata?.name||X.user.email}),setTimeout(()=>{te&&z(X.user.id).finally(()=>{te&&P()})},0)):P())}).catch(X=>{console.error("Session check error:",X),te&&P()}),()=>{te=!1,A.current&&clearTimeout(A.current),me.unsubscribe()}},[z,P]);const re={user:i,userProfile:o,permissions:h,organization:m,branding:x,loading:v,authError:T,login:W,logout:N,signUp:S,signIn:E,hasPermission:oe,canAccessEvent:U,refreshProfile:ae,retry:J,Roles:Ue};return t.jsx(Qp.Provider,{value:re,children:s})},qt=()=>w.useContext(Qp);class y1 extends Kp.Component{constructor(i){super(i),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0}}componentDidCatch(i,l){this.setState({error:i,errorInfo:l}),console.error("ErrorBoundary caught an error:",i,l)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()};handleBack=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.history.back()};render(){if(this.state.hasError){const{fallback:i}=this.props;return i||t.jsx(k,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",p:3},children:t.jsxs(ze,{elevation:0,sx:{maxWidth:480,width:"100%",p:4,borderRadius:"16px",textAlign:"center",boxShadow:"0 4px 24px rgba(0,0,0,0.08)"},children:[t.jsx(ej,{sx:{fontSize:64,color:"#dc2626",mb:2}}),t.jsx(L,{variant:"h5",sx:{fontWeight:700,color:"#1e293b",mb:1},children:"Something went wrong"}),t.jsx(L,{sx:{color:"#64748b",mb:3},children:"We encountered an unexpected error. Please try again or go back."}),this.state.error&&t.jsxs(Oe,{severity:"error",sx:{mb:3,textAlign:"left","& .MuiAlert-message":{width:"100%"}},children:[t.jsx(L,{variant:"body2",sx:{fontWeight:600,mb:.5},children:"Error details:"}),t.jsx(L,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.8rem",wordBreak:"break-word"},children:this.state.error.toString()})]}),t.jsxs(k,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[t.jsx(se,{variant:"outlined",onClick:this.handleBack,sx:{textTransform:"none",fontWeight:600,px:3,borderRadius:"10px",borderColor:"#e2e8f0",color:"#64748b","&:hover":{borderColor:"#cbd5e1",backgroundColor:"#f8fafc"}},children:"Go Back"}),t.jsx(se,{variant:"contained",startIcon:t.jsx(ns,{}),onClick:this.handleRetry,sx:{textTransform:"none",fontWeight:600,px:3,borderRadius:"10px",background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)"}},children:"Reload Page"})]})]})})}return this.props.children}}const $p=({isOpen:s,onClose:i})=>{const{highContrastMode:l,reducedMotion:o,fontSize:d,toggleHighContrast:h,toggleReducedMotion:f,changeFontSize:m}=w.useContext(kn);if(!s)return null;const g=[{value:"small",label:"Small (87.5%)"},{value:"normal",label:"Normal (100%)"},{value:"large",label:"Large (112.5%)"},{value:"xlarge",label:"Extra Large (125%)"}];return t.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"a11y-settings-title",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:x=>{x.target===x.currentTarget&&i()},onKeyDown:x=>{x.key==="Escape"&&i()},children:t.jsxs("div",{style:{backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto",border:"2px solid var(--border-color, #e5e7eb)",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.25)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx("h2",{id:"a11y-settings-title",style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-primary, #1f2937)",margin:0},children:"Accessibility Settings"}),t.jsx("button",{onClick:i,"aria-label":"Close accessibility settings",style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary, #6b7280)",padding:"8px",borderRadius:"8px",minHeight:"44px",minWidth:"44px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"var(--bg-secondary, #f3f4f6)",borderRadius:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"high-contrast-toggle",style:{fontWeight:"600",color:"var(--text-primary, #1f2937)",display:"block",marginBottom:"4px"},children:"High Contrast Mode"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary, #6b7280)",margin:0},children:"Increases contrast for better visibility"})]}),t.jsx("button",{id:"high-contrast-toggle",role:"switch","aria-checked":l,onClick:h,style:{width:"56px",height:"32px",borderRadius:"16px",border:"2px solid",borderColor:l?"var(--primary-color, #2563eb)":"var(--border-color, #e5e7eb)",backgroundColor:l?"var(--primary-color, #2563eb)":"var(--bg-primary, #ffffff)",cursor:"pointer",position:"relative",transition:"all 0.2s ease",minHeight:"44px",minWidth:"56px"},children:t.jsx("span",{style:{position:"absolute",top:"4px",left:l?"28px":"4px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:l?"#ffffff":"var(--text-secondary, #6b7280)",transition:"left 0.2s ease"}})})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"var(--bg-secondary, #f3f4f6)",borderRadius:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"reduced-motion-toggle",style:{fontWeight:"600",color:"var(--text-primary, #1f2937)",display:"block",marginBottom:"4px"},children:"Reduce Motion"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary, #6b7280)",margin:0},children:"Minimizes animations throughout the app"})]}),t.jsx("button",{id:"reduced-motion-toggle",role:"switch","aria-checked":o,onClick:f,style:{width:"56px",height:"32px",borderRadius:"16px",border:"2px solid",borderColor:o?"var(--primary-color, #2563eb)":"var(--border-color, #e5e7eb)",backgroundColor:o?"var(--primary-color, #2563eb)":"var(--bg-primary, #ffffff)",cursor:"pointer",position:"relative",transition:"all 0.2s ease",minHeight:"44px",minWidth:"56px"},children:t.jsx("span",{style:{position:"absolute",top:"4px",left:o?"28px":"4px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:o?"#ffffff":"var(--text-secondary, #6b7280)",transition:"left 0.2s ease"}})})]}),t.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--bg-secondary, #f3f4f6)",borderRadius:"12px"},children:[t.jsx("label",{htmlFor:"font-size-select",style:{fontWeight:"600",color:"var(--text-primary, #1f2937)",display:"block",marginBottom:"4px"},children:"Text Size"}),t.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary, #6b7280)",margin:"0 0 12px 0"},children:"Adjust the text size for better readability"}),t.jsx("select",{id:"font-size-select",value:d,onChange:x=>m(x.target.value),"aria-describedby":"font-size-description",style:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"2px solid var(--border-color, #e5e7eb)",backgroundColor:"var(--bg-primary, #ffffff)",color:"var(--text-primary, #1f2937)",fontSize:"1rem",cursor:"pointer",minHeight:"44px"},children:g.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value))})]}),t.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--bg-secondary, #f3f4f6)",borderRadius:"12px"},children:[t.jsx("h3",{style:{fontWeight:"600",color:"var(--text-primary, #1f2937)",marginBottom:"12px",fontSize:"1rem"},children:"Keyboard Shortcuts"}),t.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("li",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"var(--text-secondary, #6b7280)"},children:[t.jsx("span",{children:"Navigate elements"}),t.jsx("kbd",{style:{padding:"4px 8px",backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:"4px",border:"1px solid var(--border-color, #e5e7eb)",fontFamily:"monospace",fontSize:"0.75rem"},children:"Tab"})]}),t.jsxs("li",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"var(--text-secondary, #6b7280)"},children:[t.jsx("span",{children:"Activate buttons/links"}),t.jsx("kbd",{style:{padding:"4px 8px",backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:"4px",border:"1px solid var(--border-color, #e5e7eb)",fontFamily:"monospace",fontSize:"0.75rem"},children:"Enter / Space"})]}),t.jsxs("li",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",color:"var(--text-secondary, #6b7280)"},children:[t.jsx("span",{children:"Close dialogs"}),t.jsx("kbd",{style:{padding:"4px 8px",backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:"4px",border:"1px solid var(--border-color, #e5e7eb)",fontFamily:"monospace",fontSize:"0.75rem"},children:"Escape"})]})]})]})]}),t.jsx("div",{style:{marginTop:"24px",display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{onClick:i,style:{padding:"12px 24px",backgroundColor:"var(--primary-color, #2563eb)",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",fontSize:"1rem",cursor:"pointer",minHeight:"44px"},children:"Done"})})]})})};function v1(){const s=yt(),{themeName:i,toggleTheme:l}=w.useContext(kn),[o,d]=w.useState(!1),[h,f]=w.useState(!1);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx($p,{isOpen:h,onClose:()=>f(!1)}),t.jsx("nav",{className:"landing-nav",role:"navigation","aria-label":"Main navigation",children:t.jsxs("div",{className:"nav-container-wide",children:[t.jsx("div",{className:"logo",children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:`nav-links ${o?"open":""}`,children:[t.jsx("li",{children:t.jsx("a",{href:"/how-it-works",children:"How It Works"})}),t.jsx("li",{children:t.jsx("a",{href:"/features",children:"Features"})}),t.jsx("li",{children:t.jsx("a",{href:"/algorithm",children:"Algorithm"})}),t.jsx("li",{children:t.jsx("a",{href:"#contact",children:"Contact"})})]}),t.jsxs("div",{className:"nav-actions",children:[t.jsxs("div",{className:"theme-toggles",role:"group","aria-label":"Theme selection",children:[t.jsx("button",{className:`theme-btn ${i==="light"?"active":""}`,onClick:()=>l("light"),"aria-pressed":i==="light",children:"Light"}),t.jsx("button",{className:`theme-btn ${i==="dark"?"active":""}`,onClick:()=>l("dark"),"aria-pressed":i==="dark",children:"Dark"}),t.jsx("button",{className:`theme-btn ${i==="event"?"active":""}`,onClick:()=>l("event"),"aria-pressed":i==="event",children:"Event"})]}),t.jsx("button",{className:"a11y-btn",onClick:()=>f(!0),"aria-label":"Open accessibility settings",title:"Accessibility Settings",style:{background:"transparent",border:"1px solid var(--primary-color)",color:"var(--primary-color)",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"44px",minWidth:"44px"},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("circle",{cx:"12",cy:"8",r:"2"}),t.jsx("path",{d:"M12 10v8"}),t.jsx("path",{d:"M8 14l4-2 4 2"})]})}),t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})]}),t.jsxs("button",{className:"hamburger",onClick:()=>d(!o),"aria-label":o?"Close menu":"Open menu","aria-expanded":o,children:[t.jsx("span",{className:"bar","aria-hidden":"true"}),t.jsx("span",{className:"bar","aria-hidden":"true"}),t.jsx("span",{className:"bar","aria-hidden":"true"})]})]})}),t.jsx("section",{className:"hero-section-large",children:t.jsxs("div",{className:"hero-content-wide",children:[t.jsx("h1",{children:"Fair, Accurate Event Judging Software"}),t.jsx("p",{className:"hero-subtitle-large",children:"Transform your hackathons, competitions, and events with real-time scoring, percentile ranking, and advanced judge bias correction"}),t.jsxs("div",{className:"hero-cta",children:[t.jsx("button",{className:"cta-primary",onClick:()=>s("/login"),children:"Get Started"}),t.jsx("button",{className:"cta-secondary",onClick:()=>s("/how-it-works"),children:"Learn More"})]}),t.jsxs("div",{className:"hero-stats",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("h3",{children:"100%"}),t.jsx("p",{children:"Fair Scoring"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("h3",{children:"Real-time"}),t.jsx("p",{children:"Results"})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("h3",{children:"Zero"}),t.jsx("p",{children:"Bias"})]})]})]})}),t.jsx("section",{className:"home-preview-section",children:t.jsxs("div",{className:"preview-container-wide",children:[t.jsx("h2",{className:"preview-title",children:"How It Works"}),t.jsx("p",{className:"preview-subtitle",children:"Simple workflow for fair event judging"}),t.jsxs("div",{className:"preview-grid",children:[t.jsxs("div",{className:"preview-card",children:[t.jsx("div",{className:"preview-number",children:"1"}),t.jsx("h3",{children:"Create Event"}),t.jsx("p",{children:"Set up your competition in minutes"})]}),t.jsxs("div",{className:"preview-card",children:[t.jsx("div",{className:"preview-number",children:"2"}),t.jsx("h3",{children:"Judges Evaluate"}),t.jsx("p",{children:"Real-time scoring from any device"})]}),t.jsxs("div",{className:"preview-card",children:[t.jsx("div",{className:"preview-number",children:"3"}),t.jsx("h3",{children:"Auto Normalize"}),t.jsx("p",{children:"Fair comparison across all judges"})]}),t.jsxs("div",{className:"preview-card",children:[t.jsx("div",{className:"preview-number",children:"4"}),t.jsx("h3",{children:"Export Results"}),t.jsx("p",{children:"Comprehensive analytics and reports"})]})]}),t.jsx("button",{className:"learn-more-btn",onClick:()=>s("/how-it-works"),children:"Learn More"})]})}),t.jsx("section",{className:"home-preview-section-alt",children:t.jsxs("div",{className:"preview-container-wide",children:[t.jsx("h2",{className:"preview-title",children:"Complete Feature Set"}),t.jsx("p",{className:"preview-subtitle",children:"Everything you need for professional event judging"}),t.jsxs("div",{className:"preview-features-grid",children:[t.jsxs("div",{className:"preview-feature",children:[t.jsx("h4",{children:"Real-Time Scoring"}),t.jsx("p",{children:"Instant score submission and updates"})]}),t.jsxs("div",{className:"preview-feature",children:[t.jsx("h4",{children:"Z-Score Normalization"}),t.jsx("p",{children:"Automatic bias correction"})]}),t.jsxs("div",{className:"preview-feature",children:[t.jsx("h4",{children:"Multi-Judge Support"}),t.jsx("p",{children:"Flexible assignment and tracking"})]}),t.jsxs("div",{className:"preview-feature",children:[t.jsx("h4",{children:"Export & Reports"}),t.jsx("p",{children:"CSV, PDF, and analytics"})]}),t.jsxs("div",{className:"preview-feature",children:[t.jsx("h4",{children:"Audit Trail"}),t.jsx("p",{children:"Complete transparency"})]}),t.jsxs("div",{className:"preview-feature",children:[t.jsx("h4",{children:"Mobile Friendly"}),t.jsx("p",{children:"Works on all devices"})]})]}),t.jsx("button",{className:"learn-more-btn",onClick:()=>s("/features"),children:"Learn More"})]})}),t.jsx("section",{className:"home-preview-section",children:t.jsxs("div",{className:"preview-container-wide",children:[t.jsx("h2",{className:"preview-title",children:"Our Scoring Algorithm"}),t.jsx("p",{className:"preview-subtitle",children:"Fair comparisons through Z-Score normalization"}),t.jsx("div",{className:"algorithm-preview",children:t.jsxs("div",{className:"algorithm-preview-content",children:[t.jsx("h3",{children:"Why Z-Score?"}),t.jsx("p",{children:"Different judges have different scoring patterns. Our algorithm corrects for judge bias by standardizing scores based on each judge's mean and standard deviation."}),t.jsxs("div",{className:"algorithm-benefits-preview",children:[t.jsx("div",{className:"benefit-preview",children:"Eliminates judge bias"}),t.jsx("div",{className:"benefit-preview",children:"Statistically validated"}),t.jsx("div",{className:"benefit-preview",children:"Transparent methodology"})]})]})}),t.jsx("button",{className:"learn-more-btn",onClick:()=>s("/algorithm"),children:"Learn More"})]})}),t.jsx("section",{className:"use-cases-section-home",children:t.jsxs("div",{className:"preview-container-wide",children:[t.jsx("h2",{className:"preview-title",children:"Perfect for All Types of Events"}),t.jsxs("div",{className:"use-cases-grid-home",children:[t.jsxs("div",{className:"use-case-card-home",children:[t.jsx("h3",{children:"Hackathons"}),t.jsx("p",{children:"Tech competitions with multiple judges and categories"})]}),t.jsxs("div",{className:"use-case-card-home",children:[t.jsx("h3",{children:"School Competitions"}),t.jsx("p",{children:"Science fairs and academic challenges"})]}),t.jsxs("div",{className:"use-case-card-home",children:[t.jsx("h3",{children:"Startup Pitches"}),t.jsx("p",{children:"Investor competitions with panel judging"})]}),t.jsxs("div",{className:"use-case-card-home",children:[t.jsx("h3",{children:"Corporate Innovation"}),t.jsx("p",{children:"Internal challenges and employee competitions"})]})]})]})}),t.jsx("section",{id:"contact",className:"cta-section-home",children:t.jsxs("div",{className:"cta-content-home",children:[t.jsx("h2",{children:"Ready to Transform Your Events?"}),t.jsx("p",{children:"Join event organizers who trust FairScore for fair, accurate, and professional judging"}),t.jsx("button",{className:"cta-large",onClick:()=>s("/login"),children:"Get Started Now"}),t.jsx("p",{className:"cta-note",children:"No credit card required  Setup in minutes"})]})}),t.jsxs("footer",{className:"landing-footer",children:[t.jsxs("div",{className:"footer-container-wide",children:[t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{children:"FairScore"}),t.jsx("p",{children:"Fair, accurate event judging software for hackathons, competitions, and educational events."})]}),t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{children:"Product"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx("a",{href:"/features",children:"Features"})}),t.jsx("li",{children:t.jsx("a",{href:"/how-it-works",children:"How It Works"})}),t.jsx("li",{children:t.jsx("a",{href:"/algorithm",children:"Algorithm"})})]})]}),t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{children:"Resources"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx("a",{href:"#contact",children:"Contact Us"})}),t.jsx("li",{children:t.jsx("a",{href:"#contact",children:"Documentation"})}),t.jsx("li",{children:t.jsx("a",{href:"#contact",children:"Support"})})]})]}),t.jsxs("div",{className:"footer-column",children:[t.jsx("h4",{children:"Contact"}),t.jsx("p",{children:"Email: info@scoreapp.com"}),t.jsx("p",{children:"For demos and inquiries"})]})]}),t.jsx("div",{className:"footer-bottom",children:t.jsx("p",{children:" 2025 FairScore. All rights reserved."})})]})]})}function b1(){const s=yt(),{themeName:i,toggleTheme:l}=w.useContext(kn),[o,d]=w.useState(!1);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx("nav",{className:"landing-nav",children:t.jsxs("div",{className:"nav-container",children:[t.jsx("div",{className:"logo",onClick:()=>s("/"),style:{cursor:"pointer"},children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:`nav-links ${o?"open":""}`,children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/how-it-works",children:"How It Works"})}),t.jsx("li",{children:t.jsx("a",{href:"/features",children:"Features"})}),t.jsx("li",{children:t.jsx("a",{href:"/algorithm",children:"Algorithm"})})]}),t.jsxs("div",{className:"nav-actions",children:[t.jsxs("div",{className:"theme-toggles",children:[t.jsx("button",{className:`theme-btn ${i==="light"?"active":""}`,onClick:()=>l("light"),children:"Light"}),t.jsx("button",{className:`theme-btn ${i==="dark"?"active":""}`,onClick:()=>l("dark"),children:"Dark"}),t.jsx("button",{className:`theme-btn ${i==="event"?"active":""}`,onClick:()=>l("event"),children:"Event"})]}),t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})]}),t.jsxs("button",{className:"hamburger",onClick:()=>d(!o),children:[t.jsx("span",{className:"bar"}),t.jsx("span",{className:"bar"}),t.jsx("span",{className:"bar"})]})]})}),t.jsx("section",{className:"page-hero",children:t.jsxs("div",{className:"page-hero-content",children:[t.jsx("h1",{children:"How It Works"}),t.jsx("p",{children:"A simple, powerful workflow designed for event organizers and judges"})]})}),t.jsx("section",{className:"page-content-section",children:t.jsxs("div",{className:"section-container-full",children:[t.jsxs("div",{className:"workflow-steps",children:[t.jsxs("div",{className:"workflow-card",children:[t.jsx("div",{className:"workflow-number",children:"1"}),t.jsxs("div",{className:"workflow-content",children:[t.jsx("h3",{children:"Create Your Event"}),t.jsx("p",{children:"Set up your competition in minutes. Configure the number of teams, judges, scoring categories, and evaluation criteria."}),t.jsxs("ul",{className:"workflow-checklist",children:[t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Define team names and participants"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Assign judges to specific rounds or venues"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Set scoring criteria and weights"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Configure promotion rules"]})]})]})]}),t.jsxs("div",{className:"workflow-card",children:[t.jsx("div",{className:"workflow-number",children:"2"}),t.jsxs("div",{className:"workflow-content",children:[t.jsx("h3",{children:"Judges Evaluate"}),t.jsx("p",{children:"Judges receive secure links to access their evaluation dashboard. They can score teams from any device."}),t.jsxs("ul",{className:"workflow-checklist",children:[t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Mobile-friendly judging interface"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Real-time score submission"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Offline mode with sync capability"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Progress tracking per judge"]})]})]})]}),t.jsxs("div",{className:"workflow-card",children:[t.jsx("div",{className:"workflow-number",children:"3"}),t.jsxs("div",{className:"workflow-content",children:[t.jsx("h3",{children:"Automatic Normalization"}),t.jsx("p",{children:"Our Z-score algorithm automatically corrects for judge bias, ensuring fair comparisons across all evaluations."}),t.jsxs("ul",{className:"workflow-checklist",children:[t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Statistical bias correction"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Percentile ranking calculation"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Cross-judge score normalization"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Transparent methodology"]})]})]})]}),t.jsxs("div",{className:"workflow-card",children:[t.jsx("div",{className:"workflow-number",children:"4"}),t.jsxs("div",{className:"workflow-content",children:[t.jsx("h3",{children:"View & Export Results"}),t.jsx("p",{children:"Access comprehensive dashboards with analytics, rankings, and detailed breakdowns. Export in multiple formats."}),t.jsxs("ul",{className:"workflow-checklist",children:[t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Live results dashboard"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," CSV and PDF exports"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Public result sharing links"]}),t.jsxs("li",{children:[t.jsx("span",{className:"check",children:""})," Historical audit trail"]})]})]})]})]}),t.jsxs("div",{className:"user-workflows",children:[t.jsx("h2",{className:"workflows-title",children:"User Workflows"}),t.jsxs("div",{className:"user-workflows-grid",children:[t.jsxs("div",{className:"user-workflow-card",children:[t.jsx("h3",{children:"Admin"}),t.jsxs("ul",{className:"user-workflow-list",children:[t.jsx("li",{children:"Create event and configure settings"}),t.jsx("li",{children:"Add teams, judges, and categories"}),t.jsx("li",{children:"Assign judges to evaluation rounds"}),t.jsx("li",{children:"Monitor scoring progress in real-time"}),t.jsx("li",{children:"Review and approve final results"}),t.jsx("li",{children:"Export results for distribution"})]})]}),t.jsxs("div",{className:"user-workflow-card",children:[t.jsx("h3",{children:"Judge"}),t.jsxs("ul",{className:"user-workflow-list",children:[t.jsx("li",{children:"Access event via secure token link"}),t.jsx("li",{children:"View assigned teams and criteria"}),t.jsx("li",{children:"Submit scores for each category"}),t.jsx("li",{children:"Add optional comments and feedback"}),t.jsx("li",{children:"Review submission history"}),t.jsx("li",{children:"Track evaluation progress"})]})]})]})]}),t.jsxs("div",{className:"section-cta",children:[t.jsx("h2",{children:"Ready to Get Started?"}),t.jsx("p",{children:"Try FairScore for your next event"}),t.jsx("button",{className:"cta-large",onClick:()=>s("/login"),children:"Start Free Demo"})]})]})})]})}function j1(){const s=yt(),{themeName:i,toggleTheme:l}=w.useContext(kn),[o,d]=w.useState(!1);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx("nav",{className:"landing-nav",children:t.jsxs("div",{className:"nav-container",children:[t.jsx("div",{className:"logo",onClick:()=>s("/"),style:{cursor:"pointer"},children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:`nav-links ${o?"open":""}`,children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/how-it-works",children:"How It Works"})}),t.jsx("li",{children:t.jsx("a",{href:"/features",children:"Features"})}),t.jsx("li",{children:t.jsx("a",{href:"/algorithm",children:"Algorithm"})})]}),t.jsxs("div",{className:"nav-actions",children:[t.jsxs("div",{className:"theme-toggles",children:[t.jsx("button",{className:`theme-btn ${i==="light"?"active":""}`,onClick:()=>l("light"),children:"Light"}),t.jsx("button",{className:`theme-btn ${i==="dark"?"active":""}`,onClick:()=>l("dark"),children:"Dark"}),t.jsx("button",{className:`theme-btn ${i==="event"?"active":""}`,onClick:()=>l("event"),children:"Event"})]}),t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})]}),t.jsxs("button",{className:"hamburger",onClick:()=>d(!o),children:[t.jsx("span",{className:"bar"}),t.jsx("span",{className:"bar"}),t.jsx("span",{className:"bar"})]})]})}),t.jsx("section",{className:"page-hero",children:t.jsxs("div",{className:"page-hero-content",children:[t.jsx("h1",{children:"Complete Feature Set"}),t.jsx("p",{children:"Everything you need to run fair, transparent, and professional event judging"})]})}),t.jsx("section",{className:"page-content-section",children:t.jsxs("div",{className:"section-container-full",children:[t.jsxs("div",{className:"features-category",children:[t.jsx("h3",{className:"category-title",children:"Scoring & Evaluation"}),t.jsxs("div",{className:"features-grid-compact",children:[t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Multi-Category Scoring"}),t.jsx("p",{children:"Define custom scoring categories with individual weights and criteria."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Real-Time Updates"}),t.jsx("p",{children:"Scores sync instantly across all devices as judges submit evaluations."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Offline Mode"}),t.jsx("p",{children:"Judges can score offline and sync when connection is restored."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Score Validation"}),t.jsx("p",{children:"Automatic validation prevents invalid entries and ensures data quality."})]})]})]}),t.jsxs("div",{className:"features-category",children:[t.jsx("h3",{className:"category-title",children:"Fairness & Transparency"}),t.jsxs("div",{className:"features-grid-compact",children:[t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Z-Score Normalization"}),t.jsx("p",{children:"Statistical algorithm corrects for judge bias and scoring patterns."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Percentile Rankings"}),t.jsx("p",{children:"Shows how each team performs relative to all other participants."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Audit Trail"}),t.jsx("p",{children:"Complete history of all actions with timestamps and user tracking."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Manual Override Controls"}),t.jsx("p",{children:"Admins can adjust scores with full documentation of changes."})]})]})]}),t.jsxs("div",{className:"features-category",children:[t.jsx("h3",{className:"category-title",children:"Judge Management"}),t.jsxs("div",{className:"features-grid-compact",children:[t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Secure Token Links"}),t.jsx("p",{children:"Unique access tokens for each judge without password requirements."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Round-Based Assignment"}),t.jsx("p",{children:"Assign judges to specific rounds, venues, or team categories."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Progress Tracking"}),t.jsx("p",{children:"Monitor which judges have completed their evaluations in real-time."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Judge Analytics"}),t.jsx("p",{children:"View judge scoring patterns and consistency metrics."})]})]})]}),t.jsxs("div",{className:"features-category",children:[t.jsx("h3",{className:"category-title",children:"Results & Reporting"}),t.jsxs("div",{className:"features-grid-compact",children:[t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Live Dashboard"}),t.jsx("p",{children:"Real-time leaderboard with filtering and search capabilities."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"CSV Export"}),t.jsx("p",{children:"Download complete results data for further analysis."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"PDF Reports"}),t.jsx("p",{children:"Generate professional result documents with branding."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Public Result Links"}),t.jsx("p",{children:"Share results via secure links with customizable visibility."})]})]})]}),t.jsxs("div",{className:"features-category",children:[t.jsx("h3",{className:"category-title",children:"Event Configuration"}),t.jsxs("div",{className:"features-grid-compact",children:[t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Multiple Rounds"}),t.jsx("p",{children:"Support for preliminary, semifinal, and final round structures."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Team Promotion Logic"}),t.jsx("p",{children:"Automatically advance top N teams to next round based on scores."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Venue Management"}),t.jsx("p",{children:"Organize teams and judges across multiple physical or virtual venues."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Custom Categories"}),t.jsx("p",{children:"Create unlimited custom scoring categories with descriptions."})]})]})]}),t.jsxs("div",{className:"features-category",children:[t.jsx("h3",{className:"category-title",children:"Analytics & Insights"}),t.jsxs("div",{className:"features-grid-compact",children:[t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Score Distribution Charts"}),t.jsx("p",{children:"Visualize score patterns across teams and Z-score zones."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Statistical Metrics"}),t.jsx("p",{children:"Mean, median, standard deviation, and Z-score calculations."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Judge Comparison"}),t.jsx("p",{children:"Compare scoring patterns between different judges."})]}),t.jsxs("div",{className:"feature-card-compact",children:[t.jsx("h4",{children:"Historical Data"}),t.jsx("p",{children:"Access past event data for trend analysis and insights."})]})]})]}),t.jsxs("div",{className:"features-cta",children:[t.jsx("h2",{children:"Experience All Features"}),t.jsx("p",{children:"Try FairScore with your event today"}),t.jsxs("div",{className:"features-buttons",children:[t.jsx("button",{className:"cta-large",onClick:()=>s("/login"),children:"Start Demo"}),t.jsx("button",{className:"cta-secondary-large",onClick:()=>s("/algorithm"),children:"Learn About Our Algorithm"})]})]})]})})]})}function S1(){const s=yt(),{themeName:i,toggleTheme:l}=w.useContext(kn),[o,d]=w.useState(!1);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx("nav",{className:"landing-nav",children:t.jsxs("div",{className:"nav-container",children:[t.jsx("div",{className:"logo",onClick:()=>s("/"),style:{cursor:"pointer"},children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:`nav-links ${o?"open":""}`,children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/how-it-works",children:"How It Works"})}),t.jsx("li",{children:t.jsx("a",{href:"/features",children:"Features"})}),t.jsx("li",{children:t.jsx("a",{href:"/algorithm",children:"Algorithm"})})]}),t.jsxs("div",{className:"nav-actions",children:[t.jsxs("div",{className:"theme-toggles",children:[t.jsx("button",{className:`theme-btn ${i==="light"?"active":""}`,onClick:()=>l("light"),children:"Light"}),t.jsx("button",{className:`theme-btn ${i==="dark"?"active":""}`,onClick:()=>l("dark"),children:"Dark"}),t.jsx("button",{className:`theme-btn ${i==="event"?"active":""}`,onClick:()=>l("event"),children:"Event"})]}),t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})]}),t.jsxs("button",{className:"hamburger",onClick:()=>d(!o),children:[t.jsx("span",{className:"bar"}),t.jsx("span",{className:"bar"}),t.jsx("span",{className:"bar"})]})]})}),t.jsx("section",{className:"page-hero",children:t.jsxs("div",{className:"page-hero-content",children:[t.jsx("h1",{children:"Our Scoring Algorithm"}),t.jsx("p",{children:"Understanding Z-Score Normalization for Fair Judge Comparisons"})]})}),t.jsx("section",{className:"page-content-section",children:t.jsxs("div",{className:"section-container-full",children:[t.jsxs("div",{className:"algorithm-card",children:[t.jsx("h3",{className:"algorithm-card-title",children:"The Problem: Judge Bias"}),t.jsx("p",{className:"algorithm-card-text",children:"Different judges naturally have different scoring tendencies. Some judges may be generous and give high scores, while others may be stricter and give lower scores. This creates unfairness when comparing teams evaluated by different judges."}),t.jsxs("div",{className:"algorithm-example-box",children:[t.jsx("h4",{children:"Example Problem:"}),t.jsx("p",{children:"Judge A rates Team X: 85/100 (Judge A is strict, rarely gives above 85)"}),t.jsx("p",{children:"Judge B rates Team Y: 85/100 (Judge B is generous, frequently gives 90+)"}),t.jsx("p",{className:"highlight-text",children:"Who performed better? Raw scores say they're equal, but context suggests Team X performed better!"})]})]}),t.jsxs("div",{className:"algorithm-card",children:[t.jsx("h3",{className:"algorithm-card-title",children:"The Solution: Z-Score Normalization"}),t.jsx("p",{className:"algorithm-card-text",children:`Z-score normalization adjusts scores based on each judge's scoring pattern. It answers the question: "How does this team's score compare to the judge's average scoring behavior?"`}),t.jsxs("div",{className:"algorithm-formula-box",children:[t.jsx("h4",{children:"The Formula:"}),t.jsx("p",{className:"algorithm-card-text",style:{fontStyle:"italic",marginBottom:"24px"},children:"The Z-score is calculated based on the mean and standard deviation of all scores given by a specific judge, not across all teams. This normalizes each score relative to that judge's own scoring history."}),t.jsx("div",{className:"formula-display",style:{textAlign:"center",fontSize:"18px",padding:"20px"},children:"Z = (Team's Raw Score - Judge's Mean Score) / Judge's Standard Deviation"})]})]}),t.jsxs("div",{className:"algorithm-card",children:[t.jsx("h3",{className:"algorithm-card-title",children:"How It Works Step-by-Step"}),t.jsxs("ol",{className:"algorithm-steps-list",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Collect All Scores for a Judge:"})," Gather every single score that a particular judge has given across all teams and criteria."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Calculate Judge's Mean ():"})," Find the average score for that specific judge. This establishes their personal baseline."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Calculate Judge's Standard Deviation ():"})," Measure the typical spread or variation in that judge's scores. A low  means they are consistent; a high  means their scores vary a lot."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Compute Z-Score for Each Evaluation:"})," For every score a judge gives to a team, apply the Z-score formula using that judge's personal  and ."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Aggregate and Compare:"})," A team's final normalized score is the average of the Z-scores they received from all their judges. Teams can now be ranked fairly."]})]})]}),t.jsxs("div",{className:"algorithm-card",children:[t.jsx("h3",{className:"algorithm-card-title",children:"Worked Example"}),t.jsx("p",{className:"algorithm-card-text",children:"Consider two judges with different tendencies evaluating two different teams:"}),t.jsx("div",{className:"example-table-container",children:t.jsxs("table",{className:"example-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Judge Stats"}),t.jsx("th",{children:"Mean Score ()"}),t.jsx("th",{children:"Std. Dev. ()"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Judge 1 (Strict)"}),t.jsx("td",{children:"75"}),t.jsx("td",{children:"5"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Judge 2 (Generous)"}),t.jsx("td",{children:"90"}),t.jsx("td",{children:"4"})]})]})]})}),t.jsx("div",{className:"example-table-container",children:t.jsxs("table",{className:"example-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Team Evaluation"}),t.jsx("th",{children:"Raw Score"}),t.jsx("th",{children:"Calculation"}),t.jsx("th",{children:"Z-SCORE"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Team A (by Judge 1)"}),t.jsx("td",{children:"85"}),t.jsx("td",{children:"(85 - 75) / 5"}),t.jsx("td",{style:{fontWeight:"bold"},children:"+2.0"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Team B (by Judge 2)"}),t.jsx("td",{children:"92"}),t.jsx("td",{children:"(92 - 90) / 4"}),t.jsx("td",{style:{fontWeight:"bold"},children:"+0.5"})]})]})]})}),t.jsxs("div",{className:"algorithm-example-box",children:[t.jsx("h4",{children:"Interpreting the Result:"}),t.jsx("p",{children:"Even though Team B had a higher raw score (92 vs 85), Team A's Z-score is much higher (+2.0 vs +0.5)."}),t.jsx("p",{className:"highlight-text",children:"This means Team A's performance was exceptionally good relative to their strict judge, while Team B's performance was only slightly above average for their generous judge. Team A is the clear winner."})]})]}),t.jsxs("div",{className:"benefits-section",children:[t.jsx("h3",{className:"section-title-small",children:"Benefits of Our Approach"}),t.jsxs("div",{className:"benefits-grid",children:[t.jsxs("div",{className:"benefit-card",children:[t.jsx("h4",{children:"Fair Comparisons"}),t.jsx("p",{children:"Teams can be compared fairly, regardless of which judges evaluated them."})]}),t.jsxs("div",{className:"benefit-card",children:[t.jsx("h4",{children:"Bias Correction"}),t.jsx("p",{children:"Automatically adjusts for harsh or lenient scoring patterns."})]}),t.jsxs("div",{className:"benefit-card",children:[t.jsx("h4",{children:"Statistical Rigor"}),t.jsx("p",{children:"Based on a proven statistical method used widely in research and data analysis."})]}),t.jsxs("div",{className:"benefit-card",children:[t.jsx("h4",{children:"Transparency"}),t.jsx("p",{children:"The methodology is clear, documented, and auditable for all participants."})]})]})]}),t.jsxs("div",{className:"algorithm-cta",children:[t.jsx("h2",{children:"See It In Action"}),t.jsx("p",{children:"Experience fair scoring with FairScore"}),t.jsx("button",{className:"cta-large",onClick:()=>s("/login"),children:"Try Demo Now"})]})]})})]})}const e0=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),ox=s=>{const i={length:s.length>=8,uppercase:/[A-Z]/.test(s),lowercase:/[a-z]/.test(s),number:/[0-9]/.test(s),special:/[!@#$%^&*(),.?":{}|<>]/.test(s)};return{isValid:Object.values(i).every(Boolean),criteria:i}};function w1(){const[s,i]=w.useState(""),[l,o]=w.useState(""),[d,h]=w.useState({}),[f,m]=w.useState(!1),g=yt(),{signIn:x,login:p}=qt(),v=async b=>{b.preventDefault(),h({});const T={};if(s?e0(s)||(T.email="Please enter a valid email"):T.email="Email is required",l||(T.password="Password is required"),Object.keys(T).length>0){h(T);return}m(!0);try{const C=await x(s,l);if(!C.success){h({general:C.error==="Invalid login credentials"?"Invalid email or password":C.error}),m(!1);return}p(C.data.user),g("/admin/events")}catch(C){console.error(C),h({general:"An error occurred. Please try again."})}finally{m(!1)}};return t.jsx("div",{className:"auth-container",children:t.jsxs("div",{className:"auth-card",children:[t.jsxs("div",{className:"auth-header",children:[t.jsx("h1",{children:"Welcome Back"}),t.jsx("p",{children:"Please login to your account"})]}),t.jsxs("form",{className:"auth-form",onSubmit:v,children:[d.general&&t.jsx("div",{className:"error-message",style:{textAlign:"center"},children:d.general}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email Address"}),t.jsx("input",{id:"email",type:"email",value:s,onChange:b=>i(b.target.value),className:d.email?"error":"",placeholder:"Enter your email"}),d.email&&t.jsx("div",{className:"error-message",children:d.email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsx("input",{id:"password",type:"password",value:l,onChange:b=>o(b.target.value),className:d.password?"error":"",placeholder:"Enter your password"}),d.password&&t.jsx("div",{className:"error-message",children:d.password})]}),t.jsx("button",{type:"submit",className:"auth-button",disabled:f,children:f?t.jsx("span",{className:"loading-spinner"}):"Login"})]}),t.jsxs("div",{className:"auth-footer",children:["Don't have an account? ",t.jsx(Il,{to:"/register",children:"Register here"})]})]})})}const T1=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let i="";for(let l=0;l<6;l++)i+=s.charAt(Math.floor(Math.random()*s.length));return i},C1=(s,i)=>{const l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),l.fillStyle="#f0f0f0",l.fillRect(0,0,s.width,s.height);for(let o=0;o<3;o++)l.strokeStyle=`rgba(${Math.random()*255},${Math.random()*255},${Math.random()*255},0.3)`,l.beginPath(),l.moveTo(Math.random()*s.width,Math.random()*s.height),l.lineTo(Math.random()*s.width,Math.random()*s.height),l.stroke();l.font="bold 30px Arial",l.fillStyle="#333",l.textBaseline="middle";for(let o=0;o<i.length;o++){l.save();const d=20+o*30,h=s.height/2,f=(Math.random()-.5)*.4;l.translate(d,h),l.rotate(f),l.fillText(i[o],0,0),l.restore()}for(let o=0;o<50;o++)l.fillStyle=`rgba(${Math.random()*255},${Math.random()*255},${Math.random()*255},0.5)`,l.fillRect(Math.random()*s.width,Math.random()*s.height,2,2)};function _1(){const[s,i]=w.useState({name:"",email:"",password:"",confirmPassword:""}),[l,o]=w.useState({}),[d,h]=w.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[f,m]=w.useState(""),[g,x]=w.useState(""),[p,v]=w.useState(!1),[b,T]=w.useState(!1),C=w.useRef(null),A=yt(),{signUp:_,login:z}=qt();w.useEffect(()=>{S()},[]),w.useEffect(()=>{if(s.password){const{criteria:N}=ox(s.password);h(N)}},[s.password]);const S=()=>{const N=T1();m(N),C.current&&C1(C.current,N)},E=N=>{const{name:J,value:oe}=N.target;i(U=>({...U,[J]:oe})),l[J]&&o(U=>({...U,[J]:""}))},W=async N=>{N.preventDefault(),o({});const J={};s.name.trim()||(J.name="Name is required"),s.email?e0(s.email)||(J.email="Please enter a valid email"):J.email="Email is required";const{isValid:oe}=ox(s.password);if(s.password?oe||(J.password="Password does not meet all requirements"):J.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(J.confirmPassword="Passwords do not match"):J.confirmPassword="Please confirm your password",g?g.toLowerCase()!==f.toLowerCase()&&(J.captcha="Captcha is incorrect",S(),x("")):J.captcha="Please enter the captcha",Object.keys(J).length>0){o(J);return}v(!0);try{const U=await _(s.email,s.password,s.name);if(!U.success){let ae=U.error;U.error.includes("already registered")&&(ae="Email already registered"),o({general:ae}),v(!1);return}if(U.data.user&&!U.data.session){o({general:"Please check your email and click the confirmation link to complete registration."}),v(!1);return}U.data.user&&(z(U.data.user),A("/admin/events"))}catch(U){console.error(U),o({general:"An error occurred. Please try again."})}finally{v(!1)}};return t.jsx("div",{className:"auth-container",children:t.jsxs("div",{className:"auth-card",children:[t.jsxs("div",{className:"auth-header",children:[t.jsx("h1",{children:"Create Account"}),t.jsx("p",{children:"Sign up to get started"})]}),t.jsxs("form",{className:"auth-form",onSubmit:W,children:[l.general&&t.jsx("div",{className:"error-message",style:{textAlign:"center"},children:l.general}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",children:"Full Name"}),t.jsx("input",{id:"name",name:"name",type:"text",value:s.name,onChange:E,className:l.name?"error":"",placeholder:"Enter your full name"}),l.name&&t.jsx("div",{className:"error-message",children:l.name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",children:"Email Address"}),t.jsx("input",{id:"email",name:"email",type:"email",value:s.email,onChange:E,className:l.email?"error":"",placeholder:"Enter your email"}),l.email&&t.jsx("div",{className:"error-message",children:l.email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",children:"Password"}),t.jsx("input",{id:"password",name:"password",type:"password",value:s.password,onChange:E,onFocus:()=>T(!0),className:l.password?"error":"",placeholder:"Create a strong password"}),l.password&&t.jsx("div",{className:"error-message",children:l.password}),b&&t.jsxs("div",{className:"password-criteria",children:[t.jsx("p",{children:"Password must contain:"}),t.jsxs("div",{className:`criteria-item ${d.length?"valid":"invalid"}`,children:[t.jsx("span",{className:"criteria-icon",children:d.length?"":""}),t.jsx("span",{children:"At least 8 characters"})]}),t.jsxs("div",{className:`criteria-item ${d.uppercase?"valid":"invalid"}`,children:[t.jsx("span",{className:"criteria-icon",children:d.uppercase?"":""}),t.jsx("span",{children:"One uppercase letter (A-Z)"})]}),t.jsxs("div",{className:`criteria-item ${d.lowercase?"valid":"invalid"}`,children:[t.jsx("span",{className:"criteria-icon",children:d.lowercase?"":""}),t.jsx("span",{children:"One lowercase letter (a-z)"})]}),t.jsxs("div",{className:`criteria-item ${d.number?"valid":"invalid"}`,children:[t.jsx("span",{className:"criteria-icon",children:d.number?"":""}),t.jsx("span",{children:"One number (0-9)"})]}),t.jsxs("div",{className:`criteria-item ${d.special?"valid":"invalid"}`,children:[t.jsx("span",{className:"criteria-icon",children:d.special?"":""}),t.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:E,className:l.confirmPassword?"error":"",placeholder:"Confirm your password"}),l.confirmPassword&&t.jsx("div",{className:"error-message",children:l.confirmPassword})]}),t.jsxs("div",{className:"captcha-container",children:[t.jsx("label",{children:"Human Verification"}),t.jsxs("div",{className:"captcha-display",children:[t.jsx("canvas",{ref:C,width:"200",height:"60",className:"captcha-canvas"}),t.jsx("button",{type:"button",onClick:S,className:"refresh-captcha",title:"Refresh Captcha",children:""})]}),t.jsx("input",{type:"text",value:g,onChange:N=>x(N.target.value),className:l.captcha?"error":"",placeholder:"Enter the text above",style:{padding:"12px 15px",border:l.captcha?"2px solid #ef4444":"2px solid #e0e0e0",borderRadius:"10px",fontSize:"14px"}}),l.captcha&&t.jsx("div",{className:"error-message",children:l.captcha})]}),t.jsx("button",{type:"submit",className:"auth-button",disabled:p,children:p?t.jsx("span",{className:"loading-spinner"}):"Create Account"})]}),t.jsxs("div",{className:"auth-footer",children:["Already have an account? ",t.jsx(Il,{to:"/login",children:"Login here"})]})]})})}function A1(){const{categories:s,setCategories:i}=qt(),[l,o]=w.useState(!1),[d,h]=w.useState({name:"",weight:1}),f=()=>{i([...s,{id:Date.now(),...d}]),o(!1),h({name:"",weight:1})},m=g=>{i(s.filter(x=>x.id!==g))};return t.jsxs(k,{sx:{p:3},children:[t.jsx(L,{variant:"h4",gutterBottom:!0,children:"Category Manager"}),t.jsx(Lp,{children:s.map(g=>t.jsx(Id,{secondaryAction:t.jsx(Qe,{edge:"end",onClick:()=>m(g.id),children:t.jsx(Ta,{})}),children:t.jsx(Ks,{primary:g.name,secondary:`Weight: ${g.weight}`})},g.id))}),t.jsx(se,{variant:"contained",onClick:()=>o(!0),children:"Add Category"}),t.jsxs(xt,{open:l,onClose:()=>o(!1),children:[t.jsx(wt,{children:"Add Category"}),t.jsxs(pt,{children:[t.jsx(ke,{fullWidth:!0,label:"Category Name",value:d.name,onChange:g=>h({...d,name:g.target.value}),margin:"normal"}),t.jsx(ke,{fullWidth:!0,label:"Weight",type:"number",value:d.weight,onChange:g=>h({...d,weight:parseFloat(g.target.value)}),margin:"normal"})]}),t.jsxs(Tt,{children:[t.jsx(se,{onClick:()=>o(!1),children:"Cancel"}),t.jsx(se,{onClick:f,children:"Add"})]})]})]})}function E1(){const{user:s,teams:i,categories:l,evaluations:o,setEvaluations:d}=qt(),h=yt(),[f,m]=w.useState(i.reduce((p,v)=>(p[v.id]=l.reduce((b,T)=>(b[T.id]="",b),{}),p),{})),g=(p,v,b)=>{m({...f,[p]:{...f[p],[v]:b}})},x=()=>{for(const v in f)for(const b in f[v])if(!f[v][b]){alert("Please fill all scores.");return}const p=[];i.forEach(v=>{let b=0;l.forEach(T=>{b+=Number(f[v.id][T.id])*T.weight}),p.push({id:Date.now()+Math.random(),judge:s.username,team:v.name,teamId:v.id,scores:f[v.id],total:b})}),d([...o,...p]),h("/results")};return t.jsxs(k,{sx:{p:3},children:[t.jsxs(L,{variant:"h4",gutterBottom:!0,children:["Judge Interface - ",s?.username]}),t.jsx(Ia,{container:!0,spacing:3,children:i.map(p=>t.jsx(Ia,{item:!0,xs:12,md:6,children:t.jsx(zt,{children:t.jsxs(ro,{children:[t.jsx(L,{variant:"h6",children:p.name}),l.map(v=>t.jsx(ke,{fullWidth:!0,label:v.name,type:"number",value:f[p.id][v.id],onChange:b=>g(p.id,v.id,b.target.value),margin:"normal",inputProps:{min:0,max:10}},v.id))]})})},p.id))}),t.jsx(se,{variant:"contained",onClick:x,sx:{mt:3},children:"Submit Scores"})]})}Fj.register(Yj,Gj,Jj,Zj,Xj,Kj,Ij,Qj,$j,e1);function R1({data:s}){const i={labels:s.map(l=>l.team),datasets:[{label:"Total Score",data:s.map(l=>l.total),backgroundColor:"rgba(75,192,192,0.6)"}]};return t.jsx(t1,{data:i,options:{responsive:!0,animation:{duration:1e3}}})}function z1({data:s}){const i=s.reduce((o,d)=>(o[d.judge]=(o[d.judge]||0)+d.total,o),{}),l={labels:Object.keys(i),datasets:[{label:"Judge Score Distribution",data:Object.values(i),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0"]}]};return t.jsx(n1,{data:l,options:{responsive:!0,animation:{duration:1e3}}})}function k1({data:s}){const i=["idea","ppt","execution","teamwork"],l=i.map(d=>{const h=s.reduce((f,m)=>f+Number(m[d]),0);return s.length?h/s.length:0}),o={labels:i.map(d=>d.charAt(0).toUpperCase()+d.slice(1)),datasets:[{label:"Average Scores",data:l,backgroundColor:"rgba(179,181,198,0.2)",borderColor:"rgba(179,181,198,1)",pointBackgroundColor:"rgba(179,181,198,1)"}]};return t.jsx(a1,{data:o,options:{responsive:!0,animation:{duration:1e3}}})}function D1({scores:s}){const i=s.map(h=>h.total),l=i.reduce((h,f)=>h+f,0)/i.length,o=Math.max(...i),d=Math.min(...i);return t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h3",{children:"Analytics"}),t.jsxs("p",{children:["Mean Score: ",l.toFixed(2)]}),t.jsxs("p",{children:["Max Score: ",o]}),t.jsxs("p",{children:["Min Score: ",d]}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[t.jsx("div",{style:{width:"300px",margin:"10px"},children:t.jsx(R1,{data:s})}),t.jsx("div",{style:{width:"300px",margin:"10px"},children:t.jsx(z1,{data:s})}),t.jsx("div",{style:{width:"300px",margin:"10px"},children:t.jsx(k1,{data:s})})]})]})}function N1(){const{evaluations:s,categories:i}=qt(),[l,o]=w.useState(""),[d,h]=w.useState("total"),[f,m]=w.useState("desc"),g=w.useMemo(()=>{const p={};return s.forEach(v=>{p[v.teamId]||(p[v.teamId]={team:v.team,scores:{},count:0,total:0}),p[v.teamId].count+=1,i.forEach(b=>{p[v.teamId].scores[b.name]||(p[v.teamId].scores[b.name]=0),p[v.teamId].scores[b.name]+=Number(v.scores[b.id]||0)}),p[v.teamId].total+=v.total}),Object.keys(p).forEach(v=>{i.forEach(b=>{p[v].scores[b.name]/=p[v].count}),p[v].total/=p[v].count}),Object.values(p)},[s,i]),x=w.useMemo(()=>{let p=g.filter(v=>v.team.toLowerCase().includes(l.toLowerCase()));return p.sort((v,b)=>{const T=v[d],C=b[d];return f==="asc"?T>C?1:-1:T<C?1:-1}),p},[g,l,d,f]);return t.jsxs(k,{sx:{p:3},children:[t.jsx(L,{variant:"h4",gutterBottom:!0,children:"Results Dashboard"}),t.jsxs(k,{sx:{display:"flex",gap:2,mb:2},children:[t.jsx(ke,{label:"Search Team",value:l,onChange:p=>o(p.target.value)}),t.jsxs(It,{children:[t.jsx(Qt,{children:"Sort By"}),t.jsxs($t,{value:d,onChange:p=>h(p.target.value),children:[t.jsx(lt,{value:"total",children:"Total"}),i.map(p=>t.jsx(lt,{value:p.name,children:p.name},p.id))]})]}),t.jsx(se,{variant:"outlined",onClick:()=>m(f==="asc"?"desc":"asc"),children:f==="asc"?"Asc":"Desc"})]}),t.jsx(Bt,{component:ze,children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{children:[t.jsx(G,{children:"Rank"}),t.jsx(G,{children:"Team"}),i.map(p=>t.jsx(G,{children:p.name},p.id)),t.jsx(G,{children:"Total"})]})}),t.jsx(Ut,{children:x.map((p,v)=>t.jsxs(Ne,{children:[t.jsx(G,{children:v+1}),t.jsx(G,{children:p.team}),i.map(b=>t.jsx(G,{children:p.scores[b.name]?.toFixed(2)},b.id)),t.jsx(G,{children:p.total.toFixed(2)})]},v))})]})}),t.jsx(D1,{scores:x})]})}function ss({breadcrumb:s}){const i=yt(),{user:l,logout:o}=qt(),{highContrastMode:d}=w.useContext(kn),[h,f]=w.useState(!1),[m,g]=w.useState(!1),x=tj(),p=nj(x.breakpoints.down("md")),v=[{label:"Events",path:"/admin/events"},{label:"Users",path:"/admin/users"},{label:"Showcase",path:"/showcase"}],b=()=>{f(!h)},T=t.jsxs(k,{onClick:b,sx:{textAlign:"center"},children:[t.jsx(L,{variant:"h6",sx:{my:2,fontWeight:700,color:"#2563eb"},children:"FairScore"}),t.jsxs(Lp,{children:[v.map(C=>t.jsx(Id,{disablePadding:!0,children:t.jsx(Jg,{sx:{textAlign:"center"},onClick:()=>i(C.path),children:t.jsx(Ks,{primary:C.label})})},C.label)),l&&t.jsx(Id,{disablePadding:!0,children:t.jsx(Jg,{sx:{textAlign:"center"},onClick:o,children:t.jsx(Ks,{primary:"Logout",sx:{color:"#ef4444"}})})})]})]});return t.jsxs(t.Fragment,{children:[t.jsx(aj,{component:"nav",position:"static",elevation:0,sx:{backgroundColor:d?"#ffffff":"white",borderBottom:d?"2px solid #000000":"1px solid #e0e0e0",color:"#333"},role:"banner",children:t.jsxs(sj,{sx:{justifyContent:"space-between",py:1,minHeight:{xs:"56px",md:"64px"}},children:[t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:{xs:1,md:3}},children:[p&&t.jsx(Qe,{color:"inherit","aria-label":"Open navigation menu",edge:"start",onClick:b,sx:{color:"#333",minHeight:"44px",minWidth:"44px"},children:t.jsx(ij,{})}),t.jsx(L,{variant:"h6",component:"h1",sx:{fontWeight:700,color:"#2563eb",cursor:"pointer",fontSize:{xs:"1.25rem",md:"1.5rem"}},onClick:()=>i("/admin/events"),tabIndex:0,role:"link",onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),i("/admin/events"))},children:"FairScore"}),s&&!p&&t.jsxs(L,{variant:"body1",component:"nav","aria-label":"Breadcrumb",sx:{color:"#666",fontSize:"1rem"},children:[t.jsx("span",{"aria-hidden":"true",children:"/"})," ",s]})]}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:{xs:1,md:2}},children:[!p&&v.map(C=>t.jsx(se,{onClick:()=>i(C.path),sx:{color:"#333",textTransform:"none",fontWeight:500,minHeight:"44px","&:focus-visible":{outline:"2px solid #2563eb",outlineOffset:"2px"}},children:C.label},C.label)),t.jsx(Qe,{onClick:()=>g(!0),"aria-label":"Open accessibility settings",sx:{color:"#666",minHeight:"44px",minWidth:"44px","&:focus-visible":{outline:"2px solid #2563eb",outlineOffset:"2px"}},children:t.jsx(rj,{})}),l&&t.jsxs(t.Fragment,{children:[t.jsxs(k,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:1},children:[t.jsx(Vp,{sx:{width:32,height:32,bgcolor:"#e0e7ff",color:"#4f46e5"},alt:l.username||l.name||"User",children:t.jsx(lj,{fontSize:"small"})}),t.jsx(L,{variant:"body2",sx:{color:"#333",fontWeight:500},children:l.username||l.name||"User"})]}),!p&&t.jsx(se,{variant:"outlined",onClick:o,"aria-label":"Log out of your account",sx:{borderColor:"#ef4444",color:"#ef4444",textTransform:"none",fontWeight:600,borderRadius:"8px",px:2.5,py:.8,minHeight:"44px",borderWidth:"2px",transition:"all 0.3s ease","&:hover":{background:"#ef4444",color:"white",borderColor:"#ef4444",borderWidth:"2px",transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.25)"},"&:focus-visible":{outline:"2px solid #ef4444",outlineOffset:"2px"}},children:"Logout"})]})]})]})}),t.jsx(oj,{variant:"temporary",open:h,onClose:b,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},children:T}),t.jsx($p,{isOpen:m,onClose:()=>g(!1)})]})}const Se={async getEvent(s){const{data:i,error:l}=await B.from("events").select("*").eq("id",s).maybeSingle();if(l)throw l;return i},async getAllEvents(){const{data:s,error:i}=await B.from("events").select("*").order("created_at",{ascending:!1});if(i)throw i;return s||[]},async createEvent(s){const{data:i,error:l}=await B.from("events").insert([s]).select().single();if(l)throw l;return i},async updateEvent(s,i){const{data:l,error:o}=await B.from("events").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteEvent(s){const{error:i}=await B.from("events").delete().eq("id",s);if(i)throw i},async getJudgesByEvent(s){const{data:i,error:l}=await B.from("judges").select("*").eq("event_id",s).order("created_at",{ascending:!0});if(l)throw l;return i||[]},async getJudgeByToken(s){const{data:i,error:l}=await B.from("judges").select("*").eq("token",s).maybeSingle();if(l)throw l;return i},async createJudge(s){const{data:i,error:l}=await B.from("judges").insert([s]).select().single();if(l)throw l;return i},async updateJudge(s,i){const{data:l,error:o}=await B.from("judges").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteJudge(s){const{error:i}=await B.from("judges").delete().eq("id",s);if(i)throw i},async getTeamsByEvent(s){const{data:i,error:l}=await B.from("teams").select("*").eq("event_id",s).order("created_at",{ascending:!0});if(l)throw l;return i||[]},async createTeam(s){const{data:i,error:l}=await B.from("teams").insert([s]).select().single();if(l)throw l;return i},async updateTeam(s,i){const{data:l,error:o}=await B.from("teams").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteTeam(s){const{error:i}=await B.from("teams").delete().eq("id",s);if(i)throw i},async deleteAllTeams(s){const{error:i}=await B.from("teams").delete().eq("event_id",s);if(i)throw i},async getCriteriaByEvent(s){const{data:i,error:l}=await B.from("criteria").select("*").eq("event_id",s).order("created_at",{ascending:!0});if(l)throw l;return i||[]},async createCriterion(s){const{data:i,error:l}=await B.from("criteria").insert([s]).select().single();if(l)throw l;return i},async updateCriterion(s,i){const{data:l,error:o}=await B.from("criteria").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteCriterion(s){const{error:i}=await B.from("criteria").delete().eq("id",s);if(i)throw i},async getJudgeAssignments(s){const{data:i,error:l}=await B.from("judge_team_assignments").select("team_id").eq("judge_id",s);if(l)throw l;return(i||[]).map(o=>o.team_id)},async setJudgeAssignments(s,i){const{error:l}=await B.from("judge_team_assignments").delete().eq("judge_id",s);if(l)throw console.error("Error deleting assignments:",l),l;if(i&&i.length>0){const o=i.map(h=>({judge_id:s,team_id:h})),{error:d}=await B.from("judge_team_assignments").insert(o);if(d)throw console.error("Error inserting assignments:",d),d}},async getScoresByJudge(s){const{data:i,error:l}=await B.from("scores").select("*").eq("judge_id",s);if(l)throw l;return i||[]},async getScoresByTeam(s){const{data:i,error:l}=await B.from("scores").select("*").eq("team_id",s);if(l)throw l;return i||[]},async getScoresByEvent(s){const l=(await this.getTeamsByEvent(s)).map(h=>h.id);if(l.length===0)return[];const{data:o,error:d}=await B.from("scores").select("*").in("team_id",l);if(d)throw d;return o||[]},async upsertScore(s){const{data:i,error:l}=await B.from("scores").upsert([s],{onConflict:"judge_id,team_id,criterion_key,round"}).select().single();if(l)throw l;return i},async createScore(s){const{data:i,error:l}=await B.from("scores").insert([s]).select().single();if(l)throw l;return i},async getTeamsWithAssignments(s,i){const l=await this.getJudgeAssignments(i);return(await this.getTeamsByEvent(s)).map(d=>({...d,isAssigned:l.includes(d.id)}))},async markTeamAbsent(s,i){const{data:l,error:o}=await B.from("teams").update({is_absent:i}).eq("id",s).select().single();if(o)throw o;return l},async removeJudgeTeamAssignment(s,i){const{error:l}=await B.from("judge_team_assignments").delete().eq("judge_id",s).eq("team_id",i);if(l)throw l},async getRoundsByEvent(s){const{data:i,error:l}=await B.from("rounds").select("*").eq("event_id",s).order("round_number",{ascending:!0});if(l)throw l;return i||[]},async createRound(s){const{data:i,error:l}=await B.from("rounds").insert([s]).select().single();if(l)throw l;return i},async updateRound(s,i){const{data:l,error:o}=await B.from("rounds").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteRound(s){const{error:i}=await B.from("rounds").delete().eq("id",s);if(i)throw i},async getVenuesByEvent(s){const{data:i,error:l}=await B.from("venues").select("*").eq("event_id",s).order("created_at",{ascending:!0});if(l)throw l;return i||[]},async createVenue(s){const{data:i,error:l}=await B.from("venues").insert([s]).select().single();if(l)throw l;return i},async updateVenue(s,i){const{data:l,error:o}=await B.from("venues").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteVenue(s){const{error:i}=await B.from("venues").delete().eq("id",s);if(i)throw i}};function M1(){const s=yt(),[i,l]=w.useState([]),[o,d]=w.useState(!1),[h,f]=w.useState({name:"",description:"",startDate:"",endDate:""});w.useEffect(()=>{m()},[]);const m=async()=>{try{const T=await Se.getAllEvents();l(T)}catch(T){console.error("Error loading events:",T)}},g=()=>{f({name:"",description:"",startDate:"",endDate:""}),d(!0)},x=async()=>{if(!h.name){alert("Event name is required");return}try{const T={name:h.name,description:h.description||"",start_date:h.startDate||null,end_date:h.endDate||null,status:"draft"};h.id?await Se.updateEvent(h.id,T):await Se.createEvent(T),await m(),d(!1)}catch(T){console.error("Error saving event:",T),alert("Failed to save event. Please try again.")}},p=async T=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Se.deleteEvent(T);const C=i.filter(A=>A.id!==T);l(C)}catch(C){console.error("Error deleting event:",C),alert("Failed to delete event. Please try again.")}},v=T=>{s(`/admin/event/${T}`)},b=T=>T?new Date(T).toLocaleDateString():"Not set";return t.jsxs(k,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)"},children:[t.jsx(ss,{}),t.jsxs(k,{sx:{maxWidth:"1400px",mx:"auto",px:4,py:8},children:[t.jsxs(k,{sx:{mb:8,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(k,{children:[t.jsx(L,{variant:"h3",sx:{fontWeight:800,background:"linear-gradient(135deg, #7c3aed 0%, #3b82f6 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1.5,fontSize:"2.75rem"},children:"My Events"}),t.jsx(L,{variant:"body1",sx:{color:"#64748b",fontSize:"1.15rem",fontWeight:500},children:"Manage your hackathons and competitions"})]}),t.jsx(se,{variant:"contained",onClick:g,sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",color:"white",textTransform:"none",px:4,py:1.75,fontSize:"1.05rem",fontWeight:600,borderRadius:"12px",boxShadow:"0 4px 14px rgba(124, 58, 237, 0.3)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(124, 58, 237, 0.4)"}},children:"+ Create Event"})]}),i.length===0?t.jsxs(zt,{sx:{p:10,textAlign:"center",borderRadius:"20px",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",boxShadow:"0 10px 40px rgba(0,0,0,0.08)",border:"1px solid rgba(124, 58, 237, 0.1)"},children:[t.jsx(L,{variant:"h4",sx:{color:"#1e293b",fontWeight:700,mb:2},children:"No Events Yet"}),t.jsx(L,{variant:"body1",sx:{color:"#64748b",mb:5,fontSize:"1.1rem",maxWidth:"500px",mx:"auto"},children:"Create your first event to get started with fair, automated judging"}),t.jsx(se,{variant:"contained",onClick:g,sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",color:"white",textTransform:"none",px:5,py:2,fontSize:"1.1rem",fontWeight:600,borderRadius:"12px",boxShadow:"0 4px 14px rgba(124, 58, 237, 0.3)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(124, 58, 237, 0.4)"}},children:"Create Your First Event"})]}):t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:4},children:i.map(T=>t.jsx(zt,{sx:{width:"360px",borderRadius:"16px",background:"linear-gradient(135deg, #ffffff 0%, #fefefe 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",transition:"all 0.3s ease",border:"1px solid rgba(124, 58, 237, 0.1)","&:hover":{boxShadow:"0 12px 35px rgba(124, 58, 237, 0.2)",transform:"translateY(-4px)",borderColor:"rgba(124, 58, 237, 0.3)"}},children:t.jsxs(ro,{sx:{p:4},children:[t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[t.jsx(L,{variant:"h5",sx:{fontWeight:700,color:"#1e293b",fontSize:"1.4rem"},children:T.name}),t.jsx(fe,{label:T.status,size:"small",sx:{background:"linear-gradient(135deg, #ddd6fe 0%, #e0e7ff 100%)",color:"#5b21b6",fontWeight:700,fontSize:"0.75rem",height:"26px",px:1}})]}),t.jsxs(k,{sx:{mb:4},children:[t.jsxs(L,{variant:"body2",sx:{color:"#64748b",fontWeight:600,fontSize:"0.95rem",mb:.5},children:[t.jsx("strong",{style:{color:"#475569"},children:"Start:"})," ",b(T.startDate)]}),t.jsxs(L,{variant:"body2",sx:{color:"#64748b",fontWeight:600,fontSize:"0.95rem"},children:[t.jsx("strong",{style:{color:"#475569"},children:"End:"})," ",b(T.endDate)]})]}),t.jsxs(k,{sx:{display:"flex",gap:1.5},children:[t.jsx(se,{fullWidth:!0,variant:"contained",onClick:()=>v(T.id),sx:{background:"#3b82f6",color:"white",textTransform:"none",fontWeight:700,borderRadius:"10px",py:1.3,fontSize:"0.95rem",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.25)",transition:"all 0.3s ease","&:hover":{background:"#2563eb",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.35)"}},children:"Manage Event"}),t.jsx(se,{variant:"contained",onClick:()=>p(T.id),sx:{background:"#ef4444",color:"white",textTransform:"none",fontWeight:700,borderRadius:"10px",px:3,py:1.3,minWidth:"auto",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.25)",transition:"all 0.3s ease","&:hover":{background:"#dc2626",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.35)"}},children:"Delete"})]})]})},T.id))}),t.jsxs(xt,{open:o,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",p:1,boxShadow:"0 20px 60px rgba(0,0,0,0.15)"}},children:[t.jsx(wt,{sx:{fontWeight:700,fontSize:"1.75rem",color:"#1e293b"},children:h.id?"Edit Event":"Create New Event"}),t.jsxs(pt,{sx:{pt:3},children:[t.jsx(ke,{fullWidth:!0,label:"Event Name",value:h.name,onChange:T=>f({...h,name:T.target.value}),margin:"normal",required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:"10px","&.Mui-focused fieldset":{borderColor:"#7c3aed",borderWidth:"2px"}},"& .MuiInputLabel-root.Mui-focused":{color:"#7c3aed"}}}),t.jsx(ke,{fullWidth:!0,label:"Event Description",value:h.description,onChange:T=>f({...h,description:T.target.value}),margin:"normal",multiline:!0,rows:3,sx:{"& .MuiOutlinedInput-root":{borderRadius:"10px","&.Mui-focused fieldset":{borderColor:"#7c3aed",borderWidth:"2px"}},"& .MuiInputLabel-root.Mui-focused":{color:"#7c3aed"}}}),t.jsx(ke,{fullWidth:!0,label:"Start Date",type:"date",value:h.startDate,onChange:T=>f({...h,startDate:T.target.value}),margin:"normal",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"10px","&.Mui-focused fieldset":{borderColor:"#7c3aed",borderWidth:"2px"}},"& .MuiInputLabel-root.Mui-focused":{color:"#7c3aed"}}}),t.jsx(ke,{fullWidth:!0,label:"End Date",type:"date",value:h.endDate,onChange:T=>f({...h,endDate:T.target.value}),margin:"normal",InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{borderRadius:"10px","&.Mui-focused fieldset":{borderColor:"#7c3aed",borderWidth:"2px"}},"& .MuiInputLabel-root.Mui-focused":{color:"#7c3aed"}}})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>d(!1),sx:{textTransform:"none",color:"#64748b",fontWeight:600,px:3,py:1.2,borderRadius:"10px","&:hover":{background:"#f1f5f9"}},children:"Cancel"}),t.jsx(se,{onClick:x,variant:"contained",sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.2,fontWeight:700,borderRadius:"10px",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.35)"}},children:h.id?"Update":"Create"})]})]})]})]})}function O1({teams:s=[],venues:i=[],onTeamsChange:l=()=>{},eventId:o}){const[d,h]=w.useState(!1),[f,m]=w.useState({name:"",projectTitle:"",leaderName:"",leaderEmail:"",categoryId:""}),g=w.useRef(null),[x,p]=w.useState(!1);w.useEffect(()=>{if(window.XLSX){p(!0);return}const S=document.createElement("script");return S.src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js",S.async=!0,S.onload=()=>{console.log("SheetJS library loaded successfully."),p(!0)},S.onerror=()=>{console.error("Could not load the SheetJS library for Excel import."),alert("Error: Could not load the library required for Excel import. Please check your internet connection.")},document.body.appendChild(S),()=>{S.parentNode&&document.body.removeChild(S)}},[]);const v=()=>{m({name:"",projectTitle:"",leaderName:"",leaderEmail:"",categoryId:""}),h(!0)},b=async()=>{if(!f.name||!f.leaderName||!f.leaderEmail||!f.categoryId){alert("Team name, leader name, leader email, and category are required");return}try{const S={event_id:o,name:f.name,category_id:f.categoryId,project_title:f.projectTitle||"",project_description:f.projectDescription||"",members:[{name:f.leaderName,email:f.leaderEmail,role:"leader"}]};f.id?await Se.updateTeam(f.id,S):await Se.createTeam(S);const E=await Se.getTeamsByEvent(o);l(E),h(!1)}catch(S){console.error("Error saving team:",S),alert("Failed to save team. Please try again.")}},T=async S=>{if(window.confirm("Are you sure you want to delete this team?"))try{await Se.deleteTeam(S);const E=s.filter(W=>W.id!==S);l(E)}catch(E){console.error("Error deleting team:",E),alert("Failed to delete team. Please try again.")}},C=async()=>{if(s.length===0){alert("No teams to delete.");return}if(window.confirm(`Are you sure you want to delete all ${s.length} team(s)? This action cannot be undone.`))try{await Se.deleteAllTeams(o),l([]),alert("All teams have been deleted successfully.")}catch(S){console.error("Error deleting all teams:",S),alert("Failed to delete all teams. Please try again.")}},A=()=>{if(!window.jspdf){alert("PDF generation library is not loaded."),console.error("jsPDF library not found on window object.");return}const S=new window.jspdf.jsPDF;S.setFontSize(18),S.text("Teams List",14,20);let E=40;S.setFontSize(12),s.forEach((W,N)=>{E>270&&(S.addPage(),E=20),S.text(`${N+1}. ${W.name}`,14,E),E+=7,S.setFontSize(10),S.text(`Project: ${W.projectTitle}`,20,E),E+=6,S.text(`Leader: ${W.leaderName} (${W.leaderEmail})`,20,E),E+=6,S.text(`Category: ${W.categoryId||"N/A"}`,20,E),E+=10,S.setFontSize(12)}),S.save("teams.pdf")},_=()=>{const S=U=>{const ae=String(U||"");return/[",\n]/.test(ae)?`"${ae.replace(/"/g,'""')}"`:ae},N="\uFEFF"+[["Team Name","Project Title","Leader Name","Leader Email","Category"].join(","),...s.map(U=>[S(U.name),S(U.projectTitle),S(U.leaderName),S(U.leaderEmail),S(U.categoryId||"N/A")].join(","))].join(`
`),J=new Blob([N],{type:"text/csv;charset=utf-8;"}),oe=document.createElement("a");if(oe.download!==void 0){const U=URL.createObjectURL(J);oe.setAttribute("href",U),oe.setAttribute("download","teams.csv"),oe.style.visibility="hidden",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)}},z=S=>{const E=S.target.files[0];if(!E)return;const W=new FileReader;W.onload=N=>{if(!window.XLSX){console.error("SheetJS library (XLSX) not found on window object."),alert("Error: The Excel processing library is missing. Please contact support.");return}try{const J=new Uint8Array(N.target.result),oe=window.XLSX.read(J,{type:"array"}),U=oe.SheetNames[0],ae=oe.Sheets[U],P=window.XLSX.utils.sheet_to_json(ae,{defval:""}),re=Z=>String(Z).toLowerCase().replace(/[^a-z0-9]/g,""),te={teamname:"name",name:"name",team:"name",projecttitle:"projectTitle",project:"projectTitle",title:"projectTitle",leadername:"leaderName",leader:"leaderName",leadname:"leaderName",leaderemail:"leaderEmail",email:"leaderEmail",leadermail:"leaderEmail",mail:"leaderEmail",category:"categoryId",cat:"categoryId"},me=Z=>{const O={name:"",projectTitle:"",leaderName:"",leaderEmail:"",categoryId:""};for(const[I,H]of Object.entries(Z)){if(H==null||H==="")continue;const ee=re(I),ie=te[ee];ie&&!O[ie]&&(O[ie]=String(H).trim())}return O},X=P.map((Z,O)=>{const I=me(Z);return!I.name||!I.leaderName||!I.leaderEmail?(console.warn(`Skipping row ${O+2} - missing required fields`),null):I}).filter(Boolean);X.length>0?(async()=>{try{const O=[];for(const H of X){const ee=await Se.createTeam({event_id:o,name:H.name,category_id:H.categoryId||"",project_title:H.projectTitle||"",project_description:"",members:[{name:H.leaderName,email:H.leaderEmail,role:"leader"}]});O.push(ee)}const I=await Se.getTeamsByEvent(o);l(I),alert(`Successfully imported ${O.length} team(s)`)}catch(O){console.error("Error importing teams:",O),alert("Failed to import some teams. Please try again.")}})():alert("No valid teams found in the file. Please ensure required columns exist: Team Name, Leader Name, and Leader Email")}catch(J){console.error("Error parsing file:",J),alert("Error processing the file. Please ensure it's a valid Excel or CSV file.")}},W.readAsArrayBuffer(E),S.target.value=null};return t.jsxs(k,{children:[t.jsx("input",{type:"file",ref:g,onChange:z,style:{display:"none"},accept:".xlsx, .xls, .csv"}),t.jsxs(k,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[t.jsx(se,{variant:"contained",startIcon:t.jsx(as,{}),onClick:v,sx:{backgroundColor:"#6d28d9","&:hover":{backgroundColor:"#5b21b6"},fontWeight:"bold",borderRadius:"8px",px:3,py:1,textTransform:"none",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:"Add Team"}),t.jsx(se,{variant:"outlined",startIcon:t.jsx(cj,{}),onClick:()=>g.current&&g.current.click(),disabled:!x,sx:{borderColor:"#d1d5db",color:"#ffffff","&:hover":{backgroundColor:"#f9fafb",borderColor:"#9ca3af"},borderRadius:"8px",textTransform:"none",fontWeight:600},children:x?"Import Excel":"Loading..."}),t.jsx(se,{variant:"outlined",startIcon:t.jsx(Zg,{}),onClick:A,sx:{borderColor:"#d1d5db",color:"#ffffff","&:hover":{backgroundColor:"#f9fafb",borderColor:"#9ca3af"},borderRadius:"8px",textTransform:"none",fontWeight:600},children:"Export PDF"}),t.jsx(se,{variant:"outlined",startIcon:t.jsx(Zg,{}),onClick:_,sx:{borderColor:"#d1d5db",color:"#ffffff","&:hover":{backgroundColor:"#f9fafb",borderColor:"#9ca3af"},borderRadius:"8px",textTransform:"none",fontWeight:600},children:"Export CSV"}),t.jsx(se,{variant:"outlined",startIcon:t.jsx(Ta,{}),onClick:C,disabled:s.length===0,sx:{borderColor:"#ef4444",color:"#ef4444","&:hover":{backgroundColor:"#fef2f2",borderColor:"#dc2626"},"&:disabled":{borderColor:"#d1d5db",color:"#9ca3af"},borderRadius:"8px",textTransform:"none",fontWeight:600},children:"Clear All"})]}),t.jsx(Bt,{component:ze,sx:{borderRadius:"12px",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",overflow:"hidden"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"},children:[t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Team Name"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Project Title"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Leader Name"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Leader Email"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Category"}),t.jsx(G,{align:"right",sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Actions"})]})}),t.jsx(Ut,{children:s.length===0?t.jsx(Ne,{children:t.jsx(G,{colSpan:6,align:"center",sx:{py:4,color:"#64748b"},children:'No teams added yet. Click "Add Team" to get started.'})}):s.map(S=>{const E=S.members&&S.members.length>0?S.members[0]:{};return t.jsxs(Ne,{sx:{"&:hover":{backgroundColor:"#f8fafc"}},children:[t.jsx(G,{sx:{color:"#334155",fontWeight:500},children:S.name}),t.jsx(G,{sx:{color:"#334155"},children:S.project_title||"-"}),t.jsx(G,{sx:{color:"#334155"},children:E.name||S.leaderName||"-"}),t.jsx(G,{sx:{color:"#334155"},children:E.email||S.leaderEmail||"-"}),t.jsx(G,{sx:{color:"#334155"},children:S.category_id||S.categoryId||"Not assigned"}),t.jsxs(G,{align:"right",children:[t.jsx(Qe,{size:"small",onClick:()=>{const W={id:S.id,name:S.name,projectTitle:S.project_title||S.projectTitle||"",projectDescription:S.project_description||S.projectDescription||"",leaderName:E.name||S.leaderName||"",leaderEmail:E.email||S.leaderEmail||"",categoryId:S.category_id||S.categoryId||""};m(W),h(!0)},sx:{color:"#3b82f6","&:hover":{backgroundColor:"#eff6ff"}},children:t.jsx(ei,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>T(S.id),sx:{color:"#ef4444","&:hover":{backgroundColor:"#fef2f2"}},children:t.jsx(Ta,{fontSize:"small"})})]})]},S.id)})})]})}),t.jsxs(xt,{open:d,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(wt,{children:f.id?"Edit Team":"Add New Team"}),t.jsxs(pt,{children:[t.jsx(ke,{fullWidth:!0,label:"Team Name",value:f.name,onChange:S=>m({...f,name:S.target.value}),margin:"normal",required:!0}),t.jsx(ke,{fullWidth:!0,label:"Project Title",value:f.projectTitle||"",onChange:S=>m({...f,projectTitle:S.target.value}),margin:"normal"}),t.jsx(ke,{fullWidth:!0,label:"Team Leader Name",value:f.leaderName,onChange:S=>m({...f,leaderName:S.target.value}),margin:"normal",required:!0}),t.jsx(ke,{fullWidth:!0,label:"Team Leader Email",type:"email",value:f.leaderEmail,onChange:S=>m({...f,leaderEmail:S.target.value}),margin:"normal",required:!0}),t.jsxs(It,{fullWidth:!0,margin:"normal",required:!0,children:[t.jsx(Qt,{children:"Category"}),t.jsxs($t,{value:f.categoryId||"",onChange:S=>m({...f,categoryId:S.target.value}),label:"Category",children:[t.jsx(lt,{value:"Software",children:"Software"}),t.jsx(lt,{value:"Hardware",children:"Hardware"})]})]})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>h(!1),sx:{textTransform:"none",color:"#7c3aed",fontWeight:600,px:3,py:1.2,borderRadius:"10px",background:"rgba(124, 58, 237, 0.08)","&:hover":{background:"rgba(124, 58, 237, 0.15)"}},children:"Cancel"}),t.jsx(se,{onClick:b,variant:"contained",sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.2,fontWeight:700,borderRadius:"10px",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.35)"}},children:f.id?"Update":"Create"})]})]})]})}function B1({judges:s,venues:i,categories:l=[],teams:o=[],onJudgesChange:d,eventId:h,eventName:f}){const[m,g]=w.useState(!1),[x,p]=w.useState(!1),[v,b]=w.useState(!1),[T,C]=w.useState({name:"",email:"",assignedCategories:[],assignedTeams:[],category:""}),[A,_]=w.useState(null),[z,S]=w.useState(null),E=()=>{C({name:"",email:"",assignedCategories:[],assignedTeams:[],category:""}),g(!0)},W=X=>{_(X),p(!0)},N=async()=>{if(A)try{await Se.setJudgeAssignments(A.id,A.assignedTeams||[]);const X=s.map(Z=>Z.id===A.id?{...Z,assignedCategories:A.assignedCategories,assignedTeams:A.assignedTeams}:Z);d(X),p(!1),_(null)}catch(X){console.error("Error saving assignments:",X),alert("Failed to save assignments. Please try again.")}},J=async X=>{try{const O=`${`${window.location.origin}/judge-dashboard`}?token=${X.token}`,I=s.map(ce=>ce.id===X.id?{...ce,invitationSent:!0,invitationSentAt:new Date().toISOString()}:ce);d(I);const H=`Dear ${X.name},

You have been invited to judge the event: ${f}

Please use the link below to access your judging dashboard:
${O}

Your access token: ${X.token}

Best regards,
Event Management Team`,ee=`mailto:${X.email}?subject=Judge Invitation - ${encodeURIComponent(f)}&body=${encodeURIComponent(H)}`;window.open(ee,"_blank");const de=await(async()=>{try{return await navigator.clipboard.writeText(O),!0}catch{return!1}})();alert(`Invitation prepared for ${X.email}

${de?"Dashboard link copied to clipboard!":"Dashboard Link:"}
${O}

Your default email client should open with a pre-filled message.`)}catch(Z){console.error("Error sending invitation:",Z),alert("Failed to send invitation. Please try again.")}},oe=async()=>{if(!T.name||!T.email||!T.category){alert("Judge name, email, and category are required");return}try{const X=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),Z={event_id:h,name:T.name,email:T.email,category:T.category,token:T.token||X,invitation_sent:T.invitation_sent||!1};let O;T.id?O=await Se.updateJudge(T.id,Z):O=await Se.createJudge(Z),T.assignedTeams&&T.assignedTeams.length>0&&await Se.setJudgeAssignments(O.id,T.assignedTeams);const I=await Se.getJudgesByEvent(h),H=await Promise.all(I.map(async ee=>{const ie=await Se.getJudgeAssignments(ee.id);return{...ee,assignedTeams:ie}}));d(H),g(!1),T.id||(S(O),b(!0))}catch(X){console.error("Error saving judge:",X),alert("Failed to save judge. Please try again.")}},U=async X=>{if(window.confirm("Are you sure you want to delete this judge?"))try{await Se.deleteJudge(X),d(s.filter(Z=>Z.id!==X))}catch(Z){console.error("Error deleting judge:",Z),alert("Failed to delete judge. Please try again.")}},ae=async()=>{const X=o.filter(ee=>(ee.category_id||ee.categoryId)&&(ee.category_id||ee.categoryId).toLowerCase()==="software"),Z=o.filter(ee=>(ee.category_id||ee.categoryId)&&(ee.category_id||ee.categoryId).toLowerCase()==="hardware"),O=s.filter(ee=>ee.category&&ee.category.toLowerCase()==="software"),I=s.filter(ee=>ee.category&&ee.category.toLowerCase()==="hardware");if(O.length===0&&I.length===0){alert("Please add judges with categories (Software/Hardware) first.");return}const H=s.map(ee=>({...ee,assignedTeams:[],assignedCategories:[]}));if(O.length>0){const ee=Math.floor(X.length/O.length),ie=X.length%O.length;let de=0;O.forEach((ce,be)=>{const Re=H.find(le=>le.id===ce.id);if(Re){const le=ee+(be<ie?1:0),pe=X.slice(de,de+le).map(he=>he.id),ne=[...new Set(X.map(he=>he.category_id||he.categoryId))].filter(Boolean);Re.assignedTeams=pe,Re.assignedCategories=ne,de+=le}})}if(I.length>0){const ee=Math.floor(Z.length/I.length),ie=Z.length%I.length;let de=0;I.forEach((ce,be)=>{const Re=H.find(le=>le.id===ce.id);if(Re){const le=ee+(be<ie?1:0),pe=Z.slice(de,de+le).map(he=>he.id),ne=[...new Set(Z.map(he=>he.category_id||he.categoryId))].filter(Boolean);Re.assignedTeams=pe,Re.assignedCategories=ne,de+=le}})}try{for(const ee of H)ee.assignedTeams&&ee.assignedTeams.length>0&&await Se.setJudgeAssignments(ee.id,ee.assignedTeams);d(H),alert("Teams have been automatically assigned to judges based on their categories!")}catch(ee){console.error("Error auto-assigning teams:",ee),alert("Failed to auto-assign teams. Please try again.")}},P=o.filter(X=>(X.category_id||X.categoryId)&&(X.category_id||X.categoryId).toLowerCase()==="software").length,re=o.filter(X=>(X.category_id||X.categoryId)&&(X.category_id||X.categoryId).toLowerCase()==="hardware").length,te=s.filter(X=>X.category&&X.category.toLowerCase()==="software").length,me=s.filter(X=>X.category&&X.category.toLowerCase()==="hardware").length;return t.jsxs(k,{children:[t.jsxs(k,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[t.jsxs(k,{sx:{display:"flex",gap:2,alignItems:"center",flexWrap:"wrap"},children:[t.jsx(se,{variant:"contained",startIcon:t.jsx(as,{}),onClick:E,children:"Add Judge"}),t.jsx(se,{variant:"contained",onClick:ae,disabled:s.length===0||o.length===0,sx:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)","&:hover":{background:"linear-gradient(135deg, #059669 0%, #047857 100%)"},"&:disabled":{background:"#d1d5db"}},children:"Auto-Assign Teams"})]}),t.jsxs(k,{sx:{display:"flex",gap:3,alignItems:"center",backgroundColor:"#f8fafc",padding:"12px 20px",borderRadius:"10px",border:"1px solid #e2e8f0"},children:[t.jsxs(k,{sx:{textAlign:"center"},children:[t.jsx(k,{sx:{fontSize:"0.75rem",color:"#64748b",fontWeight:600,mb:.5},children:"SOFTWARE"}),t.jsxs(k,{sx:{fontSize:"1.25rem",fontWeight:700,color:"#3b82f6"},children:[P," teams / ",te," judges"]})]}),t.jsx(k,{sx:{width:"1px",height:"40px",backgroundColor:"#cbd5e1"}}),t.jsxs(k,{sx:{textAlign:"center"},children:[t.jsx(k,{sx:{fontSize:"0.75rem",color:"#64748b",fontWeight:600,mb:.5},children:"HARDWARE"}),t.jsxs(k,{sx:{fontSize:"1.25rem",fontWeight:700,color:"#f59e0b"},children:[re," teams / ",me," judges"]})]})]})]}),t.jsx(Bt,{component:ze,sx:{borderRadius:"12px",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",overflow:"hidden"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"},children:[t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Judge Name"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Email"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Category"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Teams Assigned"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Status"}),t.jsx(G,{align:"right",sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Actions"})]})}),t.jsx(Ut,{children:s.length===0?t.jsx(Ne,{children:t.jsx(G,{colSpan:6,align:"center",children:'No judges added yet. Click "Add Judge" to get started.'})}):s.map(X=>{const Z=(X.assignedTeams||[]).length;return t.jsxs(Ne,{sx:{"&:hover":{backgroundColor:"#f8fafc"}},children:[t.jsx(G,{sx:{color:"#334155",fontWeight:500},children:X.name}),t.jsx(G,{sx:{color:"#334155"},children:X.email}),t.jsx(G,{children:t.jsx(fe,{label:X.category||"Not assigned",size:"small",color:X.category?"primary":"default"})}),t.jsx(G,{children:t.jsx(fe,{label:`${Z} teams`,size:"small",color:Z>0?"primary":"default"})}),t.jsx(G,{children:X.invitationSent?t.jsx(fe,{label:"Invited",size:"small",color:"success"}):t.jsx(fe,{label:"Pending",size:"small",color:"warning"})}),t.jsxs(G,{align:"right",children:[t.jsx(Qe,{size:"small",onClick:()=>W(X),sx:{color:"#10b981","&:hover":{backgroundColor:"#ecfdf5"}},title:"Assign Teams",children:t.jsx(as,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>{S(X),b(!0)},sx:{color:"#8b5cf6","&:hover":{backgroundColor:"#faf5ff"}},title:"View Dashboard Link",children:t.jsx(dj,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>{C(X),g(!0)},sx:{color:"#3b82f6","&:hover":{backgroundColor:"#eff6ff"}},children:t.jsx(ei,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>U(X.id),sx:{color:"#ef4444","&:hover":{backgroundColor:"#fef2f2"}},children:t.jsx(Ta,{fontSize:"small"})})]})]},X.id)})})]})}),t.jsxs(xt,{open:m,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(wt,{children:T.id?"Edit Judge":"Add New Judge"}),t.jsxs(pt,{children:[t.jsx(ke,{fullWidth:!0,label:"Judge Name",value:T.name,onChange:X=>C({...T,name:X.target.value}),margin:"normal",required:!0}),t.jsx(ke,{fullWidth:!0,label:"Judge Email",type:"email",value:T.email,onChange:X=>C({...T,email:X.target.value}),margin:"normal",required:!0}),t.jsxs(It,{fullWidth:!0,margin:"normal",required:!0,children:[t.jsx(Qt,{children:"Category"}),t.jsxs($t,{value:T.category||"",onChange:X=>C({...T,category:X.target.value}),label:"Category",children:[t.jsx(lt,{value:"Software",children:"Software"}),t.jsx(lt,{value:"Hardware",children:"Hardware"})]})]})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>g(!1),sx:{textTransform:"none",color:"#7c3aed",fontWeight:600,px:3,py:1.2,borderRadius:"10px",background:"rgba(124, 58, 237, 0.08)","&:hover":{background:"rgba(124, 58, 237, 0.15)"}},children:"Cancel"}),t.jsx(se,{onClick:oe,variant:"contained",sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.2,fontWeight:700,borderRadius:"10px",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.35)"}},children:T.id?"Update":"Create"})]})]}),t.jsxs(xt,{open:x,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[t.jsxs(wt,{children:["Assign Teams to ",A?.name]}),t.jsxs(pt,{children:[t.jsxs(k,{sx:{mb:2,mt:2,p:2,backgroundColor:"#f8fafc",borderRadius:"8px"},children:[t.jsxs(L,{variant:"body2",sx:{color:"#64748b",fontWeight:600},children:["Judge Category: ",t.jsx(fe,{label:A?.category||"Not set",size:"small",color:"primary",sx:{ml:1}})]}),t.jsx(L,{variant:"body2",sx:{color:"#64748b",mt:1},children:"Only teams in the same category will be available for assignment."})]}),t.jsxs(It,{fullWidth:!0,margin:"normal",children:[t.jsx(Qt,{children:"Select Teams"}),t.jsx($t,{multiple:!0,value:A?.assignedTeams||[],onChange:X=>_({...A,assignedTeams:X.target.value}),input:t.jsx(Up,{label:"Select Teams"}),renderValue:X=>X.map(Z=>o.find(O=>O.id===Z)?.name).filter(Boolean).join(", ")||"No teams selected",children:o.filter(X=>{const Z=X.category_id||X.categoryId;return!A?.category||!Z?!1:Z.toLowerCase()===A.category.toLowerCase()}).map(X=>t.jsxs(lt,{value:X.id,children:[t.jsx(fr,{checked:(A?.assignedTeams||[]).includes(X.id)}),t.jsx(Ks,{primary:X.name,secondary:`Project: ${X.project_title||X.projectTitle||"N/A"}`})]},X.id))})]}),o.filter(X=>{const Z=X.category_id||X.categoryId;return!A?.category||!Z?!1:Z.toLowerCase()===A.category.toLowerCase()}).length===0&&t.jsx(k,{sx:{mt:2,p:2,backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:t.jsxs(L,{variant:"body2",sx:{color:"#dc2626"},children:["No teams available in the ",A?.category," category. Please add teams in the Teams tab first."]})})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>p(!1),children:"Cancel"}),t.jsx(se,{onClick:N,variant:"contained",children:"Save Assignments"})]})]}),t.jsxs(xt,{open:v,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[t.jsx(wt,{children:"Judge Dashboard Link"}),t.jsx(pt,{children:t.jsxs(k,{sx:{mb:2,mt:2},children:[t.jsxs(L,{variant:"body1",sx:{fontWeight:600,mb:1},children:["Judge: ",z?.name]}),t.jsx(L,{variant:"body2",sx:{color:"#64748b",mb:3},children:"Share this link with the judge to access their dashboard"}),t.jsx(ke,{fullWidth:!0,label:"Dashboard Link",value:z?`${window.location.origin}/judge-dashboard?token=${z.token}`:"",InputProps:{readOnly:!0},sx:{mb:2}}),t.jsx(ke,{fullWidth:!0,label:"Access Token",value:z?.token||"",InputProps:{readOnly:!0},sx:{mb:2},helperText:"The judge can also manually enter this token if needed"}),t.jsxs(k,{sx:{display:"flex",gap:2,mt:3},children:[t.jsx(se,{variant:"contained",onClick:async()=>{const X=`${window.location.origin}/judge-dashboard?token=${z.token}`;try{await navigator.clipboard.writeText(X),alert("Link copied to clipboard!")}catch{alert("Failed to copy. Please copy manually.")}},children:"Copy Link"}),t.jsx(se,{variant:"outlined",onClick:()=>{const X=`${window.location.origin}/judge-dashboard?token=${z.token}`;window.open(X,"_blank")},children:"Test Link"}),t.jsx(se,{variant:"outlined",onClick:()=>J(z),children:"Send Email"})]})]})}),t.jsx(Tt,{sx:{p:3,pt:2},children:t.jsx(se,{onClick:()=>b(!1),children:"Close"})})]})]})}const nt={async getRoundsByEvent(s){const{data:i,error:l}=await B.from("rounds").select("*").eq("event_id",s).order("round_number",{ascending:!0});if(l)throw l;return i||[]},async getRound(s){const{data:i,error:l}=await B.from("rounds").select("*").eq("id",s).single();if(l)throw l;return i},async updateRoundStatus(s,i){const{data:l,error:o}=await B.from("rounds").update({status:i}).eq("id",s).select().single();if(o)throw o;return l},async getRoundJudgeAssignments(s){const{data:i,error:l}=await B.from("round_judge_assignments").select(`
        *,
        judge:judges(id, name, email, category)
      `).eq("round_id",s);if(l)throw l;return i||[]},async getJudgeRoundAssignments(s){const{data:i,error:l}=await B.from("round_judge_assignments").select(`
        *,
        round:rounds(*)
      `).eq("judge_id",s).order("round_id");if(l)throw l;return i||[]},async assignJudgeToRound(s,i,l="BOTH",o=1){const{data:d,error:h}=await B.from("round_judge_assignments").upsert([{round_id:s,judge_id:i,judge_type:l,judge_weight:o}],{onConflict:"round_id,judge_id"}).select().single();if(h)throw h;return d},async removeJudgeFromRound(s,i){const{error:l}=await B.from("round_judge_assignments").delete().eq("round_id",s).eq("judge_id",i);if(l)throw l},async setRoundJudges(s,i,l="BOTH"){const{error:o}=await B.from("round_judge_assignments").delete().eq("round_id",s);if(o)throw o;if(i&&i.length>0){const d=i.map(f=>({round_id:s,judge_id:f,judge_type:l,judge_weight:1})),{error:h}=await B.from("round_judge_assignments").insert(d);if(h)throw h}},async getJudgeTeamAssignmentsForRound(s){const{data:i,error:l}=await B.from("judge_assignments").select(`
        *,
        judge:judges(id, name, email, category),
        team:teams(id, name, project_title, category_id)
      `).eq("round_id",s);if(l)throw l;return i||[]},async assignTeamsToJudgeForRound(s,i,l){const{error:o}=await B.from("judge_assignments").delete().eq("round_id",s).eq("judge_id",i);if(o)throw o;if(l&&l.length>0){const d=l.map(f=>({round_id:s,judge_id:i,team_id:f})),{error:h}=await B.from("judge_assignments").insert(d);if(h)throw h}},async getTeamsAssignedToJudgeForRound(s,i){const{data:l,error:o}=await B.from("judge_assignments").select("team_id, team:teams(*)").eq("round_id",s).eq("judge_id",i);if(o)throw o;return(l||[]).map(d=>d.team)},async getRoundCriteria(s){const{data:i,error:l}=await B.from("round_criteria").select("*").eq("round_id",s).order("display_order",{ascending:!0});if(l)throw l;return i||[]},async createRoundCriterion(s,i){const{data:l,error:o}=await B.from("round_criteria").insert([{round_id:s,...i}]).select().single();if(o)throw o;return l},async updateRoundCriterion(s,i){const{data:l,error:o}=await B.from("round_criteria").update(i).eq("id",s).select().single();if(o)throw o;return l},async deleteRoundCriterion(s){const{error:i}=await B.from("round_criteria").delete().eq("id",s);if(i)throw i},async getRoundEvaluations(s){const{data:i,error:l}=await B.from("round_evaluations").select(`
        *,
        judge:judges(id, name, email),
        team:teams(id, name, project_title)
      `).eq("round_id",s);if(l)throw l;return i||[]},async getJudgeEvaluationsForRound(s,i){const{data:l,error:o}=await B.from("round_evaluations").select("*").eq("round_id",s).eq("judge_id",i);if(o)throw o;return l||[]},async upsertRoundEvaluation(s){const{data:i,error:l}=await B.from("round_evaluations").upsert([s],{onConflict:"round_id,judge_id,team_id"}).select().single();if(l)throw l;return i},async submitRoundEvaluation(s,i,l,o,d=""){const h=Object.values(o).reduce((g,x)=>g+(parseFloat(x)||0),0),{data:f,error:m}=await B.from("round_evaluations").upsert([{round_id:s,judge_id:i,team_id:l,scores:o,raw_total:h,note:d,is_draft:!1,submitted_at:new Date().toISOString()}],{onConflict:"round_id,judge_id,team_id"}).select().single();if(m)throw m;return f},async saveDraftEvaluation(s,i,l,o,d=""){const h=Object.values(o).reduce((g,x)=>g+(parseFloat(x)||0),0),{data:f,error:m}=await B.from("round_evaluations").upsert([{round_id:s,judge_id:i,team_id:l,scores:o,raw_total:h,note:d,is_draft:!0}],{onConflict:"round_id,judge_id,team_id"}).select().single();if(m)throw m;return f},async getJudgeRoundProgress(s,i){const{data:l,error:o}=await B.from("judge_assignments").select("team_id").eq("round_id",s).eq("judge_id",i);if(o)throw o;const{data:d,error:h}=await B.from("round_evaluations").select("team_id, is_draft").eq("round_id",s).eq("judge_id",i).eq("is_draft",!1);if(h)throw h;const f=(l||[]).length,m=(d||[]).length;return{total:f,submitted:m,pending:f-m,progress:f>0?m/f*100:0,isComplete:f>0&&m>=f}},async isRoundCompleteForJudge(s,i){return(await this.getJudgeRoundProgress(s,i)).isComplete},async getActiveRoundForJudge(s){const{data:i,error:l}=await B.from("round_judge_assignments").select(`
        round_id,
        round:rounds(*)
      `).eq("judge_id",s);if(l)throw l;if(!i||i.length===0)return null;const o=i.map(d=>d.round).filter(Boolean).sort((d,h)=>d.round_number-h.round_number);for(const d of o){if(d.status==="closed"||d.status==="completed")continue;if(!(await this.getJudgeRoundProgress(d.id,s)).isComplete)return d}return o[o.length-1]||null},async getJudgeRoundsWithProgress(s){const{data:i,error:l}=await B.from("round_judge_assignments").select(`
        round_id,
        judge_type,
        round:rounds(*)
      `).eq("judge_id",s);if(l)throw l;return(await Promise.all((i||[]).map(async d=>{const h=await this.getJudgeRoundProgress(d.round_id,s);return{...d.round,judgeType:d.judge_type,progress:h}}))).sort((d,h)=>d.round_number-h.round_number)},async autoAssignJudgesToRound(s,i,l){const{error:o}=await B.from("judge_assignments").delete().eq("round_id",s);if(o)throw o;const d=l.filter(x=>(x.category_id||"").toLowerCase()==="software"),h=l.filter(x=>(x.category_id||"").toLowerCase()==="hardware"),f=i.filter(x=>(x.category||"").toLowerCase()==="software"),m=i.filter(x=>(x.category||"").toLowerCase()==="hardware"),g=[];if(f.length>0&&d.length>0){const x=Math.ceil(d.length/f.length);f.forEach((p,v)=>{const b=v*x,T=Math.min(b+x,d.length);for(let C=b;C<T;C++)g.push({round_id:s,judge_id:p.id,team_id:d[C].id})})}if(m.length>0&&h.length>0){const x=Math.ceil(h.length/m.length);m.forEach((p,v)=>{const b=v*x,T=Math.min(b+x,h.length);for(let C=b;C<T;C++)g.push({round_id:s,judge_id:p.id,team_id:h[C].id})})}if(g.length>0){const{error:x}=await B.from("judge_assignments").insert(g);if(x)throw x}return g}};function L1({round:s,onClose:i}){const[l,o]=w.useState([]),[d,h]=w.useState(!0),[f,m]=w.useState(!1),[g,x]=w.useState(null),[p,v]=w.useState(!1),[b,T]=w.useState({name:"",description:"",max_marks:10,weight:1,display_order:1});w.useEffect(()=>{C()},[s.id]);const C=async()=>{h(!0);try{const N=await nt.getRoundCriteria(s.id);o(N)}catch(N){console.error("Error loading criteria:",N),x("Failed to load criteria")}finally{h(!1)}},A=()=>{T({name:"",description:"",max_marks:10,weight:1,display_order:l.length+1}),x(null),v(!0)},_=N=>{T({...N}),x(null),v(!0)},z=async()=>{if(!b.name){x("Criterion name is required");return}m(!0),x(null);try{b.id?await nt.updateRoundCriterion(b.id,{name:b.name,description:b.description,max_marks:b.max_marks,weight:b.weight,display_order:b.display_order}):await nt.createRoundCriterion(s.id,{name:b.name,description:b.description,max_marks:b.max_marks,weight:b.weight,display_order:b.display_order}),await C(),v(!1)}catch(N){console.error("Error saving criterion:",N),x(N.message||"Failed to save criterion")}finally{m(!1)}},S=async N=>{if(window.confirm("Are you sure you want to delete this criterion?")){h(!0);try{await nt.deleteRoundCriterion(N),await C()}catch(J){console.error("Error deleting criterion:",J),x(J.message||"Failed to delete criterion")}finally{h(!1)}}},E=l.reduce((N,J)=>N+(J.max_marks||0),0),W=l.reduce((N,J)=>N+(J.weight||0),0);return t.jsxs(xt,{open:!0,onClose:i,maxWidth:"md",fullWidth:!0,children:[t.jsxs(wt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(k,{children:[t.jsxs(L,{variant:"h6",children:["Manage Criteria - ",s.name]}),t.jsx(L,{variant:"body2",color:"textSecondary",children:"Define scoring criteria for this round"})]}),t.jsxs(k,{sx:{display:"flex",gap:1},children:[t.jsx(fe,{label:`${l.length} criteria`,size:"small"}),t.jsx(fe,{label:`${E} total marks`,size:"small",color:"primary"})]})]}),t.jsxs(pt,{children:[g&&t.jsx(Oe,{severity:"error",sx:{mb:2},onClose:()=>x(null),children:g}),t.jsx(k,{sx:{mb:2},children:t.jsx(se,{variant:"contained",startIcon:t.jsx(as,{}),onClick:A,disabled:d||s.status==="completed",children:"Add Criterion"})}),d?t.jsx(k,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(at,{})}):l.length===0?t.jsx(ze,{sx:{p:4,textAlign:"center",bgcolor:"#f8fafc"},children:t.jsx(L,{color:"textSecondary",children:"No criteria defined yet. Add criteria to enable scoring for this round."})}):t.jsx(Bt,{component:ze,variant:"outlined",children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{bgcolor:"#f8fafc"},children:[t.jsx(G,{sx:{fontWeight:600,width:50},children:"#"}),t.jsx(G,{sx:{fontWeight:600},children:"Criterion"}),t.jsx(G,{sx:{fontWeight:600},children:"Description"}),t.jsx(G,{sx:{fontWeight:600,width:100},children:"Max Marks"}),t.jsx(G,{sx:{fontWeight:600,width:80},children:"Weight"}),t.jsx(G,{sx:{fontWeight:600,width:100},children:"Actions"})]})}),t.jsx(Ut,{children:l.map(N=>t.jsxs(Ne,{children:[t.jsx(G,{children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(uj,{sx:{color:"#9ca3af",cursor:"grab"}}),N.display_order]})}),t.jsx(G,{sx:{fontWeight:500},children:N.name}),t.jsx(G,{sx:{color:"#6b7280",fontSize:"0.875rem"},children:N.description||"-"}),t.jsx(G,{children:t.jsx(fe,{label:N.max_marks,size:"small",color:"primary",variant:"outlined"})}),t.jsx(G,{children:t.jsx(fe,{label:`${N.weight}`,size:"small",variant:"outlined"})}),t.jsxs(G,{children:[t.jsx(Qe,{size:"small",onClick:()=>_(N),disabled:s.status==="completed",sx:{color:"#3b82f6"},children:t.jsx(ei,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>S(N.id),disabled:s.status==="completed"||s.status==="active",sx:{color:"#ef4444"},children:t.jsx(Ta,{fontSize:"small"})})]})]},N.id))})]})}),l.length>0&&t.jsxs(k,{sx:{mt:2,p:2,bgcolor:"#f0f9ff",borderRadius:2},children:[t.jsx(L,{variant:"body2",sx:{fontWeight:600},children:"Summary"}),t.jsxs(L,{variant:"body2",color:"textSecondary",children:[l.length," criteria  Total max marks: ",E,"  Total weight: ",W]})]})]}),t.jsx(Tt,{sx:{p:3,pt:2},children:t.jsx(se,{onClick:i,children:"Close"})}),t.jsxs(xt,{open:p,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(wt,{children:b.id?"Edit Criterion":"Add Criterion"}),t.jsxs(pt,{children:[g&&t.jsx(Oe,{severity:"error",sx:{mb:2},children:g}),t.jsx(ke,{fullWidth:!0,label:"Criterion Name",value:b.name,onChange:N=>T({...b,name:N.target.value}),margin:"normal",required:!0,placeholder:"e.g., Technical Implementation"}),t.jsx(ke,{fullWidth:!0,label:"Description",value:b.description||"",onChange:N=>T({...b,description:N.target.value}),margin:"normal",multiline:!0,rows:2,placeholder:"Brief description of what judges should evaluate"}),t.jsxs(k,{sx:{display:"flex",gap:2,mt:1},children:[t.jsx(ke,{label:"Max Marks",type:"number",value:b.max_marks,onChange:N=>T({...b,max_marks:parseInt(N.target.value)||0}),margin:"normal",inputProps:{min:1,max:100},sx:{flex:1}}),t.jsx(ke,{label:"Weight",type:"number",value:b.weight,onChange:N=>T({...b,weight:parseFloat(N.target.value)||1}),margin:"normal",inputProps:{min:.1,max:10,step:.1},sx:{flex:1}}),t.jsx(ke,{label:"Order",type:"number",value:b.display_order,onChange:N=>T({...b,display_order:parseInt(N.target.value)||1}),margin:"normal",inputProps:{min:1},sx:{flex:1}})]})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>v(!1),disabled:f,children:"Cancel"}),t.jsx(se,{onClick:z,variant:"contained",disabled:f,children:f?t.jsx(at,{size:20,color:"inherit"}):"Save"})]})]})]})}const Ql={Z_SCORE:"Z_SCORE",ROBUST_MAD:"ROBUST_MAD"};function V1(s,i){if(!s.scores||Object.keys(s.scores).length===0)return 0;let l=0,o=0;return i.forEach(d=>{const h=s.scores[d.id];if(h!=null){const f=h/d.max_marks,m=d.weight||1;o+=f*m,l+=m}}),l===0?0:o/l*100}function U1(s,i){if(s.length===0)return 0;const l=s.reduce((o,d)=>{const h=d-i;return o+h*h},0);return Math.sqrt(l/s.length)}function vu(s){if(s.length===0)return 0;const i=[...s].sort((o,d)=>o-d),l=Math.floor(i.length/2);return i.length%2===0?(i[l-1]+i[l])/2:i[l]}function W1(s,i){if(s.length===0)return 0;const l=s.map(o=>Math.abs(o-i));return vu(l)}function q1(s,i=Ql.Z_SCORE){const l={};s.forEach(d=>{l[d.judge_id]||(l[d.judge_id]=[]),l[d.judge_id].push(d)});const o=[];return Object.entries(l).forEach(([d,h])=>{const f=h.map(m=>m.raw_total);if(f.length<2){h.forEach(m=>{o.push({...m,judge_mean:f[0]||0,judge_std:0,z_score:0})});return}if(i===Ql.ROBUST_MAD){const m=vu(f),g=W1(f,m);g===0?h.forEach(x=>{o.push({...x,judge_mean:m,judge_std:0,z_score:0})}):h.forEach(p=>{const v=(p.raw_total-m)/(1.4826*g);o.push({...p,judge_mean:m,judge_std:g*1.4826,z_score:v})})}else{const m=f.reduce((x,p)=>x+p,0)/f.length,g=U1(f,m);g===0?h.forEach(x=>{o.push({...x,judge_mean:m,judge_std:0,z_score:0})}):h.forEach(x=>{const p=(x.raw_total-m)/g;o.push({...x,judge_mean:m,judge_std:g,z_score:p})})}}),o}function P1(s,i={}){const l={};s.forEach(d=>{l[d.team_id]||(l[d.team_id]=[]),l[d.team_id].push(d)});const o=[];return Object.entries(l).forEach(([d,h])=>{let f=0,m=0;const g=[];h.forEach(b=>{const T=i[b.judge_id]||1;f+=b.z_score*T,m+=T,g.push(b.raw_total)});const x=m>0?f/m:0,p=g.reduce((b,T)=>b+T,0)/g.length,v=vu(g);o.push({team_id:d,aggregated_z:x,judge_count:h.length,mean_raw_total:p,median_raw_total:v,team_results:h})}),o}function H1(s){const i=[...s].sort((o,d)=>d.aggregated_z-o.aggregated_z),l=i.map((o,d)=>{const h=i.length>1?(i.length-1-d)/(i.length-1)*100:100;return{...o,percentile:h,initial_rank:d+1}});return F1(l)}function F1(s){const i=[];let l=[],o=null;s.forEach((f,m)=>{o===null||Math.abs(f.percentile-o)<1e-4?l.push(f):(l.length>0&&i.push(l),l=[f]),o=f.percentile}),l.length>0&&i.push(l);const d=[];let h=1;return i.forEach(f=>{if(f.length===1)d.push({...f[0],rank:h,tie_breaker_data:{}});else{const m=[...f].sort((g,x)=>Math.abs(g.aggregated_z-x.aggregated_z)>1e-4?x.aggregated_z-g.aggregated_z:Math.abs(g.mean_raw_total-x.mean_raw_total)>1e-4?x.mean_raw_total-g.mean_raw_total:Math.abs(g.median_raw_total-x.median_raw_total)>1e-4?x.median_raw_total-g.median_raw_total:g.judge_count!==x.judge_count?x.judge_count-g.judge_count:0);m.forEach((g,x)=>{const p=x>0&&Math.abs(g.aggregated_z-m[x-1].aggregated_z)<1e-4&&Math.abs(g.mean_raw_total-m[x-1].mean_raw_total)<1e-4&&Math.abs(g.median_raw_total-m[x-1].median_raw_total)<1e-4&&g.judge_count===m[x-1].judge_count;d.push({...g,rank:h+x,tie_breaker_data:{requires_manual_resolution:p,aggregated_z:g.aggregated_z,mean_raw_total:g.mean_raw_total,median_raw_total:g.median_raw_total,judge_count:g.judge_count}})})}h+=f.length}),d}function Y1(s,i,l={}){const o=l.method||Ql.Z_SCORE,d=l.judgeWeights||{},h=s.map(x=>({...eval,raw_total:V1(x,i)})),f=q1(h,o),m=P1(f,d),g=H1(m);return{perJudgeResults:f,aggregatedResults:m,finalResults:g}}async function G1(s,i={}){try{const l=i.method||Ql.Z_SCORE,o=i.computedBy,{data:d,error:h}=await B.from("rounds").select("*").eq("id",s).maybeSingle();if(h)throw h;if(!d)throw new Error("Round not found");const{data:f,error:m}=await B.from("round_criteria").select("*").eq("round_id",s).order("display_order");if(m)throw m;if(!f||f.length===0)throw new Error("No criteria defined for this round");const{data:g,error:x}=await B.from("round_evaluations").select("*").eq("round_id",s).eq("is_draft",!1);if(x)throw x;if(!g||g.length===0)throw new Error("No submitted evaluations found");const{data:p,error:v}=await B.from("round_judge_assignments").select("*").eq("round_id",s);if(v)throw v;const b={};p?.forEach(J=>{b[J.judge_id]=J.judge_weight||1});const{perJudgeResults:T,finalResults:C}=Y1(g,f,{method:l,judgeWeights:b}),{error:A}=await B.from("round_normalization_results").delete().eq("round_id",s);if(A)throw A;const _=[];T.forEach(J=>{_.push({round_id:s,team_id:J.team_id,judge_id:J.judge_id,raw_total:J.raw_total,judge_mean:J.judge_mean,judge_std:J.judge_std,z_score:J.z_score,aggregated_z:null,percentile:null,rank:null,tie_breaker_data:{},computed_at:new Date().toISOString()})}),C.forEach(J=>{J.team_results.forEach(oe=>{const U=_.findIndex(ae=>ae.team_id===J.team_id&&ae.judge_id===oe.judge_id);U>=0&&(_[U].aggregated_z=J.aggregated_z,_[U].percentile=J.percentile,_[U].rank=J.rank,_[U].tie_breaker_data=J.tie_breaker_data)})});const{error:z}=await B.from("round_normalization_results").insert(_);if(z)throw z;const S=new Set(g.map(J=>J.judge_id)).size,E=new Set(g.map(J=>J.team_id)).size,{error:W}=await B.from("round_compute_logs").insert({round_id:s,normalization_method:l,computation_params:{judgeWeights:b},teams_evaluated:E,judges_count:S,computed_by:o,computed_at:new Date().toISOString()});if(W)throw W;const{error:N}=await B.from("rounds").update({is_computed:!0,computed_at:new Date().toISOString(),normalization_method:l}).eq("id",s);if(N)throw N;return{success:!0,results:C,stats:{teams_evaluated:E,judges_count:S,method:l}}}catch(l){return console.error("Error computing round:",l),{success:!1,error:l.message}}}async function t0(s){try{const{data:i,error:l}=await B.from("round_normalization_results").select(`
        *,
        teams (
          id,
          name,
          category_id
        ),
        judges (
          id,
          name,
          category
        )
      `).eq("round_id",s).order("rank",{ascending:!0,nullsFirst:!1});if(l)throw l;const o={};return i?.forEach(d=>{o[d.team_id]||(o[d.team_id]={team_id:d.team_id,team_name:d.teams?.name,team_category:d.teams?.category_id,rank:d.rank,percentile:d.percentile,aggregated_z:d.aggregated_z,tie_breaker_data:d.tie_breaker_data,judge_evaluations:[]}),o[d.team_id].judge_evaluations.push({judge_id:d.judge_id,judge_name:d.judges?.name,judge_category:d.judges?.category,raw_total:d.raw_total,judge_mean:d.judge_mean,judge_std:d.judge_std,z_score:d.z_score})}),Object.values(o).sort((d,h)=>(d.rank||999)-(h.rank||999))}catch(i){return console.error("Error getting round results:",i),[]}}async function J1(s){try{const{data:i}=await B.from("round_criteria").select("id").eq("round_id",s),{data:l}=await B.from("round_judge_assignments").select("judge_id").eq("round_id",s),{data:o}=await B.from("round_evaluations").select("judge_id, team_id, is_draft").eq("round_id",s),d=[];(!i||i.length===0)&&d.push("No criteria defined"),(!l||l.length===0)&&d.push("No judges assigned");const h=o?.filter(m=>!m.is_draft)||[];h.length===0&&d.push("No submitted evaluations");const f=o?.filter(m=>m.is_draft)||[];return{ready:d.length===0,missing:d,stats:{criteria_count:i?.length||0,judges_count:l?.length||0,submitted_evaluations:h.length,draft_evaluations:f.length}}}catch(i){return console.error("Error checking round readiness:",i),{ready:!1,missing:[i.message],stats:{}}}}function Z1({round:s,onClose:i}){const[l,o]=w.useState([]),[d,h]=w.useState(null),[f,m]=w.useState(!0),[g,x]=w.useState(!1),[p,v]=w.useState(null),[b,T]=w.useState(null);w.useEffect(()=>{C()},[s.id]);const C=async()=>{m(!0),v(null);try{const[S,E]=await Promise.all([t0(s.id),J1(s.id)]);o(S),h(E)}catch(S){console.error("Error loading round data:",S),v("Failed to load round data")}finally{m(!1)}},A=async()=>{x(!0),v(null),T(null);try{const S=await G1(s.id,{method:"Z_SCORE"});S.success?(T(`Results computed successfully! ${S.stats.teams_evaluated} teams evaluated by ${S.stats.judges_count} judges.`),await C()):v(S.error||"Failed to compute results")}catch(S){console.error("Error computing results:",S),v(S.message||"Failed to compute results")}finally{x(!1)}},_=S=>S===1?{icon:"",color:"#fbbf24"}:S===2?{icon:"",color:"#9ca3af"}:S===3?{icon:"",color:"#cd7f32"}:{icon:S,color:"#6b7280"},z=S=>S>=90?"#22c55e":S>=75?"#3b82f6":S>=50?"#f59e0b":"#ef4444";return t.jsxs(xt,{open:!0,onClose:i,maxWidth:"lg",fullWidth:!0,children:[t.jsxs(wt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(k,{children:[t.jsxs(L,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(hr,{sx:{color:"#f59e0b"}}),"Results - ",s.name]}),t.jsx(L,{variant:"body2",color:"textSecondary",children:s.is_computed?"Computed results":"Results not yet computed"})]}),t.jsx(k,{sx:{display:"flex",gap:1},children:t.jsx(se,{size:"small",startIcon:t.jsx(ns,{}),onClick:C,disabled:f,children:"Refresh"})})]}),t.jsxs(pt,{children:[p&&t.jsx(Oe,{severity:"error",sx:{mb:2},onClose:()=>v(null),children:p}),b&&t.jsx(Oe,{severity:"success",sx:{mb:2},onClose:()=>T(null),children:b}),f?t.jsx(k,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(at,{})}):t.jsxs(t.Fragment,{children:[d&&t.jsxs(ze,{sx:{p:2,mb:3,bgcolor:d.ready?"#f0fdf4":"#fef3c7"},children:[t.jsx(L,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Computation Readiness"}),t.jsxs(k,{sx:{display:"flex",gap:2,flexWrap:"wrap",mb:2},children:[t.jsx(fe,{label:`${d.stats.criteria_count} criteria`,size:"small",color:d.stats.criteria_count>0?"success":"error"}),t.jsx(fe,{label:`${d.stats.judges_count} judges`,size:"small",color:d.stats.judges_count>0?"success":"error"}),t.jsx(fe,{label:`${d.stats.submitted_evaluations} submitted`,size:"small",color:d.stats.submitted_evaluations>0?"success":"error"}),t.jsx(fe,{label:`${d.stats.draft_evaluations} drafts`,size:"small",color:"warning",variant:"outlined"})]}),!d.ready&&t.jsxs(Oe,{severity:"warning",sx:{mb:2},children:[t.jsx("strong",{children:"Cannot compute yet:"}),t.jsx("ul",{style:{margin:0,paddingLeft:20},children:d.missing.map((S,E)=>t.jsx("li",{children:S},E))})]}),t.jsx(se,{variant:"contained",color:"primary",startIcon:g?t.jsx(at,{size:18,color:"inherit"}):t.jsx(Wp,{}),onClick:A,disabled:!d.ready||g,children:g?"Computing...":s.is_computed?"Recompute Results":"Compute Results"})]}),l.length>0?t.jsx(Bt,{component:ze,variant:"outlined",children:t.jsxs(Lt,{size:"small",children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{bgcolor:"#f8fafc"},children:[t.jsx(G,{sx:{fontWeight:600,width:80},children:"Rank"}),t.jsx(G,{sx:{fontWeight:600},children:"Team"}),t.jsx(G,{sx:{fontWeight:600},children:"Category"}),t.jsx(G,{sx:{fontWeight:600,width:120},children:"Aggregated Z"}),t.jsx(G,{sx:{fontWeight:600,width:120},children:"Percentile"}),t.jsx(G,{sx:{fontWeight:600},children:"Judge Scores"})]})}),t.jsx(Ut,{children:l.map(S=>{const E=_(S.rank);return t.jsxs(Ne,{children:[t.jsx(G,{children:t.jsx(k,{sx:{display:"flex",alignItems:"center",gap:1,fontWeight:S.rank<=3?700:400,fontSize:S.rank<=3?"1.2rem":"1rem"},children:typeof E.icon=="string"&&E.icon.length===2?t.jsx("span",{children:E.icon}):t.jsx(fe,{label:E.icon,size:"small"})})}),t.jsx(G,{sx:{fontWeight:600},children:S.team_name||"Unknown Team"}),t.jsx(G,{children:t.jsx(fe,{label:S.team_category||"N/A",size:"small",variant:"outlined"})}),t.jsx(G,{children:t.jsx(Xl,{title:"Aggregated Z-Score across all judges",children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(xu,{fontSize:"small",sx:{color:S.aggregated_z>=0?"#22c55e":"#ef4444"}}),S.aggregated_z?.toFixed(3)||"N/A"]})})}),t.jsx(G,{children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(mr,{variant:"determinate",value:S.percentile||0,sx:{flex:1,height:8,borderRadius:4,bgcolor:"#e2e8f0","& .MuiLinearProgress-bar":{bgcolor:z(S.percentile)}}}),t.jsxs(L,{variant:"body2",sx:{minWidth:40},children:[S.percentile?.toFixed(0),"%"]})]})}),t.jsx(G,{children:t.jsx(k,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:S.judge_evaluations?.map((W,N)=>t.jsx(Xl,{title:`${W.judge_name}: Raw ${W.raw_total?.toFixed(1)}, Z-Score ${W.z_score?.toFixed(3)}`,children:t.jsx(fe,{label:W.raw_total?.toFixed(0),size:"small",variant:"outlined",sx:{fontSize:"0.7rem"}})},N))})})]},S.team_id)})})]})}):t.jsxs(ze,{sx:{p:4,textAlign:"center",bgcolor:"#f8fafc"},children:[t.jsx(hr,{sx:{fontSize:48,color:"#9ca3af",mb:2}}),t.jsx(L,{color:"textSecondary",children:"No results available yet. Make sure evaluations are submitted and then compute results."})]})]})]}),t.jsx(Tt,{sx:{p:3,pt:2},children:t.jsx(se,{onClick:i,children:"Close"})})]})}const Ja={PER_JUDGE_TOP_N:"PER_JUDGE_TOP_N",GLOBAL_TOP_K:"GLOBAL_TOP_K"};async function X1(s,i,l={}){try{if(![2,5,10].includes(i))throw new Error("topN must be 2, 5, or 10");const o=l.judgeTypes||["HARDWARE","SOFTWARE","BOTH"],{data:d,error:h}=await B.from("round_judge_assignments").select("judge_id, judge_type").eq("round_id",s).in("judge_type",o);if(h)throw h;if(!d||d.length===0)throw new Error("No judges found matching criteria");const{data:f,error:m}=await B.from("round_normalization_results").select(`
        team_id,
        judge_id,
        raw_total,
        z_score,
        teams (
          id,
          name
        )
      `).eq("round_id",s);if(m)throw m;if(!f||f.length===0)throw new Error("No normalized results found. Please compute round first.");const g={},x=new Set,p=[];d.forEach(b=>{const T=f.filter(_=>_.judge_id===b.judge_id),A=[...T].sort((_,z)=>z.raw_total-_.raw_total).slice(0,i);g[b.judge_id]={judge_id:b.judge_id,judge_type:b.judge_type,selected_teams:A.map(_=>({team_id:_.team_id,team_name:_.teams?.name,raw_total:_.raw_total,z_score:_.z_score})),total_evaluated:T.length},A.forEach(_=>x.add(_.team_id)),p.push({judge_id:b.judge_id,judge_type:b.judge_type,teams_evaluated:T.length,teams_selected:A.length,selected_team_ids:A.map(_=>_.team_id)})});const v=Array.from(x);return{success:!0,selected:v,breakdown:p,stats:{total_judges:d.length,total_selected:v.length,top_n:i}}}catch(o){return console.error("Error in selectPerJudgeTopN:",o),{success:!1,error:o.message}}}async function K1(s,i){try{const{data:l,error:o}=await B.from("round_normalization_results").select(`
        team_id,
        percentile,
        rank,
        aggregated_z,
        teams (
          id,
          name
        )
      `).eq("round_id",s).not("rank","is",null).order("rank",{ascending:!0});if(o)throw o;if(!l||l.length===0)throw new Error("No normalized results found. Please compute round first.");const d={};l.forEach(m=>{d[m.team_id]||(d[m.team_id]={team_id:m.team_id,team_name:m.teams?.name,rank:m.rank,percentile:m.percentile,aggregated_z:m.aggregated_z})});const h=Object.values(d).sort((m,g)=>m.rank-g.rank),f=h.slice(0,i);return{success:!0,selected:f.map(m=>m.team_id),teams:f,stats:{total_teams:h.length,teams_selected:f.length,top_k:i}}}catch(l){return console.error("Error in selectGlobalTopK:",l),{success:!1,error:l.message}}}async function I1(s,i,l,o,d={}){try{const{error:h}=await B.from("round_team_selections").delete().eq("from_round_id",s);if(h)throw h;const f=l.map(g=>({from_round_id:s,to_round_id:i,team_id:g,selection_mode:o,selection_criteria:d,selected_at:new Date().toISOString()})),{error:m}=await B.from("round_team_selections").insert(f);if(m)throw m;return{success:!0,promoted_count:l.length}}catch(h){return console.error("Error saving and promoting teams:",h),{success:!1,error:h.message}}}function Q1({round:s,rounds:i,onClose:l,onRefresh:o}){const[d,h]=w.useState([]),[f,m]=w.useState(!0),[g,x]=w.useState(!1),[p,v]=w.useState(null),[b,T]=w.useState(null),[C,A]=w.useState([]),[_,z]=w.useState(0),[S,E]=w.useState({mode:Ja.GLOBAL_TOP_K,topK:10,topN:5}),[W,N]=w.useState(""),[J,oe]=w.useState(null),U=i.filter(Z=>Z.round_number>s.round_number);w.useEffect(()=>{ae()},[s.id]);const ae=async()=>{m(!0),v(null);try{const Z=await t0(s.id);h(Z)}catch(Z){console.error("Error loading results:",Z),v("Failed to load results. Please compute results first.")}finally{m(!1)}},P=Z=>{A(O=>O.includes(Z)?O.filter(I=>I!==Z):[...O,Z])},re=()=>{A(d.map(Z=>Z.team_id))},te=()=>{A([])},me=async()=>{x(!0),v(null);try{let Z;S.mode===Ja.GLOBAL_TOP_K?Z=await K1(s.id,S.topK):Z=await X1(s.id,S.topN),Z.success?(A(Z.selected),oe(Z),z(0),T(`Auto-selected ${Z.selected.length} teams`)):v(Z.error||"Auto-selection failed")}catch(Z){console.error("Error in auto-selection:",Z),v(Z.message||"Auto-selection failed")}finally{x(!1)}},X=async()=>{if(C.length===0){v("Please select at least one team to promote");return}if(!W){v("Please select a target round");return}x(!0),v(null);try{const Z=await I1(s.id,W,C,S.mode,{topK:S.topK,topN:S.topN});Z.success?(T(`Successfully promoted ${Z.promoted_count} teams to next round!`),o?.()):v(Z.error||"Failed to promote teams")}catch(Z){console.error("Error promoting teams:",Z),v(Z.message||"Failed to promote teams")}finally{x(!1)}};return t.jsxs(xt,{open:!0,onClose:l,maxWidth:"lg",fullWidth:!0,children:[t.jsxs(wt,{children:[t.jsxs(L,{variant:"h6",children:["Team Selection & Advancement - ",s.name]}),t.jsx(L,{variant:"body2",color:"textSecondary",children:"Select teams to advance to the next round"})]}),t.jsxs(pt,{children:[p&&t.jsx(Oe,{severity:"error",sx:{mb:2},onClose:()=>v(null),children:p}),b&&t.jsx(Oe,{severity:"success",sx:{mb:2},onClose:()=>T(null),children:b}),!s.is_computed&&t.jsx(Oe,{severity:"warning",sx:{mb:2},children:"Results have not been computed yet. Please compute results before selecting teams."}),t.jsxs(qp,{value:_,onChange:(Z,O)=>z(O),sx:{mb:2},children:[t.jsx(Qd,{label:"Manual Selection"}),t.jsx(Qd,{label:"Auto Selection"})]}),_===1&&t.jsxs(ze,{sx:{p:2,mb:3,bgcolor:"#f0f9ff"},children:[t.jsx(L,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:"Auto Selection Configuration"}),t.jsxs(k,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"flex-end"},children:[t.jsxs(It,{sx:{minWidth:200},children:[t.jsx(Qt,{children:"Selection Mode"}),t.jsxs($t,{value:S.mode,onChange:Z=>E({...S,mode:Z.target.value}),label:"Selection Mode",children:[t.jsx(lt,{value:Ja.GLOBAL_TOP_K,children:"Global Top K"}),t.jsx(lt,{value:Ja.PER_JUDGE_TOP_N,children:"Per-Judge Top N"})]})]}),S.mode===Ja.GLOBAL_TOP_K?t.jsx(ke,{type:"number",label:"Top K Teams",value:S.topK,onChange:Z=>E({...S,topK:parseInt(Z.target.value)||10}),inputProps:{min:1,max:100},sx:{width:120}}):t.jsxs(It,{sx:{minWidth:120},children:[t.jsx(Qt,{children:"Top N"}),t.jsxs($t,{value:S.topN,onChange:Z=>E({...S,topN:Z.target.value}),label:"Top N",children:[t.jsx(lt,{value:2,children:"Top 2"}),t.jsx(lt,{value:5,children:"Top 5"}),t.jsx(lt,{value:10,children:"Top 10"})]})]}),t.jsx(se,{variant:"contained",startIcon:g?t.jsx(at,{size:18,color:"inherit"}):t.jsx(Pp,{}),onClick:me,disabled:g||!s.is_computed,children:"Preview Selection"})]}),S.mode===Ja.GLOBAL_TOP_K&&t.jsxs(L,{variant:"body2",color:"textSecondary",sx:{mt:1},children:["Selects the top ",S.topK," teams based on their aggregated Z-scores across all judges."]}),S.mode===Ja.PER_JUDGE_TOP_N&&t.jsxs(L,{variant:"body2",color:"textSecondary",sx:{mt:1},children:["Each judge selects their top ",S.topN," teams. Teams selected by multiple judges advance."]})]}),f?t.jsx(k,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(at,{})}):d.length===0?t.jsx(ze,{sx:{p:4,textAlign:"center",bgcolor:"#f8fafc"},children:t.jsx(L,{color:"textSecondary",children:"No results available. Please compute round results first."})}):t.jsxs(t.Fragment,{children:[t.jsxs(k,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(k,{sx:{display:"flex",gap:1},children:[t.jsx(fe,{label:`${C.length} selected`,color:"primary",icon:t.jsx(Wt,{})}),t.jsx(fe,{label:`${d.length} total`,variant:"outlined"})]}),t.jsxs(k,{sx:{display:"flex",gap:1},children:[t.jsx(se,{size:"small",onClick:re,children:"Select All"}),t.jsx(se,{size:"small",onClick:te,children:"Clear"})]})]}),t.jsx(Bt,{component:ze,variant:"outlined",sx:{maxHeight:400},children:t.jsxs(Lt,{size:"small",stickyHeader:!0,children:[t.jsx(Vt,{children:t.jsxs(Ne,{children:[t.jsx(G,{padding:"checkbox",sx:{bgcolor:"#f8fafc"},children:t.jsx(fr,{indeterminate:C.length>0&&C.length<d.length,checked:C.length===d.length,onChange:Z=>Z.target.checked?re():te()})}),t.jsx(G,{sx:{fontWeight:600,bgcolor:"#f8fafc"},children:"Rank"}),t.jsx(G,{sx:{fontWeight:600,bgcolor:"#f8fafc"},children:"Team"}),t.jsx(G,{sx:{fontWeight:600,bgcolor:"#f8fafc"},children:"Category"}),t.jsx(G,{sx:{fontWeight:600,bgcolor:"#f8fafc"},children:"Percentile"}),t.jsx(G,{sx:{fontWeight:600,bgcolor:"#f8fafc"},children:"Status"})]})}),t.jsx(Ut,{children:d.map(Z=>{const O=C.includes(Z.team_id);return t.jsxs(Ne,{selected:O,sx:{cursor:"pointer",bgcolor:O?"#f0fdf4":"inherit"},onClick:()=>P(Z.team_id),children:[t.jsx(G,{padding:"checkbox",children:t.jsx(fr,{checked:O})}),t.jsx(G,{children:t.jsx(fe,{label:Z.rank,size:"small",color:Z.rank<=3?"primary":"default"})}),t.jsx(G,{sx:{fontWeight:500},children:Z.team_name}),t.jsx(G,{children:t.jsx(fe,{label:Z.team_category||"N/A",size:"small",variant:"outlined"})}),t.jsxs(G,{children:[Z.percentile?.toFixed(0),"%"]}),t.jsx(G,{children:O?t.jsx(fe,{icon:t.jsx(Wt,{}),label:"Selected",size:"small",color:"success"}):t.jsx(fe,{icon:t.jsx(pu,{}),label:"Not Selected",size:"small",variant:"outlined"})})]},Z.team_id)})})]})}),t.jsxs(ze,{sx:{p:2,mt:3,bgcolor:"#faf5ff"},children:[t.jsx(L,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:"Promote to Next Round"}),t.jsxs(k,{sx:{display:"flex",gap:2,alignItems:"flex-end"},children:[t.jsxs(It,{sx:{minWidth:200},children:[t.jsx(Qt,{children:"Target Round"}),t.jsx($t,{value:W,onChange:Z=>N(Z.target.value),label:"Target Round",children:U.map(Z=>t.jsxs(lt,{value:Z.id,children:[Z.name," (Round ",Z.round_number,")"]},Z.id))})]}),t.jsxs(se,{variant:"contained",color:"primary",startIcon:g?t.jsx(at,{size:18,color:"inherit"}):t.jsx(Hp,{}),onClick:X,disabled:g||C.length===0||!W,children:["Promote ",C.length," Teams"]})]}),U.length===0&&t.jsx(L,{variant:"body2",color:"textSecondary",sx:{mt:1},children:"No next round available. Create a new round to promote teams."})]})]})]}),t.jsx(Tt,{sx:{p:3,pt:2},children:t.jsx(se,{onClick:l,children:"Close"})})]})}function $1({round:s,onClose:i}){const[l,o]=w.useState([]),[d,h]=w.useState(!0),[f,m]=w.useState(!1),[g,x]=w.useState(null),[p,v]=w.useState(null);w.useEffect(()=>{b()},[s.id]);const b=async()=>{h(!0),x(null);try{const E=await nt.getRoundJudgeAssignments(s.id),W=await Promise.all(E.map(async N=>{const J=await nt.getJudgeRoundProgress(s.id,N.judge_id);return{...N,progress:J}}));o(W)}catch(E){console.error("Error loading judge progress:",E),x("Failed to load judge progress")}finally{h(!1)}},T=async E=>{m(!0),x(null);try{const{data:W,error:N}=await B.functions.invoke("send-email",{body:{to:E.email,templateId:"scoring_reminder",eventName:s.name,judgeName:E.name,completedCount:E.progress?.submitted||0,totalCount:E.progress?.total||0}});if(N)throw N;v(`Reminder sent to ${E.name}`)}catch(W){console.error("Error sending reminder:",W),x(`Failed to send reminder: ${W.message}`)}finally{m(!1)}},C=async()=>{const E=l.filter(W=>!W.progress?.isComplete);if(E.length===0){x("All judges have completed their evaluations");return}m(!0),x(null);try{for(const W of E)await T(W.judge);v(`Reminders sent to ${E.length} judges`)}catch{x("Failed to send some reminders")}finally{m(!1)}},A=E=>E?E.progress>=100?"#22c55e":E.progress>=50?"#f59e0b":"#ef4444":"#9ca3af",_=l.filter(E=>E.progress?.isComplete).length,z=l.length,S=z>0?_/z*100:0;return t.jsxs(xt,{open:!0,onClose:i,maxWidth:"md",fullWidth:!0,children:[t.jsxs(wt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(k,{children:[t.jsxs(L,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Kl,{sx:{color:"#3b82f6"}}),"Judge Progress - ",s.name]}),t.jsx(L,{variant:"body2",color:"textSecondary",children:"Monitor and manage judge evaluations"})]}),t.jsx(k,{sx:{display:"flex",gap:1},children:t.jsx(se,{size:"small",startIcon:t.jsx(ns,{}),onClick:b,disabled:d,children:"Refresh"})})]}),t.jsxs(pt,{children:[g&&t.jsx(Oe,{severity:"error",sx:{mb:2},onClose:()=>x(null),children:g}),p&&t.jsx(Oe,{severity:"success",sx:{mb:2},onClose:()=>v(null),children:p}),t.jsxs(ze,{sx:{p:3,mb:3,bgcolor:"#f8fafc"},children:[t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(L,{variant:"h6",children:"Overall Progress"}),t.jsx(k,{sx:{display:"flex",gap:1},children:t.jsx(fe,{icon:t.jsx(Wt,{}),label:`${_}/${z} judges complete`,color:_===z?"success":"default"})})]}),t.jsx(mr,{variant:"determinate",value:S,sx:{height:12,borderRadius:6,bgcolor:"#e2e8f0","& .MuiLinearProgress-bar":{bgcolor:S>=100?"#22c55e":"#3b82f6",borderRadius:6}}}),t.jsxs(L,{variant:"body2",color:"textSecondary",sx:{mt:1},children:[S.toFixed(0),"% of judges have completed all evaluations"]})]}),l.some(E=>!E.progress?.isComplete)&&t.jsx(k,{sx:{mb:2},children:t.jsx(se,{variant:"outlined",startIcon:f?t.jsx(at,{size:18}):t.jsx($d,{}),onClick:C,disabled:f,children:"Send Reminder to All Incomplete Judges"})}),d?t.jsx(k,{sx:{display:"flex",justifyContent:"center",py:4},children:t.jsx(at,{})}):l.length===0?t.jsxs(ze,{sx:{p:4,textAlign:"center",bgcolor:"#f8fafc"},children:[t.jsx(Kl,{sx:{fontSize:48,color:"#9ca3af",mb:2}}),t.jsx(L,{color:"textSecondary",children:"No judges assigned to this round yet."})]}):t.jsx(Bt,{component:ze,variant:"outlined",children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{bgcolor:"#f8fafc"},children:[t.jsx(G,{sx:{fontWeight:600},children:"Judge"}),t.jsx(G,{sx:{fontWeight:600},children:"Email"}),t.jsx(G,{sx:{fontWeight:600},children:"Category"}),t.jsx(G,{sx:{fontWeight:600,width:200},children:"Progress"}),t.jsx(G,{sx:{fontWeight:600},children:"Status"}),t.jsx(G,{sx:{fontWeight:600,width:100},children:"Actions"})]})}),t.jsx(Ut,{children:l.map(E=>t.jsxs(Ne,{children:[t.jsx(G,{sx:{fontWeight:500},children:E.judge?.name||"Unknown"}),t.jsx(G,{sx:{color:"#6b7280"},children:E.judge?.email||"N/A"}),t.jsx(G,{children:t.jsx(fe,{label:E.judge?.category||"N/A",size:"small",variant:"outlined"})}),t.jsx(G,{children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(mr,{variant:"determinate",value:E.progress?.progress||0,sx:{flex:1,height:8,borderRadius:4,bgcolor:"#e2e8f0","& .MuiLinearProgress-bar":{bgcolor:A(E.progress),borderRadius:4}}}),t.jsxs(L,{variant:"body2",sx:{minWidth:60},children:[E.progress?.submitted||0,"/",E.progress?.total||0]})]})}),t.jsx(G,{children:E.progress?.isComplete?t.jsx(fe,{icon:t.jsx(Wt,{}),label:"Complete",size:"small",color:"success"}):E.progress?.submitted>0?t.jsx(fe,{icon:t.jsx(fj,{}),label:"In Progress",size:"small",color:"warning"}):t.jsx(fe,{icon:t.jsx(hj,{}),label:"Not Started",size:"small",color:"error"})}),t.jsx(G,{children:t.jsx(Xl,{title:E.progress?.isComplete?"Already complete":"Send reminder",children:t.jsx("span",{children:t.jsx(Qe,{size:"small",onClick:()=>T(E.judge),disabled:f||E.progress?.isComplete,sx:{color:E.progress?.isComplete?"#9ca3af":"#3b82f6"},children:t.jsx($d,{fontSize:"small"})})})})})]},E.judge_id))})]})}),l.length>0&&t.jsxs(k,{sx:{mt:3,display:"flex",gap:2,flexWrap:"wrap"},children:[t.jsxs(ze,{sx:{p:2,flex:1,minWidth:150,textAlign:"center",bgcolor:"#f0fdf4"},children:[t.jsx(L,{variant:"h4",sx:{color:"#22c55e",fontWeight:700},children:_}),t.jsx(L,{variant:"body2",color:"textSecondary",children:"Completed"})]}),t.jsxs(ze,{sx:{p:2,flex:1,minWidth:150,textAlign:"center",bgcolor:"#fef3c7"},children:[t.jsx(L,{variant:"h4",sx:{color:"#f59e0b",fontWeight:700},children:l.filter(E=>E.progress?.submitted>0&&!E.progress?.isComplete).length}),t.jsx(L,{variant:"body2",color:"textSecondary",children:"In Progress"})]}),t.jsxs(ze,{sx:{p:2,flex:1,minWidth:150,textAlign:"center",bgcolor:"#fef2f2"},children:[t.jsx(L,{variant:"h4",sx:{color:"#ef4444",fontWeight:700},children:l.filter(E=>!E.progress?.submitted).length}),t.jsx(L,{variant:"body2",color:"textSecondary",children:"Not Started"})]})]})]}),t.jsx(Tt,{sx:{p:3,pt:2},children:t.jsx(se,{onClick:i,children:"Close"})})]})}const eS={draft:"default",active:"success",closed:"warning",completed:"info"},tS={draft:"Draft",active:"Active (Judging)",closed:"Closed",completed:"Completed"};function nS({rounds:s,onRoundsChange:i,eventId:l,judges:o=[],teams:d=[]}){const[h,f]=w.useState(!1),[m,g]=w.useState(!1),[x,p]=w.useState({name:"",round_number:1}),[v,b]=w.useState(!1),[T,C]=w.useState(null),[A,_]=w.useState(null),[z,S]=w.useState({}),[E,W]=w.useState(null),[N,J]=w.useState([]),[oe,U]=w.useState({}),[ae,P]=w.useState(null),[re,te]=w.useState(null),[me,X]=w.useState(null),[Z,O]=w.useState(null),[I,H]=w.useState({});w.useEffect(()=>{const ne=async()=>{const he={},we={},Ge={};for(const Be of s)try{const We=await nt.getRoundJudgeAssignments(Be.id);he[Be.id]=We;const jn=await nt.getJudgeTeamAssignmentsForRound(Be.id);we[Be.id]=jn;const ai=await nt.getRoundCriteria(Be.id);Ge[Be.id]=ai.length}catch(We){console.error(`Error loading assignments for round ${Be.id}:`,We)}S(he),U(we),H(Ge)};s.length>0&&ne()},[s]);const ee=()=>{p({name:"",round_number:s.length+1}),C(null),f(!0)},ie=async()=>{if(!x.name){C("Round name is required");return}b(!0),C(null);try{if(x.id){const ne=await Se.updateRound(x.id,{name:x.name,round_number:x.round_number||1}),he=s.map(we=>we.id===x.id?ne:we);he.sort((we,Ge)=>we.round_number-Ge.round_number),i(he)}else{const ne=await Se.createRound({event_id:l,name:x.name,round_number:x.round_number||s.length+1,status:"draft"}),he=[...s,ne];he.sort((we,Ge)=>we.round_number-Ge.round_number),i(he)}f(!1)}catch(ne){console.error("Error saving round:",ne),C(ne.message||"Failed to save round")}finally{b(!1)}},de=async ne=>{if(window.confirm("Are you sure you want to delete this round? All evaluations and assignments will be lost.")){b(!0);try{await Se.deleteRound(ne),i(s.filter(he=>he.id!==ne))}catch(he){console.error("Error deleting round:",he),C(he.message||"Failed to delete round")}finally{b(!1)}}},ce=async(ne,he)=>{b(!0);try{const we=await nt.updateRoundStatus(ne,he),Ge=s.map(Be=>Be.id===ne?{...Be,status:he}:Be);i(Ge)}catch(we){console.error("Error updating round status:",we),C(we.message||"Failed to update round status")}finally{b(!1)}},be=ne=>{W(ne);const he=z[ne.id]||[];J(he.map(we=>we.judge_id)),g(!0)},Re=async()=>{if(E){b(!0);try{await nt.setRoundJudges(E.id,N);const ne=await nt.getRoundJudgeAssignments(E.id);S(he=>({...he,[E.id]:ne})),g(!1),W(null)}catch(ne){console.error("Error saving judge assignments:",ne),C(ne.message||"Failed to save judge assignments")}finally{b(!1)}}},le=async ne=>{const he=(z[ne]||[]).map(we=>we.judge);if(he.length===0){alert("Please assign judges to this round first.");return}if(d.length===0){alert("No teams available to assign.");return}b(!0);try{await nt.autoAssignJudgesToRound(ne,he,d);const we=await nt.getJudgeTeamAssignmentsForRound(ne);U(Ge=>({...Ge,[ne]:we})),alert("Teams have been auto-assigned to judges for this round!")}catch(we){console.error("Error auto-assigning teams:",we),C(we.message||"Failed to auto-assign teams")}finally{b(!1)}},pe=ne=>{switch(ne.status||"draft"){case"draft":return t.jsx(se,{size:"small",variant:"contained",color:"success",startIcon:t.jsx(yu,{}),onClick:()=>ce(ne.id,"active"),disabled:v,children:"Start Judging"});case"active":return t.jsx(se,{size:"small",variant:"contained",color:"warning",startIcon:t.jsx(pj,{}),onClick:()=>ce(ne.id,"closed"),disabled:v,children:"Close Round"});case"closed":return t.jsx(se,{size:"small",variant:"contained",color:"info",startIcon:t.jsx(xj,{}),onClick:()=>ce(ne.id,"completed"),disabled:v,children:"Mark Complete"});default:return null}};return t.jsxs(k,{children:[T&&t.jsx(Oe,{severity:"error",sx:{mb:2},onClose:()=>C(null),children:T}),t.jsxs(k,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(se,{variant:"contained",startIcon:t.jsx(as,{}),onClick:ee,disabled:v,children:"Create Round"}),t.jsxs(k,{sx:{display:"flex",gap:2},children:[t.jsx(fe,{label:`${s.length} Rounds`,color:"primary"}),t.jsx(fe,{label:`${o.length} Judges Available`,variant:"outlined"}),t.jsx(fe,{label:`${d.length} Teams`,variant:"outlined"})]})]}),s.length===0?t.jsx(ze,{sx:{p:4,textAlign:"center",borderRadius:"12px"},children:t.jsx(L,{color:"textSecondary",children:'No rounds created yet. Click "Create Round" to get started.'})}):t.jsx(k,{sx:{display:"flex",flexDirection:"column",gap:2},children:s.map(ne=>{const he=z[ne.id]||[],we=oe[ne.id]||[],Ge=new Set(we.map(Be=>Be.team_id)).size;return t.jsxs(Fp,{expanded:A===ne.id,onChange:()=>_(A===ne.id?null:ne.id),sx:{borderRadius:"12px !important","&:before":{display:"none"},boxShadow:"0 2px 12px rgba(0,0,0,0.08)"},children:[t.jsx(Yp,{expandIcon:t.jsx(Gp,{}),children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%",pr:2},children:[t.jsxs(L,{sx:{fontWeight:700,minWidth:"40px"},children:["#",ne.round_number]}),t.jsx(L,{sx:{fontWeight:600,flex:1},children:ne.name}),t.jsx(fe,{label:tS[ne.status]||"Draft",color:eS[ne.status]||"default",size:"small"}),t.jsx(fe,{icon:t.jsx(Xg,{}),label:`${he.length} judges`,size:"small",variant:"outlined"}),t.jsx(fe,{icon:t.jsx(Kg,{}),label:`${Ge}/${d.length} teams`,size:"small",variant:"outlined",color:Ge===d.length?"success":"default"})]})}),t.jsxs(Jp,{children:[t.jsx(lo,{sx:{mb:2}}),t.jsxs(k,{sx:{display:"flex",gap:2,mb:3,flexWrap:"wrap"},children:[pe(ne),t.jsxs(se,{size:"small",variant:"outlined",startIcon:t.jsx(mj,{}),onClick:()=>P(ne),disabled:v,children:["Criteria (",I[ne.id]||0,")"]}),t.jsx(se,{size:"small",variant:"outlined",startIcon:t.jsx(Xg,{}),onClick:()=>be(ne),disabled:v||ne.status==="completed",children:"Assign Judges"}),t.jsx(se,{size:"small",variant:"outlined",color:"success",startIcon:t.jsx(Kg,{}),onClick:()=>le(ne.id),disabled:v||he.length===0||ne.status==="completed",children:"Auto-Assign Teams"}),t.jsx(se,{size:"small",variant:"outlined",color:"info",startIcon:t.jsx(gj,{}),onClick:()=>O(ne),disabled:v||he.length===0,children:"Judge Progress"}),(ne.status==="closed"||ne.status==="completed")&&t.jsxs(t.Fragment,{children:[t.jsx(se,{size:"small",variant:"outlined",color:"primary",startIcon:t.jsx(hr,{}),onClick:()=>te(ne),disabled:v,children:"Results"}),t.jsx(se,{size:"small",variant:"outlined",color:"secondary",startIcon:t.jsx(Hp,{}),onClick:()=>X(ne),disabled:v,children:"Advance Teams"})]}),t.jsx(Qe,{size:"small",onClick:()=>{p({id:ne.id,name:ne.name,round_number:ne.round_number}),C(null),f(!0)},disabled:v||ne.status==="completed",sx:{color:"#3b82f6"},children:t.jsx(ei,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>de(ne.id),disabled:v||ne.status==="active",sx:{color:"#ef4444"},children:t.jsx(Ta,{fontSize:"small"})})]}),t.jsxs(L,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:["Assigned Judges (",he.length,")"]}),he.length===0?t.jsx(L,{color:"textSecondary",sx:{mb:2,fontSize:"0.875rem"},children:'No judges assigned yet. Click "Assign Judges" to add judges to this round.'}):t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:he.map(Be=>{const We=we.filter(jn=>jn.judge_id===Be.judge_id);return t.jsx(fe,{label:`${Be.judge?.name||"Unknown"} (${We.length} teams)`,size:"small",color:We.length>0?"primary":"default",variant:"outlined"},Be.judge_id)})}),we.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(L,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Team Assignments"}),t.jsx(Bt,{component:ze,variant:"outlined",sx:{maxHeight:200},children:t.jsxs(Lt,{size:"small",stickyHeader:!0,children:[t.jsx(Vt,{children:t.jsxs(Ne,{children:[t.jsx(G,{sx:{fontWeight:600},children:"Judge"}),t.jsx(G,{sx:{fontWeight:600},children:"Team"}),t.jsx(G,{sx:{fontWeight:600},children:"Category"})]})}),t.jsx(Ut,{children:we.map(Be=>t.jsxs(Ne,{children:[t.jsx(G,{children:Be.judge?.name||"Unknown"}),t.jsx(G,{children:Be.team?.name||"Unknown"}),t.jsx(G,{children:t.jsx(fe,{label:Be.team?.category_id||"N/A",size:"small",variant:"outlined"})})]},Be.id))})]})})]})]})]},ne.id)})}),t.jsxs(xt,{open:h,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(wt,{children:x.id?"Edit Round":"Create New Round"}),t.jsxs(pt,{children:[T&&t.jsx(Oe,{severity:"error",sx:{mb:2},children:T}),t.jsx(ke,{fullWidth:!0,label:"Round Name",value:x.name,onChange:ne=>p({...x,name:ne.target.value}),margin:"normal",required:!0,placeholder:"e.g., Round 1, Semi-Finals, Finals",disabled:v}),t.jsx(ke,{fullWidth:!0,label:"Order",type:"number",value:x.round_number,onChange:ne=>p({...x,round_number:parseInt(ne.target.value)}),margin:"normal",required:!0,disabled:v})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>f(!1),disabled:v,children:"Cancel"}),t.jsx(se,{onClick:ie,variant:"contained",disabled:v,children:v?t.jsx(at,{size:20,color:"inherit"}):x.id?"Update":"Create"})]})]}),t.jsxs(xt,{open:m,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsxs(wt,{children:["Assign Judges to ",E?.name]}),t.jsxs(pt,{children:[t.jsx(L,{color:"textSecondary",sx:{mb:2},children:"Select judges to participate in this round. Only assigned judges can submit evaluations."}),t.jsxs(It,{fullWidth:!0,margin:"normal",children:[t.jsx(Qt,{children:"Select Judges"}),t.jsx($t,{multiple:!0,value:N,onChange:ne=>J(ne.target.value),renderValue:ne=>t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:ne.map(he=>{const we=o.find(Ge=>Ge.id===he);return t.jsx(fe,{label:we?.name||he,size:"small"},he)})}),children:o.map(ne=>t.jsxs(lt,{value:ne.id,children:[t.jsx(fr,{checked:N.includes(ne.id)}),t.jsx(Ks,{primary:ne.name,secondary:`${ne.email}  ${ne.category||"No category"}`})]},ne.id))})]}),t.jsxs(k,{sx:{mt:2,display:"flex",gap:1},children:[t.jsx(se,{size:"small",variant:"outlined",onClick:()=>J(o.map(ne=>ne.id)),children:"Select All"}),t.jsx(se,{size:"small",variant:"outlined",onClick:()=>J([]),children:"Clear All"})]})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>g(!1),disabled:v,children:"Cancel"}),t.jsx(se,{onClick:Re,variant:"contained",disabled:v,children:v?t.jsx(at,{size:20,color:"inherit"}):"Save Assignments"})]})]}),ae&&t.jsx(L1,{round:ae,onClose:()=>P(null)}),re&&t.jsx(Z1,{round:re,onClose:()=>te(null)}),me&&t.jsx(Q1,{round:me,rounds:s,onClose:()=>X(null),onRefresh:()=>i([...s])}),Z&&t.jsx($1,{round:Z,onClose:()=>O(null)})]})}function aS({venues:s,onVenuesChange:i,eventId:l}){const[o,d]=w.useState(!1),[h,f]=w.useState({name:"",capacity:0,notes:""}),[m,g]=w.useState(!1),[x,p]=w.useState(null),v=()=>{f({name:"",capacity:0,notes:""}),p(null),d(!0)},b=async()=>{if(!h.name){p("Venue name is required");return}g(!0),p(null);try{if(h.id){const C=await Se.updateVenue(h.id,{name:h.name,capacity:h.capacity||0,notes:h.notes||""}),A=s.map(_=>_.id===h.id?C:_);i(A)}else{const C=await Se.createVenue({event_id:l,name:h.name,capacity:h.capacity||0,notes:h.notes||""});i([...s,C])}d(!1)}catch(C){console.error("Error saving venue:",C),p(C.message||"Failed to save venue")}finally{g(!1)}},T=async C=>{if(window.confirm("Are you sure you want to delete this venue?")){g(!0);try{await Se.deleteVenue(C),i(s.filter(A=>A.id!==C))}catch(A){console.error("Error deleting venue:",A),p(A.message||"Failed to delete venue")}finally{g(!1)}}};return t.jsxs(k,{children:[x&&t.jsx(Oe,{severity:"error",sx:{mb:2},onClose:()=>p(null),children:x}),t.jsx(k,{sx:{mb:3},children:t.jsx(se,{variant:"contained",startIcon:t.jsx(as,{}),onClick:v,disabled:m,children:"Add Venue"})}),t.jsx(Bt,{component:ze,sx:{borderRadius:"12px",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",overflow:"hidden"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"},children:[t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Venue Name"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Capacity"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Notes"}),t.jsx(G,{align:"right",sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Actions"})]})}),t.jsx(Ut,{children:s.length===0?t.jsx(Ne,{children:t.jsx(G,{colSpan:4,align:"center",children:'No venues added yet. Click "Add Venue" to get started.'})}):s.map(C=>t.jsxs(Ne,{sx:{"&:hover":{backgroundColor:"#f8fafc"}},children:[t.jsx(G,{sx:{color:"#334155",fontWeight:500},children:C.name}),t.jsx(G,{sx:{color:"#334155"},children:C.capacity}),t.jsx(G,{sx:{color:"#334155"},children:C.notes}),t.jsxs(G,{align:"right",children:[t.jsx(Qe,{size:"small",onClick:()=>{f({id:C.id,name:C.name,capacity:C.capacity,notes:C.notes||""}),p(null),d(!0)},disabled:m,sx:{color:"#3b82f6","&:hover":{backgroundColor:"#eff6ff"}},children:t.jsx(ei,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>T(C.id),disabled:m,sx:{color:"#ef4444","&:hover":{backgroundColor:"#fef2f2"}},children:t.jsx(Ta,{fontSize:"small"})})]})]},C.id))})]})}),t.jsxs(xt,{open:o,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(wt,{children:h.id?"Edit Venue":"Add New Venue"}),t.jsxs(pt,{children:[x&&t.jsx(Oe,{severity:"error",sx:{mb:2},children:x}),t.jsx(ke,{fullWidth:!0,label:"Venue Name",value:h.name,onChange:C=>f({...h,name:C.target.value}),margin:"normal",required:!0,disabled:m}),t.jsx(ke,{fullWidth:!0,label:"Capacity",type:"number",value:h.capacity,onChange:C=>f({...h,capacity:parseInt(C.target.value)||0}),margin:"normal",disabled:m}),t.jsx(ke,{fullWidth:!0,label:"Notes",value:h.notes,onChange:C=>f({...h,notes:C.target.value}),margin:"normal",multiline:!0,rows:3,disabled:m})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>d(!1),disabled:m,sx:{textTransform:"none",color:"#7c3aed",fontWeight:600,px:3,py:1.2,borderRadius:"10px",background:"rgba(124, 58, 237, 0.08)","&:hover":{background:"rgba(124, 58, 237, 0.15)"}},children:"Cancel"}),t.jsx(se,{onClick:b,variant:"contained",disabled:m,sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.2,fontWeight:700,borderRadius:"10px",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.35)"}},children:m?t.jsx(at,{size:20,color:"inherit"}):h.id?"Update":"Create"})]})]})]})}function sS({categories:s,onCategoriesChange:i,eventId:l}){const[o,d]=w.useState(!1),[h,f]=w.useState({name:"",maxMarks:100}),m=()=>{f({name:"",maxMarks:100}),d(!0)},g=async()=>{if(!h.name){alert("Criterion name is required");return}if(!h.maxMarks||h.maxMarks<=0){alert("Max marks must be greater than 0");return}try{const p={event_id:l,name:h.name,max_score:h.maxMarks||100};h.id?await Se.updateCriterion(h.id,p):await Se.createCriterion(p);const b=(await Se.getCriteriaByEvent(l)).map(T=>({id:T.id,name:T.name,maxMarks:T.max_score,createdAt:T.created_at}));i(b),d(!1)}catch(p){console.error("Error saving criterion:",p),alert("Failed to save criterion. Please try again.")}},x=async p=>{if(window.confirm("Are you sure you want to delete this criterion?"))try{await Se.deleteCriterion(p);const b=(await Se.getCriteriaByEvent(l)).map(T=>({id:T.id,name:T.name,maxMarks:T.max_score,createdAt:T.created_at}));i(b)}catch(v){console.error("Error deleting criterion:",v),alert("Failed to delete criterion. Please try again.")}};return t.jsxs(k,{children:[t.jsxs(k,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs(k,{children:[t.jsx(L,{variant:"h6",sx:{fontWeight:700,color:"#1e293b",mb:.5},children:"Scoring Criteria"}),t.jsx(L,{variant:"body2",sx:{color:"#64748b"},children:"Define the criteria judges will use to evaluate teams"})]}),t.jsx(se,{variant:"contained",startIcon:t.jsx(as,{}),onClick:m,children:"Add Criterion"})]}),t.jsx(Bt,{component:ze,sx:{borderRadius:"12px",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",overflow:"hidden"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"},children:[t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Criterion Name"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Max Marks"}),t.jsx(G,{align:"right",sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Actions"})]})}),t.jsx(Ut,{children:s.length===0?t.jsx(Ne,{children:t.jsxs(G,{colSpan:3,align:"center",sx:{py:4},children:[t.jsx(L,{variant:"body2",sx:{color:"#64748b",mb:1},children:"No scoring criteria added yet."}),t.jsx(L,{variant:"caption",sx:{color:"#94a3b8"},children:'Click "Add Criterion" to define evaluation criteria (e.g., PPT: 50 marks, Prototype: 50 marks)'})]})}):s.map(p=>t.jsxs(Ne,{sx:{"&:hover":{backgroundColor:"#f8fafc"}},children:[t.jsx(G,{sx:{color:"#334155",fontWeight:500},children:p.name}),t.jsx(G,{sx:{color:"#334155",fontWeight:600},children:p.maxMarks}),t.jsxs(G,{align:"right",children:[t.jsx(Qe,{size:"small",onClick:()=>{f(p),d(!0)},sx:{color:"#3b82f6","&:hover":{backgroundColor:"#eff6ff"}},children:t.jsx(ei,{fontSize:"small"})}),t.jsx(Qe,{size:"small",onClick:()=>x(p.id),sx:{color:"#ef4444","&:hover":{backgroundColor:"#fef2f2"}},children:t.jsx(Ta,{fontSize:"small"})})]})]},p.id))})]})}),t.jsxs(xt,{open:o,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[t.jsx(wt,{children:h.id?"Edit Criterion":"Add New Criterion"}),t.jsxs(pt,{children:[t.jsx(L,{variant:"body2",sx:{color:"#64748b",mb:2,mt:1},children:'Define a scoring criterion that judges will use to evaluate teams. For example: "PPT" with 50 marks, "Prototype" with 50 marks.'}),t.jsx(ke,{fullWidth:!0,label:"Criterion Name",value:h.name,onChange:p=>f({...h,name:p.target.value}),margin:"normal",required:!0,placeholder:"e.g., PPT, Prototype, Innovation"}),t.jsx(ke,{fullWidth:!0,label:"Max Marks",type:"number",value:h.maxMarks,onChange:p=>f({...h,maxMarks:parseInt(p.target.value)||0}),margin:"normal",required:!0,inputProps:{min:1},helperText:"Enter the maximum marks for this criterion"})]}),t.jsxs(Tt,{sx:{p:3,pt:2,gap:1},children:[t.jsx(se,{onClick:()=>d(!1),sx:{textTransform:"none",color:"#7c3aed",fontWeight:600,px:3,py:1.2,borderRadius:"10px",background:"rgba(124, 58, 237, 0.08)","&:hover":{background:"rgba(124, 58, 237, 0.15)"}},children:"Cancel"}),t.jsx(se,{onClick:g,variant:"contained",sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.2,fontWeight:700,borderRadius:"10px",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.35)"}},children:h.id?"Update":"Create"})]})]})]})}function iS(){const{eventId:s}=oo(),i=yt(),[l,o]=w.useState(null),[d,h]=w.useState(0),[f,m]=w.useState([]),[g,x]=w.useState([]),[p,v]=w.useState([]),[b,T]=w.useState([]),[C,A]=w.useState([]),[_,z]=w.useState(!1);w.useEffect(()=>{S()},[s]);const S=async()=>{try{const te=await Se.getEvent(s);o(te);const[me,X,Z,O,I]=await Promise.all([Se.getTeamsByEvent(s),Se.getJudgesByEvent(s),Se.getCriteriaByEvent(s),Se.getRoundsByEvent(s),Se.getVenuesByEvent(s)]),H=await Promise.all(X.map(async ee=>{const ie=await Se.getJudgeAssignments(ee.id);return{...ee,assignedTeams:ie}}));m(me),x(H),A(Z),v(O),T(I)}catch(te){console.error("Error loading event data:",te)}},E=(te,me)=>{me!==d&&(z(!0),setTimeout(()=>{h(me),z(!1)},150))},W=te=>{m(te)},N=te=>{x(te)},J=te=>{v(te)},oe=te=>{T(te)},U=te=>{A(te)};if(!l)return t.jsxs(k,{sx:{minHeight:"100vh",background:"#f5f7fa"},children:[t.jsx(ss,{breadcrumb:"Dashboard / Loading..."}),t.jsx(k,{sx:{maxWidth:"1400px",mx:"auto",px:4,py:6},children:t.jsx(L,{children:"Loading..."})})]});const ae=[{label:"Overview",icon:t.jsx(Ig,{sx:{fontSize:"1.1rem",mr:1}}),count:null},{label:"Teams",icon:t.jsx(Ad,{sx:{fontSize:"1.1rem",mr:1}}),count:f.length},{label:"Judges",icon:t.jsx(Ed,{sx:{fontSize:"1.1rem",mr:1}}),count:g.length},{label:"Rounds",icon:t.jsx(Rd,{sx:{fontSize:"1.1rem",mr:1}}),count:p.length},{label:"Venues",icon:t.jsx(Qg,{sx:{fontSize:"1.1rem",mr:1}}),count:b.length},{label:"Criteria",icon:t.jsx(yj,{sx:{fontSize:"1.1rem",mr:1}}),count:C.length}],P=({title:te,value:me,icon:X})=>t.jsxs(zt,{sx:{borderRadius:"20px",p:3.5,textAlign:"center",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",border:"1px solid #e2e8f0",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)","&:hover":{boxShadow:"0 12px 40px rgba(124, 58, 237, 0.15)",transform:"translateY(-8px)",borderColor:"rgba(124, 58, 237, 0.3)",background:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)"}},children:[t.jsx(k,{sx:{position:"absolute",top:-15,right:-15,fontSize:"90px",color:"rgba(124, 58, 237, 0.06)",transition:"all 0.4s ease"},children:X}),t.jsx(L,{variant:"h2",sx:{color:"#7c3aed",fontWeight:800,fontSize:"3.2rem",mb:.5,position:"relative",zIndex:1},children:me}),t.jsx(L,{variant:"body2",sx:{color:"#64748b",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.08em",fontSize:"0.85rem",position:"relative",zIndex:1},children:te})]}),re=({children:te,isActive:me})=>t.jsx(vj,{in:me&&!_,timeout:300,children:t.jsx(k,{sx:{background:"white",borderRadius:"0 0 20px 20px",p:4,boxShadow:"0 4px 20px rgba(0,0,0,0.08)",minHeight:"400px",opacity:_?.5:1,transition:"opacity 0.3s ease"},children:te})});return t.jsxs(k,{sx:{minHeight:"100vh",background:"#f5f7fa"},children:[t.jsx(ss,{breadcrumb:`Dashboard / ${l.name}`}),t.jsxs(k,{sx:{maxWidth:"1400px",mx:"auto",px:4,py:4},children:[t.jsxs(k,{sx:{mb:4,p:4,background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"20px",border:"1px solid #e2e8f0",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},children:[t.jsx(L,{variant:"h3",sx:{fontWeight:800,color:"#1e293b",mb:.5,fontSize:"2.5rem"},children:l.name}),t.jsx(L,{variant:"body2",sx:{color:"#64748b",fontSize:"0.95rem"},children:l.description||"No description provided for this event."})]}),t.jsx(k,{sx:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"20px 20px 0 0",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",border:"1px solid #e2e8f0",borderBottom:"none"},children:t.jsx(qp,{value:d,onChange:E,variant:"scrollable",scrollButtons:"auto",sx:{px:2,py:1,"& .MuiTab-root":{textTransform:"none",fontSize:"0.95rem",fontWeight:500,color:"#ffffff",minHeight:"60px",px:3,py:2,mx:.5,borderRadius:"14px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&.Mui-selected":{color:"#7c3aed",fontWeight:700,background:"linear-gradient(135deg, rgba(124, 58, 237, 0.08) 0%, rgba(124, 58, 237, 0.04) 100%)",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.15)"},"&:hover":{color:"#7c3aed",background:"linear-gradient(135deg, rgba(124, 58, 237, 0.05) 0%, rgba(124, 58, 237, 0.02) 100%)",transform:"translateY(-1px)"},"&:not(.Mui-selected):hover":{background:"rgba(248, 250, 252, 0.8)"}},"& .MuiTabs-indicator":{display:"none"},"& .MuiTabs-scrollButtons":{color:"#7c3aed","&.Mui-disabled":{opacity:.3}}},children:ae.map((te,me)=>t.jsx(Qd,{label:t.jsxs(k,{sx:{display:"flex",alignItems:"center"},children:[te.icon,te.label,te.count!==null&&t.jsx(k,{sx:{ml:1.5,px:1.5,py:.3,borderRadius:"12px",background:d===me?"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)":"#e2e8f0",color:d===me?"white":"#64748b",fontSize:"0.75rem",fontWeight:600,minWidth:"24px",textAlign:"center",transition:"all 0.3s ease"},children:te.count})]})},me))})}),t.jsxs(k,{sx:{position:"relative"},children:[d===0&&t.jsxs(re,{isActive:d===0,children:[t.jsxs(Ia,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(Ia,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Teams",value:f.length,icon:t.jsx(Ad,{fontSize:"inherit"})})}),t.jsx(Ia,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Judges",value:g.length,icon:t.jsx(Ed,{fontSize:"inherit"})})}),t.jsx(Ia,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Rounds",value:p.length,icon:t.jsx(Rd,{fontSize:"inherit"})})}),t.jsx(Ia,{item:!0,xs:12,sm:6,md:3,children:t.jsx(P,{title:"Venues",value:b.length,icon:t.jsx(Qg,{fontSize:"inherit"})})})]}),t.jsxs(k,{children:[t.jsx(L,{variant:"h5",sx:{fontWeight:700,color:"#1e293b",mb:3,fontSize:"1.4rem"},children:"Quick Actions"}),t.jsxs(k,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[t.jsx(se,{variant:"contained",onClick:()=>h(1),startIcon:t.jsx(Ad,{}),sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:3,py:1.5,fontSize:"0.95rem",fontWeight:600,borderRadius:"14px",boxShadow:"0 4px 14px rgba(124, 58, 237, 0.25)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",boxShadow:"0 8px 25px rgba(124, 58, 237, 0.35)",transform:"translateY(-3px)"}},children:"Add Team"}),t.jsx(se,{variant:"contained",onClick:()=>i(`/admin/event/${s}/results`),startIcon:t.jsx(Ig,{}),sx:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",textTransform:"none",px:3,py:1.5,fontSize:"0.95rem",fontWeight:600,borderRadius:"14px",boxShadow:"0 4px 14px rgba(16, 185, 129, 0.25)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, #059669 0%, #047857 100%)",boxShadow:"0 8px 25px rgba(16, 185, 129, 0.35)",transform:"translateY(-3px)"}},children:"View Results"}),t.jsx(se,{variant:"contained",onClick:()=>i(`/admin/event/${s}/leaderboard`),startIcon:t.jsx(Zp,{}),sx:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",textTransform:"none",px:3,py:1.5,fontSize:"0.95rem",fontWeight:600,borderRadius:"14px",boxShadow:"0 4px 14px rgba(245, 158, 11, 0.25)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, #d97706 0%, #b45309 100%)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.35)",transform:"translateY(-3px)"}},children:"Live Leaderboard"}),t.jsx(se,{variant:"contained",onClick:()=>h(2),startIcon:t.jsx(Ed,{}),sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:3,py:1.5,fontSize:"0.95rem",fontWeight:600,borderRadius:"14px",boxShadow:"0 4px 14px rgba(124, 58, 237, 0.25)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)",boxShadow:"0 8px 25px rgba(124, 58, 237, 0.35)",transform:"translateY(-3px)"}},children:"Add Judge"}),t.jsx(se,{variant:"outlined",onClick:()=>h(3),startIcon:t.jsx(Rd,{}),sx:{borderColor:"#7c3aed",color:"#ffffff",textTransform:"none",px:3,py:1.5,fontSize:"0.95rem",fontWeight:600,borderRadius:"14px",borderWidth:"2px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{background:"#7c3aed",color:"white",borderColor:"#7c3aed",transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(124, 58, 237, 0.25)"}},children:"Manage Rounds"})]})]})]}),[1,2,3,4,5].includes(d)&&t.jsxs(re,{isActive:[1,2,3,4,5].includes(d),children:[d===1&&t.jsx(O1,{teams:f,venues:b,categories:C,onTeamsChange:W,eventId:s}),d===2&&t.jsx(B1,{judges:g,venues:b,categories:C,teams:f,onJudgesChange:N,eventId:s,eventName:l.name}),d===3&&t.jsx(nS,{rounds:p,onRoundsChange:J,eventId:s,judges:g,teams:f}),d===4&&t.jsx(aS,{venues:b,onVenuesChange:oe,eventId:s}),d===5&&t.jsx(sS,{categories:C,onCategoriesChange:U,eventId:s})]})]})]})]})}function rS(){const[s]=Ip(),i=s.get("token"),[l,o]=w.useState(null),[d,h]=w.useState([]),[f,m]=w.useState(null),[g,x]=w.useState([]),[p,v]=w.useState([]),[b,T]=w.useState({}),[C,A]=w.useState(!0),[_,z]=w.useState(null),[S,E]=w.useState(new Set),[W,N]=w.useState(new Set),[J,oe]=w.useState({});w.useEffect(()=>{if(!i){z("No access token provided. Please use the link from your invitation email."),A(!1);return}U()},[i]);const U=async()=>{try{const H=await Se.getJudgeByToken(i);if(!H){z("Invalid access token. Please check your invitation link."),A(!1);return}o(H);const ee=await nt.getJudgeRoundsWithProgress(H.id);h(ee);const ie={};for(const ce of ee)ie[ce.id]=ce.progress;oe(ie);const de=await nt.getActiveRoundForJudge(H.id);de?(m(de),await ae(de.id,H.id)):ee.length>0&&(m(ee[0]),await ae(ee[0].id,H.id)),A(!1)}catch(H){console.error("Error loading judge data:",H),z(`Failed to load judge data: ${H.message}`),A(!1)}},ae=async(H,ee)=>{try{const ie=await nt.getTeamsAssignedToJudgeForRound(H,ee);x(ie);const de=new Set(ie.filter(pe=>pe.is_absent).map(pe=>pe.id));N(de);const ce=await nt.getRoundCriteria(H);v(ce);const be=await nt.getJudgeEvaluationsForRound(H,ee),Re={},le=new Set;be.forEach(pe=>{Re[pe.team_id]=pe.scores||{},pe.is_draft||le.add(pe.team_id)}),T(Re),E(le)}catch(ie){console.error("Error loading round data:",ie),z(`Failed to load round data: ${ie.message}`)}},P=async H=>{const ee=d.findIndex(ie=>ie.id===H.id);for(let ie=0;ie<ee;ie++){const de=d[ie];if(!J[de.id]?.isComplete){alert(`Please complete ${de.name} before accessing ${H.name}`);return}}if(H.status==="draft"){alert("This round has not started yet. Please wait for the admin to activate it.");return}H.status==="closed"||H.status,m(H),A(!0),await ae(H.id,l.id),A(!1)},re=(H,ee,ie,de)=>{const ce=parseFloat(ie);ie!==""&&(isNaN(ce)||ce<0||ce>de)||T(be=>({...be,[H]:{...be[H],[ee]:ie===""?"":ce}}))},te=async H=>{const ee=b[H]||{};if(!p.every(de=>ee[de.id]!==void 0&&ee[de.id]!=="")){alert("Please fill in all criteria scores before submitting.");return}try{await nt.submitRoundEvaluation(f.id,l.id,H,ee);const de=new Set(S);de.add(H),E(de);const ce=await nt.getJudgeRoundProgress(f.id,l.id);oe(be=>({...be,[f.id]:ce})),alert("Scores submitted successfully!")}catch(de){console.error("Error submitting scores:",de),alert("Failed to submit scores. Please try again.")}},me=async H=>{const ee=b[H]||{};try{await nt.saveDraftEvaluation(f.id,l.id,H,ee),alert("Draft saved successfully!")}catch(ie){console.error("Error saving draft:",ie),alert("Failed to save draft. Please try again.")}},X=async H=>{try{const ee=W.has(H);await Se.markTeamAbsent(H,!ee);const ie=new Set(W);if(ee)ie.delete(H);else{ie.add(H);const de=new Set(S);de.delete(H),E(de)}N(ie),alert(ee?"Team marked as present.":"Team marked as absent.")}catch(ee){console.error("Error marking team absent:",ee),alert("Failed to update team status. Please try again.")}};if(C)return t.jsx(k,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:t.jsx(at,{})});if(_)return t.jsx(k,{sx:{minHeight:"100vh",background:"#f5f7fa",p:4},children:t.jsx(k,{sx:{maxWidth:"800px",mx:"auto"},children:t.jsx(Oe,{severity:"error",sx:{mb:3},children:_})})});const Z=g.filter(H=>!W.has(H.id)),O=Z.length>0?S.size/Z.length*100:0,I=f?.status==="active";return t.jsx(k,{sx:{minHeight:"100vh",background:"#f5f7fa",p:4},children:t.jsxs(k,{sx:{maxWidth:"1200px",mx:"auto"},children:[t.jsxs(zt,{sx:{p:4,mb:4,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[t.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(bj,{sx:{fontSize:40,color:"#2563eb",mr:2}}),t.jsxs(k,{children:[t.jsx(L,{variant:"h4",sx:{fontWeight:700,color:"#1e293b"},children:"Judge Dashboard"}),t.jsxs(L,{variant:"body1",sx:{color:"#64748b"},children:["Welcome, ",l?.name]})]})]}),d.length>0&&t.jsxs(k,{sx:{mt:3},children:[t.jsx(L,{variant:"subtitle2",sx:{fontWeight:600,mb:2,color:"#64748b"},children:"ROUND PROGRESS (Sequential)"}),t.jsx(jj,{activeStep:d.findIndex(H=>H.id===f?.id),alternativeLabel:!0,children:d.map((H,ee)=>{const ie=J[H.id],de=ie?.isComplete,ce=ee===0||J[d[ee-1]?.id]?.isComplete,be=ce&&H.status!=="draft";return t.jsx(Sj,{completed:de,sx:{cursor:be?"pointer":"not-allowed"},onClick:()=>be&&P(H),children:t.jsx(wj,{error:!ce&&!de,icon:H.status==="draft"?t.jsx(Tj,{}):de?t.jsx(Wt,{sx:{color:"#10b981"}}):H.id===f?.id?t.jsx(yu,{sx:{color:"#3b82f6"}}):void 0,children:t.jsxs(k,{children:[t.jsx(L,{variant:"body2",sx:{fontWeight:600},children:H.name}),ie&&t.jsxs(L,{variant:"caption",color:"textSecondary",children:[ie.submitted,"/",ie.total," teams"]})]})})},H.id)})})]}),f&&t.jsxs(k,{sx:{display:"flex",gap:2,mt:3,flexWrap:"wrap"},children:[t.jsx(fe,{label:f.name,color:"primary",sx:{fontWeight:600}}),t.jsx(fe,{label:f.status==="active"?"Open for Judging":f.status==="draft"?"Not Started":"Closed",color:f.status==="active"?"success":f.status==="draft"?"default":"warning",sx:{fontWeight:600}}),t.jsx(fe,{label:`${g.length} Teams Assigned`,variant:"outlined",sx:{fontWeight:600}}),t.jsx(fe,{label:`${S.size}/${Z.length} Scored`,color:S.size===Z.length?"success":"warning",sx:{fontWeight:600}}),W.size>0&&t.jsx(fe,{label:`${W.size} Absent`,color:"error",sx:{fontWeight:600}})]}),Z.length>0&&t.jsxs(k,{sx:{mt:3},children:[t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[t.jsx(L,{variant:"body2",color:"textSecondary",children:"Round Progress"}),t.jsxs(L,{variant:"body2",fontWeight:600,children:[Math.round(O),"%"]})]}),t.jsx(mr,{variant:"determinate",value:O,sx:{height:8,borderRadius:4,backgroundColor:"#e2e8f0","& .MuiLinearProgress-bar":{borderRadius:4,background:O===100?"linear-gradient(90deg, #10b981, #059669)":"linear-gradient(90deg, #3b82f6, #2563eb)"}}})]})]}),!f&&t.jsx(Oe,{severity:"info",sx:{mb:3},children:"No rounds have been assigned to you yet. Please wait for the event administrator to set up rounds and assign you."}),f&&!I&&t.jsx(Oe,{severity:"warning",sx:{mb:3},children:f.status==="draft"?"This round has not started yet. Please wait for the admin to activate it.":"This round is closed. You can view your scores but cannot make changes."}),g.length===0?t.jsx(Oe,{severity:"info",children:"No teams have been assigned to you for this round."}):t.jsx(k,{children:g.map(H=>{const ee=b[H.id]||{},ie=S.has(H.id),de=W.has(H.id);return t.jsxs(zt,{sx:{mb:3,borderRadius:"16px",overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",opacity:de?.6:1,border:de?"2px solid #ef4444":"none"},children:[t.jsxs(k,{sx:{p:3,background:de?"#fee2e2":ie?"#ecfdf5":"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:[t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsxs(k,{sx:{flex:1},children:[t.jsx(L,{variant:"h6",sx:{fontWeight:700,color:"#1e293b"},children:H.name}),t.jsx(L,{variant:"body2",sx:{color:"#64748b"},children:H.project_title||"No project title"})]}),t.jsx(k,{sx:{display:"flex",gap:1,alignItems:"center"},children:de?t.jsx(fe,{label:"Absent",color:"error",sx:{fontWeight:600}}):ie?t.jsx(fe,{icon:t.jsx(Wt,{}),label:"Submitted",color:"success",sx:{fontWeight:600}}):t.jsx(fe,{icon:t.jsx(Cj,{}),label:"Pending",color:"warning",sx:{fontWeight:600}})})]}),I&&t.jsx(k,{sx:{display:"flex",gap:2},children:t.jsx(se,{variant:de?"contained":"outlined",size:"small",onClick:()=>X(H.id),sx:{textTransform:"none",fontWeight:600,borderRadius:"8px",...de?{background:"#10b981","&:hover":{background:"#059669"}}:{borderColor:"#ef4444",color:"#ef4444","&:hover":{borderColor:"#dc2626",background:"#fef2f2"}}},children:de?"Mark Present":"Mark Absent"})})]}),!de&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{component:ze,sx:{boxShadow:"none"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"},children:[t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Criterion"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Max Score"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Your Score"}),t.jsx(G,{sx:{fontWeight:700,color:"#1e293b",fontSize:"0.95rem"},children:"Weight"})]})}),t.jsx(Ut,{children:p.map(ce=>t.jsxs(Ne,{sx:{"&:hover":{backgroundColor:"#f8fafc"}},children:[t.jsxs(G,{children:[t.jsx(L,{sx:{fontWeight:600,color:"#334155"},children:ce.name}),ce.description&&t.jsx(L,{variant:"caption",color:"textSecondary",children:ce.description})]}),t.jsx(G,{sx:{color:"#64748b",fontWeight:500},children:ce.max_marks}),t.jsx(G,{children:t.jsx(ke,{type:"number",size:"small",value:ee[ce.id]??"",onChange:be=>re(H.id,ce.id,be.target.value,ce.max_marks),disabled:ie||!I,inputProps:{min:0,max:ce.max_marks,step:.5},sx:{width:"140px"},placeholder:`0-${ce.max_marks}`})}),t.jsxs(G,{sx:{color:"#64748b",fontWeight:600},children:[ce.weight,"x"]})]},ce.id))})]})}),t.jsxs(k,{sx:{p:3,display:"flex",justifyContent:"flex-end",gap:2,background:"#fafafa"},children:[I&&!ie&&t.jsxs(t.Fragment,{children:[t.jsx(se,{variant:"outlined",onClick:()=>me(H.id),sx:{textTransform:"none",fontWeight:600,borderRadius:"8px"},children:"Save Draft"}),t.jsx(se,{variant:"contained",onClick:()=>te(H.id),sx:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",textTransform:"none",fontWeight:700,borderRadius:"8px","&:hover":{background:"linear-gradient(135deg, #059669 0%, #047857 100%)"}},children:"Submit Scores"})]}),ie&&t.jsx(L,{color:"success.main",sx:{fontWeight:600},children:" Evaluation submitted"})]})]})]},H.id)})}),S.size===Z.length&&Z.length>0&&t.jsxs(zt,{sx:{p:4,textAlign:"center",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"16px"},children:[t.jsx(Wt,{sx:{fontSize:48,color:"#10b981",mb:2}}),t.jsx(L,{variant:"h5",sx:{fontWeight:700,color:"#065f46",mb:1},children:"Round Complete! "}),t.jsx(L,{color:"textSecondary",children:d.findIndex(H=>H.id===f?.id)<d.length-1?"You can now proceed to the next round.":"You have completed all your evaluations. Thank you!"})]})]})})}const lS=s=>{const i=[];Object.entries(s).forEach(([h,f])=>{const m=Object.values(f),g=m.reduce((p,v)=>p+parseFloat(v),0),x=g/m.length;i.push({teamId:h,rawScore:g,avgScore:x})}),i.sort((h,f)=>f.avgScore-h.avgScore);const l=Math.min(...i.map(h=>h.avgScore)),d=Math.max(...i.map(h=>h.avgScore))-l;return i.forEach((h,f)=>{d===0?h.normalizedScore=1:h.normalizedScore=(h.avgScore-l)/d,h.rank=f+1,h.percentile=(i.length-f)/i.length*100}),i},oS=(s,i=2)=>{const l=new Set,o=[];return Object.entries(s).forEach(([d,h])=>{h.sort((m,g)=>g.normalizedScore-m.normalizedScore).slice(0,i).forEach(m=>{l.add(m.teamId),o.push({judgeId:d,teamId:m.teamId,normalizedScore:m.normalizedScore,rank:m.rank,percentile:m.percentile})})}),{selectedTeamIds:Array.from(l),selectionDetails:o}},cS=s=>{const i={};Object.entries(s).forEach(([o,d])=>{Object.entries(d).forEach(([h,f])=>{i[h]||(i[h]={teamId:h,totalScores:[],judgeScores:{}});const m=Object.values(f),x=m.reduce((p,v)=>p+parseFloat(v),0)/m.length;i[h].totalScores.push(x),i[h].judgeScores[o]=x})});const l=Object.values(i).map(o=>{const d=o.totalScores.reduce((m,g)=>m+g,0)/o.totalScores.length,h=o.totalScores.reduce((m,g)=>m+Math.pow(g-d,2),0)/o.totalScores.length,f=Math.sqrt(h);return{teamId:o.teamId,finalScore:d,standardDeviation:f,judgeScores:o.judgeScores,scoreCount:o.totalScores.length}});return l.sort((o,d)=>d.finalScore-o.finalScore),l.forEach((o,d)=>{o.finalRank=d+1}),l},dS=s=>{const i=Object.keys(s);if(i.length<2)return{correlation:null,message:"Need at least 2 judges for correlation"};const l=i[0],o=i[1],d=Object.keys(s[l]);if(d.length<2)return{correlation:null,message:"Need at least 2 teams for correlation"};const h=d.map(T=>s[l][T]),f=d.map(T=>s[o][T]),m=h.reduce((T,C)=>T+C,0)/h.length,g=f.reduce((T,C)=>T+C,0)/f.length,x=h.reduce((T,C,A)=>T+(C-m)*(f[A]-g),0),p=Math.sqrt(h.reduce((T,C)=>T+Math.pow(C-m,2),0)),v=Math.sqrt(f.reduce((T,C)=>T+Math.pow(C-g,2),0));if(p===0||v===0)return{correlation:0,message:"No variance in scores"};const b=x/(p*v);return{correlation:b.toFixed(3),message:`Correlation between ${l} and ${o}: ${b.toFixed(3)}`}},uS=(s,i)=>{const l={};Object.entries(s).forEach(([g,x])=>{l[g]=lS(x)});const{selectedTeamIds:o,selectionDetails:d}=oS(l,2),h=cS(i),f={};Object.entries(i).forEach(([g,x])=>{f[g]={},Object.entries(x).forEach(([p,v])=>{const b=Object.values(v),T=b.reduce((C,A)=>C+parseFloat(A),0)/b.length;f[g][p]=T})});const m=dS(f);return{round1:{normalizedScores:l,selectedForRound2:o,selectionDetails:d},round2:{finalResults:h,topThreeTeams:h.slice(0,3)},correlation:m}};function fS(){const{eventId:s}=oo(),[i,l]=w.useState([]),[o,d]=w.useState(null),[h,f]=w.useState(!1),[m,g]=w.useState([]),[x,p]=w.useState([]);w.useEffect(()=>{v()},[s]);const v=async()=>{try{const A=await Se.getTeamsByEvent(s);g(A);const _=await Se.getJudgesByEvent(s);p(_);const z=await Se.getScoresByEvent(s),S={};z.forEach(E=>{if(!S[E.judge_id]){const W=_.find(N=>N.id===E.judge_id);S[E.judge_id]={judgeId:E.judge_id,judgeName:W?.name||"Unknown Judge",round:E.round,scores:{}}}S[E.judge_id].scores[E.team_id]||(S[E.judge_id].scores[E.team_id]={}),S[E.judge_id].scores[E.team_id][E.criterion_key]=E.score}),l(Object.values(S))}catch(A){console.error("Error loading data:",A)}},b=()=>{f(!0);const A={},_={};i.forEach(S=>{S.round===1?A[S.judgeId]=S.scores:S.round===2&&(_[S.judgeId]=S.scores)});const z=uS(A,_);d(z),f(!1),localStorage.setItem(`results_${s}`,JSON.stringify(z))},T=A=>m.find(z=>z.id===parseInt(A))?.name||`Team ${A}`,C=A=>x.find(z=>z.id===parseInt(A))?.name||`Judge ${A}`;return t.jsxs(k,{sx:{minHeight:"100vh",background:"#f5f7fa"},children:[t.jsx(ss,{breadcrumb:"Dashboard / Results"}),t.jsxs(k,{sx:{maxWidth:"1400px",mx:"auto",px:4,py:4},children:[t.jsxs(zt,{sx:{p:4,mb:4,borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:[t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[t.jsxs(k,{children:[t.jsx(L,{variant:"h4",sx:{fontWeight:700,color:"#1e293b",mb:1},children:"Event Results"}),t.jsx(L,{variant:"body1",sx:{color:"#64748b"},children:"View and calculate final rankings with normalization"})]}),t.jsx(se,{variant:"contained",startIcon:t.jsx(Wp,{}),onClick:b,disabled:h||i.length===0,sx:{background:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)",px:4,py:1.5,fontWeight:600,borderRadius:"12px",boxShadow:"0 4px 16px rgba(37, 99, 235, 0.3)"},children:"Calculate Results"})]}),t.jsxs(k,{sx:{display:"flex",gap:2},children:[t.jsx(fe,{label:`${i.length} Judge Submissions`,color:"primary",sx:{fontWeight:600}}),t.jsx(fe,{label:`${m.length} Total Teams`,variant:"outlined",sx:{fontWeight:600}})]})]}),i.length===0&&t.jsx(Oe,{severity:"info",sx:{mb:4},children:"No judge scores have been submitted yet. Waiting for judges to push their scores to the admin dashboard."}),i.length>0&&t.jsxs(zt,{sx:{mb:4,borderRadius:"16px",overflow:"hidden"},children:[t.jsx(k,{sx:{p:3,background:"#f8fafc",borderBottom:"1px solid #e2e8f0"},children:t.jsx(L,{variant:"h6",sx:{fontWeight:700,color:"#1e293b"},children:"Judge Submissions"})}),t.jsx(k,{sx:{p:3},children:i.map((A,_)=>t.jsxs(Fp,{sx:{mb:2,"&:before":{display:"none"}},children:[t.jsx(Yp,{expandIcon:t.jsx(Gp,{}),children:t.jsxs(k,{sx:{display:"flex",gap:2,alignItems:"center"},children:[t.jsx(L,{sx:{fontWeight:600},children:A.judgeName}),t.jsx(fe,{label:`Round ${A.round}`,size:"small",color:"primary"}),t.jsxs(L,{variant:"body2",sx:{color:"#64748b"},children:[Object.keys(A.scores).length," teams scored"]})]})}),t.jsx(Jp,{children:t.jsx(Bt,{component:ze,sx:{boxShadow:"none",background:"#fafafa"},children:t.jsxs(Lt,{size:"small",children:[t.jsx(Vt,{children:t.jsxs(Ne,{children:[t.jsx(G,{sx:{fontWeight:700},children:"Team"}),t.jsx(G,{sx:{fontWeight:700},children:"Innovation"}),t.jsx(G,{sx:{fontWeight:700},children:"Execution"}),t.jsx(G,{sx:{fontWeight:700},children:"Presentation"}),t.jsx(G,{sx:{fontWeight:700},children:"Impact"}),t.jsx(G,{sx:{fontWeight:700},children:"Total"})]})}),t.jsx(Ut,{children:Object.entries(A.scores).map(([z,S])=>{const E=Object.values(S).reduce((W,N)=>W+parseFloat(N),0);return t.jsxs(Ne,{children:[t.jsx(G,{children:T(z)}),t.jsx(G,{children:S.innovation}),t.jsx(G,{children:S.execution}),t.jsx(G,{children:S.presentation}),t.jsx(G,{children:S.impact}),t.jsx(G,{sx:{fontWeight:700},children:E.toFixed(2)})]},z)})})]})})})]},_))})]}),o&&t.jsxs(t.Fragment,{children:[t.jsxs(zt,{sx:{mb:4,borderRadius:"16px",overflow:"hidden"},children:[t.jsx(k,{sx:{p:3,background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",color:"white"},children:[t.jsx(xu,{sx:{fontSize:40,mr:2}}),t.jsxs(k,{children:[t.jsx(L,{variant:"h5",sx:{fontWeight:700},children:"Round 1 Results - Normalized Scores"}),t.jsx(L,{variant:"body2",sx:{opacity:.9},children:"Top 2 teams selected from each judge"})]})]})}),t.jsx(k,{sx:{p:3},children:Object.entries(o.round1.normalizedScores).map(([A,_])=>t.jsxs(k,{sx:{mb:3},children:[t.jsx(L,{variant:"h6",sx:{fontWeight:600,mb:2,color:"#1e293b"},children:C(A)}),t.jsx(Bt,{component:ze,sx:{boxShadow:"none",background:"#fafafa"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{children:[t.jsx(G,{sx:{fontWeight:700},children:"Rank"}),t.jsx(G,{sx:{fontWeight:700},children:"Team"}),t.jsx(G,{sx:{fontWeight:700},children:"Raw Score"}),t.jsx(G,{sx:{fontWeight:700},children:"Normalized Score"}),t.jsx(G,{sx:{fontWeight:700},children:"Percentile"}),t.jsx(G,{sx:{fontWeight:700},children:"Selected"})]})}),t.jsx(Ut,{children:_.map((z,S)=>t.jsxs(Ne,{sx:{background:S<2?"#ecfdf5":"transparent"},children:[t.jsx(G,{sx:{fontWeight:600},children:z.rank}),t.jsx(G,{children:T(z.teamId)}),t.jsx(G,{children:z.rawScore.toFixed(2)}),t.jsx(G,{children:z.normalizedScore.toFixed(3)}),t.jsxs(G,{children:[z.percentile.toFixed(1),"%"]}),t.jsx(G,{children:S<2&&t.jsx(fe,{label:"Selected",size:"small",color:"success"})})]},z.teamId))})]})}),t.jsx(lo,{sx:{my:3}})]},A))})]}),t.jsxs(zt,{sx:{mb:4,borderRadius:"16px",overflow:"hidden"},children:[t.jsx(k,{sx:{p:3,background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",color:"white"},children:[t.jsx(hr,{sx:{fontSize:40,mr:2}}),t.jsxs(k,{children:[t.jsx(L,{variant:"h5",sx:{fontWeight:700},children:"Final Results - Round 2"}),t.jsx(L,{variant:"body2",sx:{opacity:.9},children:"All judges scored selected teams together"})]})]})}),t.jsxs(k,{sx:{p:3},children:[t.jsx(Bt,{component:ze,sx:{boxShadow:"none"},children:t.jsxs(Lt,{children:[t.jsx(Vt,{children:t.jsxs(Ne,{sx:{background:"#f8fafc"},children:[t.jsx(G,{sx:{fontWeight:700},children:"Rank"}),t.jsx(G,{sx:{fontWeight:700},children:"Team"}),t.jsx(G,{sx:{fontWeight:700},children:"Final Score"}),t.jsx(G,{sx:{fontWeight:700},children:"Std Deviation"}),t.jsx(G,{sx:{fontWeight:700},children:"Judge Count"})]})}),t.jsx(Ut,{children:o.round2.finalResults.map(A=>t.jsxs(Ne,{sx:{background:A.finalRank<=3?"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)":"transparent",fontWeight:A.finalRank<=3?700:400},children:[t.jsxs(G,{sx:{fontWeight:700,fontSize:A.finalRank<=3?"1.2rem":"1rem"},children:[A.finalRank===1&&" ",A.finalRank===2&&" ",A.finalRank===3&&" ",A.finalRank]}),t.jsx(G,{sx:{fontWeight:A.finalRank<=3?700:500},children:T(A.teamId)}),t.jsx(G,{sx:{fontWeight:600},children:A.finalScore.toFixed(3)}),t.jsx(G,{children:A.standardDeviation.toFixed(3)}),t.jsx(G,{children:A.scoreCount})]},A.teamId))})]})}),o.correlation&&t.jsxs(Oe,{severity:"info",sx:{mt:3},children:[t.jsx(L,{variant:"body2",sx:{fontWeight:600},children:o.correlation.message}),t.jsx(L,{variant:"caption",sx:{display:"block",mt:1},children:"Correlation coefficient ranges from -1 to 1. Values closer to 1 indicate strong agreement between judges."})]})]})]})]})]})]})}function pn({children:s,role:i,roles:l,resource:o,action:d}){const{user:h,userProfile:f,hasPermission:m,loading:g}=qt(),x=Wj();if(g)return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%)"},children:t.jsxs("div",{style:{textAlign:"center",color:"#fff"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.3)",borderRadius:"50%",borderTopColor:"#3b82f6",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),t.jsx("p",{children:"Loading..."}),t.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]})});if(!h)return t.jsx(En,{to:"/login",state:{from:x},replace:!0});if(!f)return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%)"},children:t.jsxs("div",{style:{textAlign:"center",color:"#fff"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.3)",borderRadius:"50%",borderTopColor:"#3b82f6",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),t.jsx("p",{children:"Loading profile..."}),t.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]})});const p=f.role||"viewer",v=p===Ue.SUPER_ADMIN;if(i){if(i==="admin"){if(![Ue.SUPER_ADMIN,Ue.CO_ADMIN,Ue.EVENT_ADMIN].includes(p))return t.jsx(En,{to:"/unauthorized",replace:!0})}else if(i==="judge"){if(p!==Ue.JUDGE&&!v)return t.jsx(En,{to:"/unauthorized",replace:!0})}else if(p!==i&&!v)return t.jsx(En,{to:"/unauthorized",replace:!0})}return l&&l.length>0&&!v&&!l.includes(p)?t.jsx(En,{to:"/unauthorized",replace:!0}):o&&d&&!m(o,d)?t.jsx(En,{to:"/unauthorized",replace:!0}):s}function hS(){const s=yt(),{themeName:i}=w.useContext(kn);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx("nav",{className:"landing-nav",children:t.jsxs("div",{className:"nav-container-wide",children:[t.jsx("div",{className:"logo",onClick:()=>s("/"),children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:"nav-links",children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms"})}),t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy"})})]}),t.jsx("div",{className:"nav-actions",children:t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})})]})}),t.jsx("section",{className:"legal-section",children:t.jsxs("div",{className:"legal-container",children:[t.jsx("h1",{children:"Privacy Policy"}),t.jsx("p",{className:"last-updated",children:"Last Updated: January 8, 2026"}),t.jsxs("div",{className:"legal-content",children:[t.jsx("h2",{children:"1. Introduction"}),t.jsx("p",{children:'FairScore ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our judging and scoring platform.'}),t.jsx("h2",{children:"2. Information We Collect"}),t.jsx("h3",{children:"2.1 Personal Information"}),t.jsx("p",{children:"We may collect the following types of personal information:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Name and email address"}),t.jsx("li",{children:"Organization and role information"}),t.jsx("li",{children:"Account credentials (stored securely with encryption)"}),t.jsx("li",{children:"Event participation data"}),t.jsx("li",{children:"Scoring and evaluation data"})]}),t.jsx("h3",{children:"2.2 Automatically Collected Information"}),t.jsx("p",{children:"When you use our platform, we automatically collect:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"IP address and browser type"}),t.jsx("li",{children:"Device information"}),t.jsx("li",{children:"Usage patterns and activity logs"}),t.jsx("li",{children:"Session duration and interaction data"})]}),t.jsx("h2",{children:"3. How We Use Your Information"}),t.jsx("p",{children:"We use your information for the following purposes:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Providing and maintaining our services"}),t.jsx("li",{children:"Processing scoring and evaluation data"}),t.jsx("li",{children:"Communicating with you about your account"}),t.jsx("li",{children:"Improving our platform and services"}),t.jsx("li",{children:"Ensuring security and preventing fraud"}),t.jsx("li",{children:"Complying with legal obligations"})]}),t.jsx("h2",{children:"4. Data Sharing and Disclosure"}),t.jsx("p",{children:"We may share your information with:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Event administrators within your organization"}),t.jsx("li",{children:"Service providers who assist our operations"}),t.jsx("li",{children:"Legal authorities when required by law"})]}),t.jsx("p",{children:"We do not sell your personal information to third parties."}),t.jsx("h2",{children:"5. Data Security"}),t.jsx("p",{children:"We implement industry-standard security measures including:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Encryption of data in transit (TLS) and at rest"}),t.jsx("li",{children:"Secure authentication with JWT tokens"}),t.jsx("li",{children:"Regular security audits and monitoring"}),t.jsx("li",{children:"Access controls and role-based permissions"})]}),t.jsx("h2",{children:"6. Data Retention"}),t.jsx("p",{children:"We retain your data for as long as your account is active or as needed to provide services. Event data is retained according to your organization's settings or applicable legal requirements. You may request deletion of your data at any time."}),t.jsx("h2",{children:"7. Your Rights (GDPR)"}),t.jsx("p",{children:"Under GDPR and similar regulations, you have the right to:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Rectification:"})," Correct inaccurate personal data"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Erasure:"}),' Request deletion of your data ("right to be forgotten")']}),t.jsxs("li",{children:[t.jsx("strong",{children:"Portability:"})," Receive your data in a structured format"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Objection:"})," Object to processing of your data"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Restriction:"})," Request limitation of processing"]})]}),t.jsx("h2",{children:"8. Cookies"}),t.jsx("p",{children:"We use essential cookies for authentication and session management. These are necessary for the platform to function properly."}),t.jsx("h2",{children:"9. Children's Privacy"}),t.jsx("p",{children:"Our platform is not intended for children under 13 years of age. We do not knowingly collect personal information from children."}),t.jsx("h2",{children:"10. Changes to This Policy"}),t.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last Updated" date.'}),t.jsx("h2",{children:"11. Contact Us"}),t.jsx("p",{children:"If you have questions about this Privacy Policy or wish to exercise your data rights, please contact us at:"}),t.jsxs("p",{children:["Email: privacy@fairscore.app",t.jsx("br",{}),"Data Protection Officer: dpo@fairscore.app"]})]})]})}),t.jsx("footer",{className:"landing-footer",children:t.jsxs("div",{className:"footer-container-wide",children:[t.jsxs("div",{className:"footer-grid",children:[t.jsxs("div",{className:"footer-col",children:[t.jsx("h3",{children:"FairScore"}),t.jsx("p",{children:"Fair judging. Clear results."})]}),t.jsxs("div",{className:"footer-col",children:[t.jsx("h4",{children:"Legal"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms of Use"})}),t.jsx("li",{children:t.jsx("a",{href:"/data-retention",children:"Data Retention"})})]})]})]}),t.jsx("div",{className:"footer-bottom",children:t.jsx("p",{children:" 2026 FairScore. All rights reserved."})})]})})]})}function mS(){const s=yt(),{themeName:i}=w.useContext(kn);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx("nav",{className:"landing-nav",children:t.jsxs("div",{className:"nav-container-wide",children:[t.jsx("div",{className:"logo",onClick:()=>s("/"),children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:"nav-links",children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms"})}),t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy"})})]}),t.jsx("div",{className:"nav-actions",children:t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})})]})}),t.jsx("section",{className:"legal-section",children:t.jsxs("div",{className:"legal-container",children:[t.jsx("h1",{children:"Terms of Use"}),t.jsx("p",{className:"last-updated",children:"Last Updated: January 8, 2026"}),t.jsxs("div",{className:"legal-content",children:[t.jsx("h2",{children:"1. Acceptance of Terms"}),t.jsx("p",{children:'By accessing or using FairScore ("Service"), you agree to be bound by these Terms of Use. If you do not agree to these terms, please do not use our Service.'}),t.jsx("h2",{children:"2. Description of Service"}),t.jsx("p",{children:"FairScore is a digital judging and scoring platform designed for institutions, hackathons, competitions, and events where fair, transparent, and dispute-free results are critical."}),t.jsx("h2",{children:"3. User Accounts"}),t.jsx("h3",{children:"3.1 Registration"}),t.jsx("p",{children:"To use certain features, you must register for an account. You agree to provide accurate, current, and complete information during registration."}),t.jsx("h3",{children:"3.2 Account Security"}),t.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities under your account. Notify us immediately of any unauthorized use."}),t.jsx("h3",{children:"3.3 Account Roles"}),t.jsx("p",{children:"Access levels are determined by assigned roles (Super Admin, Event Admin, Judge, Viewer). Role assignments are managed by your organization's administrators."}),t.jsx("h2",{children:"4. Acceptable Use"}),t.jsx("p",{children:"You agree not to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Use the Service for any unlawful purpose"}),t.jsx("li",{children:"Attempt to gain unauthorized access to any part of the Service"}),t.jsx("li",{children:"Interfere with or disrupt the Service's operation"}),t.jsx("li",{children:"Submit false, misleading, or fraudulent scoring data"}),t.jsx("li",{children:"Violate the intellectual property rights of others"}),t.jsx("li",{children:"Share your account credentials with unauthorized parties"})]}),t.jsx("h2",{children:"5. Scoring and Results"}),t.jsx("h3",{children:"5.1 Data Accuracy"}),t.jsx("p",{children:"You are responsible for the accuracy of data entered into the platform. FairScore processes data using mathematical normalization algorithms but does not verify the accuracy of raw inputs."}),t.jsx("h3",{children:"5.2 Immutability"}),t.jsx("p",{children:"Once an event is locked or published, scoring data becomes immutable. Any modifications require administrative override with documented justification."}),t.jsx("h3",{children:"5.3 Dispute Resolution"}),t.jsx("p",{children:"Disputes regarding scores or results should be directed to your organization's event administrators. FairScore provides audit logs to support fair resolution."}),t.jsx("h2",{children:"6. Intellectual Property"}),t.jsx("p",{children:"The Service, including its algorithms, design, and content, is protected by intellectual property laws. You may not copy, modify, or distribute any part of the Service without permission."}),t.jsx("h2",{children:"7. Data and Privacy"}),t.jsx("p",{children:"Your use of the Service is also governed by our Privacy Policy. By using FairScore, you consent to our data practices as described in that policy."}),t.jsx("h2",{children:"8. Enterprise and White-Label Terms"}),t.jsx("p",{children:"Enterprise customers with white-label agreements may be subject to additional terms specified in their service agreements."}),t.jsx("h2",{children:"9. Service Availability"}),t.jsx("p",{children:"We strive to maintain high availability but do not guarantee uninterrupted access. We may perform maintenance with reasonable notice when possible."}),t.jsx("h2",{children:"10. Limitation of Liability"}),t.jsx("p",{children:"To the maximum extent permitted by law, FairScore shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of the Service."}),t.jsx("h2",{children:"11. Indemnification"}),t.jsx("p",{children:"You agree to indemnify and hold harmless FairScore from any claims, damages, or expenses arising from your use of the Service or violation of these Terms."}),t.jsx("h2",{children:"12. Termination"}),t.jsx("p",{children:"We may terminate or suspend your account for violation of these Terms. You may terminate your account at any time by contacting support."}),t.jsx("h2",{children:"13. Changes to Terms"}),t.jsx("p",{children:"We reserve the right to modify these Terms at any time. Continued use of the Service after changes constitutes acceptance of the modified Terms."}),t.jsx("h2",{children:"14. Governing Law"}),t.jsx("p",{children:"These Terms shall be governed by and construed in accordance with applicable laws. Any disputes shall be resolved through binding arbitration."}),t.jsx("h2",{children:"15. Contact"}),t.jsx("p",{children:"For questions about these Terms, please contact us at: legal@fairscore.app"})]})]})}),t.jsx("footer",{className:"landing-footer",children:t.jsxs("div",{className:"footer-container-wide",children:[t.jsxs("div",{className:"footer-grid",children:[t.jsxs("div",{className:"footer-col",children:[t.jsx("h3",{children:"FairScore"}),t.jsx("p",{children:"Fair judging. Clear results."})]}),t.jsxs("div",{className:"footer-col",children:[t.jsx("h4",{children:"Legal"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms of Use"})}),t.jsx("li",{children:t.jsx("a",{href:"/data-retention",children:"Data Retention"})})]})]})]}),t.jsx("div",{className:"footer-bottom",children:t.jsx("p",{children:" 2026 FairScore. All rights reserved."})})]})})]})}function gS(){const s=yt(),{themeName:i}=w.useContext(kn);return t.jsxs("div",{className:`landing-page ${i}`,children:[t.jsx("nav",{className:"landing-nav",children:t.jsxs("div",{className:"nav-container-wide",children:[t.jsx("div",{className:"logo",onClick:()=>s("/"),children:t.jsx("h2",{children:"FairScore"})}),t.jsxs("ul",{className:"nav-links",children:[t.jsx("li",{children:t.jsx("a",{href:"/",children:"Home"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms"})}),t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy"})})]}),t.jsx("div",{className:"nav-actions",children:t.jsx("button",{className:"login-btn",onClick:()=>s("/login"),children:"Login"})})]})}),t.jsx("section",{className:"legal-section",children:t.jsxs("div",{className:"legal-container",children:[t.jsx("h1",{children:"Data Retention Policy"}),t.jsx("p",{className:"last-updated",children:"Last Updated: January 8, 2026"}),t.jsxs("div",{className:"legal-content",children:[t.jsx("h2",{children:"1. Overview"}),t.jsx("p",{children:"This Data Retention Policy outlines how FairScore retains, manages, and disposes of data collected through our platform. Our goal is to retain data only as long as necessary while ensuring compliance with legal requirements and maintaining service quality."}),t.jsx("h2",{children:"2. Categories of Data"}),t.jsx("h3",{children:"2.1 Account Data"}),t.jsxs("table",{className:"retention-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Data Type"}),t.jsx("th",{children:"Retention Period"}),t.jsx("th",{children:"Basis"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"User profiles"}),t.jsx("td",{children:"Duration of account + 30 days"}),t.jsx("td",{children:"Service provision"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Authentication logs"}),t.jsx("td",{children:"90 days"}),t.jsx("td",{children:"Security monitoring"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Organization data"}),t.jsx("td",{children:"Duration of contract + 1 year"}),t.jsx("td",{children:"Legal compliance"})]})]})]}),t.jsx("h3",{children:"2.2 Event Data"}),t.jsxs("table",{className:"retention-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Data Type"}),t.jsx("th",{children:"Retention Period"}),t.jsx("th",{children:"Basis"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Event configurations"}),t.jsx("td",{children:"3 years after event completion"}),t.jsx("td",{children:"Audit requirements"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Raw scoring data"}),t.jsx("td",{children:"3 years after event completion"}),t.jsx("td",{children:"Dispute resolution"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Normalized results"}),t.jsx("td",{children:"3 years after event completion"}),t.jsx("td",{children:"Record keeping"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Published results"}),t.jsx("td",{children:"Indefinite (or per organization policy)"}),t.jsx("td",{children:"Public record"})]})]})]}),t.jsx("h3",{children:"2.3 Audit and Security Data"}),t.jsxs("table",{className:"retention-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Data Type"}),t.jsx("th",{children:"Retention Period"}),t.jsx("th",{children:"Basis"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Audit logs"}),t.jsx("td",{children:"7 years"}),t.jsx("td",{children:"Regulatory compliance"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Security alerts"}),t.jsx("td",{children:"2 years"}),t.jsx("td",{children:"Security analysis"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Admin overrides"}),t.jsx("td",{children:"7 years"}),t.jsx("td",{children:"Audit trail"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Computation logs"}),t.jsx("td",{children:"5 years"}),t.jsx("td",{children:"Verification"})]})]})]}),t.jsx("h2",{children:"3. Data Deletion"}),t.jsx("h3",{children:"3.1 User-Initiated Deletion"}),t.jsx("p",{children:"Users may request deletion of their personal data at any time by contacting support@fairscore.app. We will process deletion requests within 30 days."}),t.jsx("h3",{children:"3.2 Account Deletion"}),t.jsx("p",{children:"When an account is deleted:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Personal profile data is removed within 30 days"}),t.jsx("li",{children:"Authentication data is immediately invalidated"}),t.jsx("li",{children:"Event data associated with the user is anonymized, not deleted"}),t.jsx("li",{children:"Audit logs are retained for compliance purposes"})]}),t.jsx("h3",{children:"3.3 Organization Deletion"}),t.jsx("p",{children:"When an organization account is terminated:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"All organization data is exported upon request"}),t.jsx("li",{children:"Data deletion begins 30 days after termination"}),t.jsx("li",{children:"Complete deletion within 90 days"}),t.jsx("li",{children:"Backup data is purged within 180 days"})]}),t.jsx("h2",{children:"4. Data Export (Portability)"}),t.jsx("p",{children:"In compliance with GDPR and similar regulations, you may request a complete export of your data in a structured, commonly used format (JSON or CSV)."}),t.jsx("p",{children:"To request an export:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Navigate to Account Settings > Data Export"}),t.jsx("li",{children:"Or contact: data@fairscore.app"})]}),t.jsx("p",{children:"Exports are typically processed within 7 business days."}),t.jsx("h2",{children:"5. Legal Holds"}),t.jsx("p",{children:"In case of legal proceedings, regulatory investigations, or disputes, we may place a legal hold on relevant data, suspending normal retention schedules until the matter is resolved."}),t.jsx("h2",{children:"6. Enterprise Customization"}),t.jsx("p",{children:"Enterprise customers may negotiate custom retention periods based on their specific regulatory requirements. These are documented in service agreements."}),t.jsx("h2",{children:"7. Data Security During Retention"}),t.jsx("p",{children:"All retained data is protected by:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Encryption at rest using AES-256"}),t.jsx("li",{children:"Encryption in transit using TLS 1.3"}),t.jsx("li",{children:"Role-based access controls"}),t.jsx("li",{children:"Regular security audits"}),t.jsx("li",{children:"Automated backup and disaster recovery"})]}),t.jsx("h2",{children:"8. Changes to This Policy"}),t.jsx("p",{children:"We may update this policy as required by changes in law or business practices. Significant changes will be communicated via email or platform notification."}),t.jsx("h2",{children:"9. Contact Information"}),t.jsx("p",{children:"For questions about data retention or to submit a data request:"}),t.jsxs("p",{children:["Email: data@fairscore.app",t.jsx("br",{}),"Data Protection Officer: dpo@fairscore.app"]})]})]})}),t.jsx("footer",{className:"landing-footer",children:t.jsxs("div",{className:"footer-container-wide",children:[t.jsxs("div",{className:"footer-grid",children:[t.jsxs("div",{className:"footer-col",children:[t.jsx("h3",{children:"FairScore"}),t.jsx("p",{children:"Fair judging. Clear results."})]}),t.jsxs("div",{className:"footer-col",children:[t.jsx("h4",{children:"Legal"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx("a",{href:"/privacy",children:"Privacy Policy"})}),t.jsx("li",{children:t.jsx("a",{href:"/terms",children:"Terms of Use"})}),t.jsx("li",{children:t.jsx("a",{href:"/data-retention",children:"Data Retention"})})]})]})]}),t.jsx("div",{className:"footer-bottom",children:t.jsx("p",{children:" 2026 FairScore. All rights reserved."})})]})})]})}function xS(){const s=yt(),{user:i,userProfile:l,logout:o}=qt();return t.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%)",padding:"20px"},children:t.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"48px",maxWidth:"500px",width:"100%",textAlign:"center",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsx("div",{style:{width:"80px",height:"80px",background:"#fee2e2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",fontSize:"40px"},children:""}),t.jsx("h1",{style:{fontSize:"28px",color:"#1e3a5f",marginBottom:"16px"},children:"Access Denied"}),t.jsxs("p",{style:{color:"#64748b",marginBottom:"24px",lineHeight:"1.6"},children:["You don't have permission to access this page.",l&&t.jsxs("span",{children:[" Your current role is ",t.jsx("strong",{children:l.role}),"."]})]}),i&&t.jsxs("p",{style:{fontSize:"14px",color:"#94a3b8",marginBottom:"24px"},children:["Logged in as: ",i.email]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[t.jsx("button",{onClick:()=>s(-1),style:{padding:"12px 24px",background:"#f1f5f9",color:"#475569",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Go Back"}),t.jsx("button",{onClick:()=>s("/"),style:{padding:"12px 24px",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Home"}),i&&t.jsx("button",{onClick:async()=>{await o(),s("/login")},style:{padding:"12px 24px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"Logout"})]}),t.jsxs("div",{style:{marginTop:"32px",padding:"16px",background:"#f8fafc",borderRadius:"8px",fontSize:"13px",color:"#64748b"},children:[t.jsx("strong",{children:"Need access?"}),t.jsx("p",{style:{margin:"8px 0 0"},children:"Contact your organization's administrator to request the appropriate permissions."})]})]})})}const cx={VIEWER:"viewer"},wa={co_admin:{displayName:"Co-Admin",description:"Full access to manage events and invite users",permissions:[{key:"create_events",label:"Create and manage events",allowed:!0},{key:"invite_users",label:"Invite other users",allowed:!0},{key:"manage_all_events",label:"Manage all organization events",allowed:!0},{key:"view_results",label:"View all results",allowed:!0},{key:"export_data",label:"Export data",allowed:!0},{key:"score_teams",label:"Score teams",allowed:!1},{key:"manage_users",label:"Manage organization members",allowed:!0},{key:"delete_events",label:"Delete events",allowed:!1}],color:"#7c3aed"},event_admin:{displayName:"Event Admin",description:"Manage assigned events only",permissions:[{key:"create_events",label:"Create events",allowed:!1},{key:"invite_users",label:"Invite users",allowed:!1},{key:"manage_assigned_events",label:"Manage assigned events",allowed:!0},{key:"view_results",label:"View event results",allowed:!0},{key:"export_data",label:"Export event data",allowed:!0},{key:"score_teams",label:"Score teams",allowed:!1},{key:"manage_users",label:"Manage users",allowed:!1},{key:"delete_events",label:"Delete events",allowed:!1}],color:"#3b82f6"},judge:{displayName:"Judge",description:"Score teams in assigned events",permissions:[{key:"create_events",label:"Create events",allowed:!1},{key:"invite_users",label:"Invite users",allowed:!1},{key:"manage_events",label:"Manage events",allowed:!1},{key:"view_final_results",label:"View final results",allowed:!1},{key:"export_data",label:"Export data",allowed:!1},{key:"score_teams",label:"Score assigned teams",allowed:!0},{key:"view_own_scores",label:"View own submitted scores",allowed:!0},{key:"manage_users",label:"Manage users",allowed:!1}],color:"#10b981"},viewer:{displayName:"Viewer",description:"View published results only",permissions:[{key:"create_events",label:"Create events",allowed:!1},{key:"invite_users",label:"Invite users",allowed:!1},{key:"manage_events",label:"Manage events",allowed:!1},{key:"view_published_results",label:"View published results",allowed:!0},{key:"export_data",label:"Export data",allowed:!1},{key:"score_teams",label:"Score teams",allowed:!1},{key:"manage_users",label:"Manage users",allowed:!1}],color:"#6b7280"}},es={async createInvitation({email:s,role:i,eventIds:l,message:o,organizationId:d}){try{const{data:{user:h}}=await B.auth.getUser();if(!h)throw new Error("Not authenticated");const{data:f}=await B.from("user_profiles").select("full_name, email").eq("id",h.id).single(),{data:m}=await B.from("organizations").select("name").eq("id",d).single(),{data:g}=await B.from("events").select("id, name").in("id",l),{data:x,error:p}=await B.from("invitations").insert({organization_id:d,invited_by:h.id,email:s.toLowerCase().trim(),role:i,event_ids:l,message:o,status:"pending"}).select().single();if(p)throw p;try{const v=`${window.location.origin}/accept-invitation`,{data:b,error:T}=await B.functions.invoke("send-invitation",{body:{email:s.toLowerCase().trim(),role:i,eventNames:g?.map(C=>C.name)||[],inviterName:f?.full_name||f?.email||"Admin",organizationName:m?.name||"Organization",message:o,invitationToken:x.token,acceptUrl:v}});T?console.warn("Email sending failed:",T):console.log("Email sent successfully:",b)}catch(v){console.warn("Email service error:",v.message)}return{success:!0,invitation:x}}catch(h){throw console.error("Error creating invitation:",h),h}},async createBulkInvitations(s,i){const l=[];for(const o of s)try{const d=await this.createInvitation({...o,organizationId:i});l.push({email:o.email,success:!0,invitation:d.invitation})}catch(d){l.push({email:o.email,success:!1,error:d.message})}return l},async getOrganizationInvitations(s){const{data:i,error:l}=await B.from("invitations").select("*").eq("organization_id",s).order("created_at",{ascending:!1});if(l)throw l;return i||[]},async getMyInvitations(){const{data:{user:s}}=await B.auth.getUser();if(!s)return[];const{data:i,error:l}=await B.from("invitations").select(`
        *,
        organizations (name)
      `).eq("email",s.email.toLowerCase()).eq("status","pending").order("created_at",{ascending:!1});if(l)throw l;return i||[]},async getInvitationByToken(s){const{data:i,error:l}=await B.from("invitations").select(`
        *,
        organizations (name)
      `).eq("token",s).single();if(l)throw l;return i},async acceptInvitation(s){const{data:i,error:l}=await B.rpc("accept_invitation",{p_token:s});if(l)throw l;return i},async cancelInvitation(s){const{error:i}=await B.from("invitations").update({status:"cancelled",updated_at:new Date().toISOString()}).eq("id",s);if(i)throw i},async resendInvitation(s){const{data:i,error:l}=await B.from("invitations").select(`
        *,
        organizations (name)
      `).eq("id",s).single();if(l)throw l;const o=new Date(Date.now()+7*24*60*60*1e3).toISOString(),{error:d}=await B.from("invitations").update({expires_at:o,updated_at:new Date().toISOString()}).eq("id",s);if(d)throw d;const{data:{user:h}}=await B.auth.getUser(),{data:f}=await B.from("user_profiles").select("full_name, email").eq("id",h.id).single(),{data:m}=await B.from("events").select("id, name").in("id",i.event_ids||[]),g=`${window.location.origin}/accept-invitation`;return await B.functions.invoke("send-invitation",{body:{email:i.email,role:i.role,eventNames:m?.map(x=>x.name)||[],inviterName:f?.full_name||f?.email||"Admin",organizationName:i.organizations?.name||"Organization",message:i.message,invitationToken:i.token,acceptUrl:g}}),{success:!0}},async getSharedEvents(){const{data:s,error:i}=await B.rpc("get_user_shared_events");if(i)throw i;return s||[]},async getEventAccessList(s){const{data:i,error:l}=await B.from("event_access").select(`
        *,
        user_profiles!event_access_user_id_fkey (id, email, full_name)
      `).eq("event_id",s);if(l)throw l;return i||[]},async removeEventAccess(s){const{error:i}=await B.from("event_access").delete().eq("id",s);if(i)throw i}},dx={[Ue.SUPER_ADMIN]:{label:"Super Admin",color:"#dc2626",bgColor:"#fee2e2",icon:""},[Ue.EVENT_ADMIN]:{label:"Event Admin",color:"#7c3aed",bgColor:"#ede9fe",icon:""},[Ue.JUDGE]:{label:"Judge",color:"#0891b2",bgColor:"#cffafe",icon:""},[Ue.VIEWER]:{label:"Viewer",color:"#6b7280",bgColor:"#f3f4f6",icon:""}};function pS({role:s,size:i="medium",showIcon:l=!0}){const o=dx[s]||dx[Ue.VIEWER],d={small:{padding:"2px 6px",fontSize:"11px"},medium:{padding:"4px 10px",fontSize:"13px"},large:{padding:"6px 14px",fontSize:"15px"}};return t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",backgroundColor:o.bgColor,color:o.color,borderRadius:"6px",fontWeight:"600",...d[i]},children:[l&&t.jsx("span",{children:o.icon}),o.label]})}function yS({open:s,onClose:i,onSuccess:l,organizationId:o}){const{organization:d}=qt(),h=o??d?.id,[f,m]=w.useState(""),[g,x]=w.useState(cx.VIEWER),[p,v]=w.useState([]),[b,T]=w.useState(""),[C,A]=w.useState([]),[_,z]=w.useState(!1),[S,E]=w.useState(null),[W,N]=w.useState(!1);w.useEffect(()=>{s&&(J(),oe())},[s]);const J=async()=>{try{const P=await Se.getAllEvents();A(P)}catch(P){console.error("Error loading events:",P)}},oe=()=>{m(""),x(cx.VIEWER),v([]),T(""),E(null),N(!1)},U=async()=>{if(!f){E("Email is required");return}if(p.length===0){E("Please select at least one event");return}if(!h){E("Organization not found");return}z(!0),E(null);try{await es.createInvitation({email:f,role:g,eventIds:p,message:b,organizationId:h}),N(!0),setTimeout(()=>{l?.(),i()},1500)}catch(P){E(P.message||"Failed to send invitation")}finally{z(!1)}},ae=wa[g]||wa.viewer;return t.jsxs(xt,{open:s,onClose:i,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",overflow:"hidden"}},children:[t.jsxs(wt,{sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",color:"white",display:"flex",alignItems:"center",gap:1.5,py:2.5},children:[t.jsx(gr,{}),t.jsx(L,{variant:"h6",fontWeight:700,children:"Invite User"})]}),t.jsx(pt,{sx:{p:0},children:W?t.jsxs(k,{sx:{p:6,textAlign:"center"},children:[t.jsx(Wt,{sx:{fontSize:64,color:"#10b981",mb:2}}),t.jsx(L,{variant:"h5",fontWeight:700,color:"#1e293b",children:"Invitation Sent!"}),t.jsxs(L,{color:"#64748b",sx:{mt:1},children:["An email has been sent to ",f]})]}):t.jsxs(k,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"}},children:[t.jsxs(k,{sx:{flex:1,p:4},children:[S&&t.jsx(Oe,{severity:"error",sx:{mb:3},children:S}),t.jsx(ke,{fullWidth:!0,label:"Email Address",type:"email",value:f,onChange:P=>m(P.target.value),placeholder:"user@example.com",sx:{mb:3}}),t.jsxs(It,{fullWidth:!0,sx:{mb:3},children:[t.jsx(Qt,{children:"Role"}),t.jsx($t,{value:g,onChange:P=>x(P.target.value),label:"Role",children:Object.entries(wa).map(([P,re])=>t.jsx(lt,{value:P,children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(k,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:re.color}}),t.jsx(L,{fontWeight:600,children:re.displayName}),t.jsxs(L,{color:"#9ca3af",sx:{ml:1,fontSize:"0.85rem"},children:["- ",re.description]})]})},P))})]}),t.jsxs(It,{fullWidth:!0,sx:{mb:3},children:[t.jsx(Qt,{children:"Select Events"}),t.jsx($t,{multiple:!0,value:p,onChange:P=>v(P.target.value),input:t.jsx(Up,{label:"Select Events"}),renderValue:P=>t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:P.map(re=>{const te=C.find(me=>me.id===re);return t.jsx(fe,{label:te?.name||re,size:"small",sx:{backgroundColor:"#f3e8ff",color:"#7c3aed",fontWeight:600}},re)})}),children:C.map(P=>t.jsxs(lt,{value:P.id,children:[t.jsx(fr,{checked:p.includes(P.id)}),t.jsx(Ks,{primary:P.name,secondary:P.status})]},P.id))})]}),t.jsx(ke,{fullWidth:!0,label:"Personal Message (Optional)",multiline:!0,rows:3,value:b,onChange:P=>T(P.target.value),placeholder:"Add a personal message to the invitation..."})]}),t.jsxs(ze,{elevation:0,sx:{width:{xs:"100%",md:"320px"},backgroundColor:"#f8fafc",borderLeft:{md:"1px solid #e2e8f0"},p:3},children:[t.jsx(L,{variant:"subtitle2",sx:{color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",mb:2},children:"Permission Preview"}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1,mb:2,pb:2,borderBottom:"1px solid #e2e8f0"},children:[t.jsx(k,{sx:{width:16,height:16,borderRadius:"50%",backgroundColor:ae.color}}),t.jsx(L,{fontWeight:700,color:"#1e293b",children:ae.displayName})]}),t.jsx(k,{sx:{display:"flex",flexDirection:"column",gap:1},children:(ae?.permissions||[]).map(P=>t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1,py:.5},children:[P.allowed?t.jsx(Wt,{sx:{fontSize:18,color:"#10b981"}}):t.jsx(pu,{sx:{fontSize:18,color:"#ef4444"}}),t.jsx(L,{sx:{color:P.allowed?"#374151":"#9ca3af",fontSize:"0.9rem"},children:P.label})]},P.key))}),p.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(lo,{sx:{my:2}}),t.jsxs(L,{variant:"subtitle2",sx:{color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",mb:1},children:["Access to ",p.length," event(s)"]}),t.jsxs(k,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[p.slice(0,3).map(P=>{const re=C.find(te=>te.id===P);return t.jsx(fe,{label:re?.name||P,size:"small",sx:{backgroundColor:"#ddd6fe",color:"#5b21b6",fontSize:"0.75rem"}},P)}),p.length>3&&t.jsx(fe,{label:`+${p.length-3} more`,size:"small",sx:{backgroundColor:"#e2e8f0",color:"#64748b",fontSize:"0.75rem"}})]})]})]})]})}),!W&&t.jsxs(Tt,{sx:{p:3,borderTop:"1px solid #e2e8f0"},children:[t.jsx(se,{onClick:i,disabled:_,sx:{textTransform:"none",color:"#64748b",fontWeight:600},children:"Cancel"}),t.jsx(se,{variant:"contained",onClick:U,disabled:_,startIcon:_?t.jsx(at,{size:20,color:"inherit"}):t.jsx(gr,{}),sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.2,fontWeight:700,borderRadius:"10px",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)"}},children:_?"Sending...":"Send Invitation"})]})]})}function vS({open:s,onClose:i,onSuccess:l,organizationId:o}){const{organization:d}=qt(),h=o||d?.id,[f,m]=w.useState(""),[g,x]=w.useState("event_admin"),[p,v]=w.useState([]),[b,T]=w.useState([]),[C,A]=w.useState(!1),[_,z]=w.useState(!1),[S,E]=w.useState(null),[W,N]=w.useState(!1);w.useEffect(()=>{s&&h&&(oe(),J())},[s,h]);const J=()=>{m(""),x("event_admin"),v([]),E(null),N(!1)},oe=async()=>{if(h){z(!0);try{const{data:P,error:re}=await B.from("events").select("id, name, status").eq("organization_id",h).order("created_at",{ascending:!1});if(re)throw re;T(P||[])}catch(P){console.error("Error loading events:",P),E("Failed to load events")}finally{z(!1)}}},U=async P=>{if(P.preventDefault(),E(null),!f.trim()){E("Email is required");return}if(p.length===0){E("Please select at least one event");return}if(!h){E("Organization context is missing");return}A(!0);try{const re=[];for(const te of p){const{data:me,error:X}=await B.rpc("grant_event_access",{p_user_email:f.trim().toLowerCase(),p_event_id:te,p_role:g,p_organization_id:h});if(X)throw X;if(!me?.success)throw new Error(me?.error||"Failed to grant access");re.push({eventId:te,success:!0})}N(!0),l&&l(),setTimeout(()=>{i(),J()},1500)}catch(re){console.error("Error granting access:",re),E(re.message||"Failed to grant access")}finally{A(!1)}},ae=wa[g];return W?t.jsx(xt,{open:s,onClose:i,maxWidth:"sm",fullWidth:!0,children:t.jsxs(pt,{sx:{textAlign:"center",py:6},children:[t.jsx(Wt,{sx:{fontSize:80,color:"#10b981",mb:2}}),t.jsx(L,{variant:"h5",fontWeight:700,color:"#1e293b",mb:1,children:"Access Granted!"}),t.jsxs(L,{color:"#64748b",children:[f," now has access to ",p.length," event",p.length!==1?"s":""]})]})}):t.jsxs(xt,{open:s,onClose:i,maxWidth:"md",fullWidth:!0,children:[t.jsxs(wt,{sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",color:"white",display:"flex",alignItems:"center",gap:1},children:[t.jsx(gr,{}),"Grant Event Access"]}),t.jsxs("form",{onSubmit:U,children:[t.jsxs(pt,{sx:{pt:3},children:[S&&t.jsx(Oe,{severity:"error",sx:{mb:3},onClose:()=>E(null),children:S}),t.jsxs(k,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:3},children:[t.jsxs(k,{children:[t.jsx(ke,{fullWidth:!0,label:"User Email",type:"email",value:f,onChange:P=>m(P.target.value),required:!0,placeholder:"user@example.com",helperText:"Enter the email of an existing user",sx:{mb:3}}),t.jsxs(It,{fullWidth:!0,sx:{mb:3},children:[t.jsx(Qt,{children:"Role"}),t.jsx($t,{value:g,onChange:P=>x(P.target.value),label:"Role",children:Object.entries(wa).map(([P,re])=>t.jsx(lt,{value:P,children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(k,{sx:{width:10,height:10,borderRadius:"50%",backgroundColor:re.color}}),re.displayName]})},P))}),t.jsx($g,{children:ae?.description})]}),t.jsxs(It,{fullWidth:!0,children:[t.jsx(Qt,{children:"Events"}),t.jsx($t,{multiple:!0,value:p,onChange:P=>v(P.target.value),label:"Events",renderValue:P=>t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:P.map(re=>{const te=b.find(me=>me.id===re);return t.jsx(fe,{label:te?.name||re,size:"small",sx:{backgroundColor:"#f3e8ff",color:"#7c3aed"}},re)})}),disabled:_,children:_?t.jsxs(lt,{disabled:!0,children:[t.jsx(at,{size:20,sx:{mr:1}}),"Loading events..."]}):b.length===0?t.jsx(lt,{disabled:!0,children:"No events found"}):b.map(P=>t.jsx(lt,{value:P.id,children:t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[P.name,t.jsx(fe,{label:P.status||"draft",size:"small",sx:{ml:"auto",fontSize:"0.7rem",height:"20px",backgroundColor:P.status==="live_judging"?"#fef3c7":"#e0e7ff",color:P.status==="live_judging"?"#92400e":"#4338ca"}})]})},P.id))}),t.jsx($g,{children:"Select one or more events to grant access to"})]})]}),t.jsxs(k,{sx:{backgroundColor:"#f8fafc",borderRadius:2,p:3,border:"1px solid #e2e8f0"},children:[t.jsx(L,{variant:"subtitle2",color:"#64748b",mb:2,children:"Access Preview"}),t.jsxs(k,{sx:{mb:3},children:[t.jsx(L,{variant:"body2",color:"#94a3b8",fontSize:"0.75rem",children:"ROLE"}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[t.jsx(k,{sx:{width:10,height:10,borderRadius:"50%",backgroundColor:ae?.color}}),t.jsx(L,{fontWeight:600,color:"#1e293b",children:ae?.displayName})]})]}),t.jsxs(k,{sx:{mb:3},children:[t.jsx(L,{variant:"body2",color:"#94a3b8",fontSize:"0.75rem",mb:1,children:"PERMISSIONS"}),(ae?.permissions||[]).filter(P=>P.allowed).map(P=>t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(Wt,{sx:{fontSize:14,color:"#10b981"}}),t.jsx(L,{variant:"body2",color:"#374151",children:P.label})]},P.key))]}),t.jsxs(k,{children:[t.jsxs(L,{variant:"body2",color:"#94a3b8",fontSize:"0.75rem",mb:1,children:["SELECTED EVENTS (",p.length,")"]}),p.length===0?t.jsx(L,{variant:"body2",color:"#9ca3af",fontStyle:"italic",children:"No events selected"}):t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:p.map(P=>{const re=b.find(te=>te.id===P);return t.jsx(fe,{label:re?.name||P,size:"small",sx:{backgroundColor:"#dbeafe",color:"#1d4ed8",fontWeight:500}},P)})})]})]})]})]}),t.jsxs(Tt,{sx:{px:3,pb:3},children:[t.jsx(se,{onClick:()=>{i(),J()},sx:{textTransform:"none"},children:"Cancel"}),t.jsx(se,{type:"submit",variant:"contained",disabled:C||p.length===0,startIcon:C?t.jsx(at,{size:20,color:"inherit"}):t.jsx(gr,{}),sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",fontWeight:600,px:3,"&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)"}},children:C?"Granting...":"Grant Access"})]})]})]})}const Md=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{height:"28px",width:"280px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"6px",animation:"shimmer 1.5s infinite"}}),t.jsx("div",{style:{height:"16px",width:"200px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"4px",marginTop:"8px",animation:"shimmer 1.5s infinite"}})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("div",{style:{height:"44px",width:"120px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"10px",animation:"shimmer 1.5s infinite"}}),t.jsx("div",{style:{height:"44px",width:"120px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"10px",animation:"shimmer 1.5s infinite"}})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},children:[1,2,3,4].map(s=>t.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[t.jsx("div",{style:{height:"36px",width:"60px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"6px",animation:"shimmer 1.5s infinite"}}),t.jsx("div",{style:{height:"14px",width:"100px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"4px",marginTop:"8px",animation:"shimmer 1.5s infinite"}})]},s))}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[t.jsx("div",{style:{height:"44px",flex:1,maxWidth:"320px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}}),t.jsx("div",{style:{height:"44px",width:"140px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"8px",animation:"shimmer 1.5s infinite"}})]}),t.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[t.jsx("div",{style:{height:"24px",width:"180px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"6px",marginBottom:"20px",animation:"shimmer 1.5s infinite"}}),t.jsx("div",{style:{height:"48px",background:"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",borderRadius:"8px",marginBottom:"12px",animation:"shimmer 1.5s infinite"}}),[1,2,3].map(s=>t.jsx("div",{style:{height:"60px",background:"linear-gradient(90deg, #f8fafc 25%, #fff 50%, #f8fafc 75%)",borderRadius:"6px",marginBottom:"8px",animation:"shimmer 1.5s infinite",animationDelay:`${s*.1}s`}},s))]}),t.jsx("style",{children:`
      @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
      }
    `})]});function bS(){const{user:s,userProfile:i,organization:l}=qt(),o=yt(),[d,h]=w.useState([]),[f,m]=w.useState([]),[g,x]=w.useState(!0),[p,v]=w.useState(null),[b,T]=w.useState(""),[C,A]=w.useState("all"),[_,z]=w.useState(!1),[S,E]=w.useState(!1),[W,N]=w.useState(null),[J,oe]=w.useState(null),[U,ae]=w.useState([]),[P,re]=w.useState(!1),[te,me]=w.useState(null),[X,Z]=w.useState(null),O=l?.id??X;w.useEffect(()=>{if(i&&i.role!==Ue.SUPER_ADMIN&&i.role!==Ue.CO_ADMIN){o("/unauthorized");return}},[i,o]);const I=w.useCallback(async()=>{if(!l?.id){re(!0),me(null);try{const{data:le,error:pe}=await B.from("organizations").select("id, name").order("created_at",{ascending:!1}).limit(50);if(pe)throw pe;const ne=le||[];ae(ne),!X&&ne.length>0&&Z(ne[0].id)}catch(le){console.error("Error loading organizations:",le),me(le?.message||"Failed to load organizations")}finally{re(!1)}}},[l?.id,X]);w.useEffect(()=>{i&&(l?.id||i.role!==Ue.SUPER_ADMIN&&i.role!==Ue.CO_ADMIN||I())},[i?.id,l?.id,I]),w.useEffect(()=>{i&&O&&(i.role===Ue.SUPER_ADMIN||i.role===Ue.CO_ADMIN)&&H(O)},[O,i?.id]);const H=async(le=O)=>{if(le){x(!0);try{const{data:pe,error:ne}=await B.from("event_access").select(`
          id,
          role,
          created_at,
          user_id,
          event_id,
          events (name)
        `).eq("organization_id",le);if(ne)throw ne;const he=[...new Set(pe?.map(We=>We.user_id)||[])];let we=[];if(he.length>0){const{data:We,error:jn}=await B.from("user_profiles").select("id, email, full_name, is_active, last_login_at").in("id",he);if(jn)throw jn;we=We||[]}const Ge={};we.forEach(We=>{Ge[We.id]={...We,events:[],roles:new Set}}),pe?.forEach(We=>{Ge[We.user_id]&&(Ge[We.user_id].events.push({id:We.event_id,name:We.events?.name,role:We.role}),Ge[We.user_id].roles.add(We.role))}),h(Object.values(Ge).map(We=>({...We,roles:Array.from(We.roles)})));const Be=await es.getOrganizationInvitations(le);m(Be||[])}catch(pe){console.error("Error loading data:",pe),v(pe.message)}finally{x(!1)}}},ee=async le=>{N(le);try{await es.resendInvitation(le),await H()}catch(pe){v(pe.message)}finally{N(null)}},ie=async le=>{if(window.confirm("Are you sure you want to cancel this invitation?"))try{await es.cancelInvitation(le),await H()}catch(pe){v(pe.message)}},de=d.filter(le=>le.email?.toLowerCase().includes(b.toLowerCase())||le.full_name?.toLowerCase().includes(b.toLowerCase())),ce=f.filter(le=>{const pe=le.email?.toLowerCase().includes(b.toLowerCase()),ne=C==="all"||le.status===C;return pe&&ne}),be=f.filter(le=>le.status==="pending").length,Re=f.filter(le=>le.status==="accepted").length;return i?!O&&P?t.jsx("div",{style:ar,children:t.jsx(Md,{})}):!O&&!P&&U.length===0?t.jsxs("div",{style:ar,children:[t.jsxs("header",{style:ux,children:[t.jsxs("div",{children:[t.jsx("h1",{style:{margin:0,fontSize:"24px",color:"#1e3a5f"},children:"Team & Access Management"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#6b7280"},children:"Manage your organization members and invitations"})]}),t.jsx("button",{onClick:()=>o("/admin/events"),style:fx,children:"Back to Events"})]}),t.jsx("div",{style:Od,children:t.jsxs("div",{style:Bd,children:[t.jsx("p",{style:{marginBottom:"16px"},children:"No organization found for your account. Please contact an administrator to get access."}),t.jsxs("button",{onClick:I,style:hx,children:[t.jsx(ns,{style:{fontSize:"18px"}}),"Retry"]})]})})]}):g?t.jsx("div",{style:ar,children:t.jsx(Md,{})}):t.jsxs("div",{style:ar,children:[t.jsxs("header",{style:ux,children:[t.jsxs("div",{children:[t.jsx("h1",{style:{margin:0,fontSize:"24px",color:"#1e3a5f"},children:"Team & Access Management"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#6b7280"},children:"Manage who has access to your events and their roles"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsxs("button",{onClick:()=>E(!0),style:SS,children:[t.jsx(_j,{style:{fontSize:"20px"}}),"Grant Access"]}),t.jsxs("button",{onClick:()=>z(!0),style:jS,children:[t.jsx(gr,{style:{fontSize:"20px"}}),"Invite User"]}),t.jsx("button",{onClick:()=>o("/admin/events"),style:fx,children:"Back to Events"})]})]}),p&&t.jsxs("div",{style:wS,children:[p,t.jsx("button",{onClick:()=>v(null),style:{marginLeft:"12px",cursor:"pointer",background:"none",border:"none",color:"#dc2626"},children:""})]}),t.jsxs("div",{style:TS,children:[t.jsxs("div",{style:Ul,children:[t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#2563eb"},children:d.length}),t.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Active Members"})]}),t.jsxs("div",{style:Ul,children:[t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#f59e0b"},children:be}),t.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Pending Invitations"})]}),t.jsxs("div",{style:Ul,children:[t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#10b981"},children:Re}),t.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Accepted"})]}),t.jsxs("div",{style:Ul,children:[t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#7c3aed"},children:f.length}),t.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Total Invitations"})]})]}),t.jsxs("div",{style:CS,children:[t.jsx("input",{type:"text",placeholder:"Search by email or name...",value:b,onChange:le=>T(le.target.value),style:_S}),t.jsxs("select",{value:C,onChange:le=>A(le.target.value),style:AS,children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"accepted",children:"Accepted"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]}),t.jsx("button",{onClick:H,style:hx,children:t.jsx(ns,{style:{fontSize:"18px"}})})]}),t.jsxs("div",{style:Od,children:[t.jsxs("h2",{style:mx,children:[t.jsx(Wt,{style:{color:"#10b981",fontSize:"20px"}}),"Active Members (",de.length,")"]}),de.length===0?t.jsx("div",{style:Bd,children:t.jsx("p",{children:"No active members yet. Invite users to give them access to your events."})}):t.jsx("div",{style:gx,children:t.jsxs("table",{style:xx,children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)"},children:[t.jsx("th",{style:{...yn,color:"#fff"},children:"User"}),t.jsx("th",{style:{...yn,color:"#fff"},children:"Roles"}),t.jsx("th",{style:{...yn,color:"#fff"},children:"Events Access"}),t.jsx("th",{style:{...yn,color:"#fff"},children:"Status"}),t.jsx("th",{style:{...yn,color:"#fff"},children:"Last Login"})]})}),t.jsx("tbody",{children:de.map(le=>t.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[t.jsx("td",{style:vn,children:t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",color:"#1e3a5f"},children:le.full_name||"No name"}),t.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:le.email})]})}),t.jsx("td",{style:vn,children:t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:le.roles.map(pe=>t.jsx(pS,{role:pe,size:"small"},pe))})}),t.jsx("td",{style:vn,children:t.jsxs("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:[le.events.slice(0,3).map(pe=>t.jsx("span",{style:px,children:pe.name},pe.id)),le.events.length>3&&t.jsxs("span",{style:{...px,background:"#e2e8f0"},children:["+",le.events.length-3," more"]})]})}),t.jsx("td",{style:vn,children:t.jsx("span",{style:ES,children:"Active"})}),t.jsx("td",{style:vn,children:le.last_login_at?new Date(le.last_login_at).toLocaleDateString():"Never"})]},le.id))})]})})]}),t.jsxs("div",{style:Od,children:[t.jsxs("h2",{style:mx,children:[t.jsx($d,{style:{color:"#7c3aed",fontSize:"20px"}}),"Invitations (",ce.length,")"]}),ce.length===0?t.jsx("div",{style:Bd,children:t.jsx("p",{children:'No invitations sent yet. Click "Invite User" to get started.'})}):t.jsx("div",{style:gx,children:t.jsxs("table",{style:xx,children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f9fafb"},children:[t.jsx("th",{style:yn,children:"Email"}),t.jsx("th",{style:yn,children:"Role"}),t.jsx("th",{style:yn,children:"Events"}),t.jsx("th",{style:yn,children:"Status"}),t.jsx("th",{style:yn,children:"Sent"}),t.jsx("th",{style:yn,children:"Actions"})]})}),t.jsx("tbody",{children:ce.map(le=>{const pe=wa[le.role]||{},ne=new Date(le.expires_at)<new Date,he=ne&&le.status==="pending"?"expired":le.status;return t.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[t.jsx("td",{style:vn,children:t.jsx("div",{style:{fontWeight:"500",color:"#1e3a5f"},children:le.email})}),t.jsx("td",{style:vn,children:t.jsx("span",{style:{padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",background:pe.color?`${pe.color}15`:"#f3f4f6",color:pe.color||"#6b7280"},children:pe.displayName||le.role})}),t.jsx("td",{style:vn,children:t.jsxs("span",{style:{color:"#6b7280",fontSize:"13px"},children:[le.event_ids?.length||0," event(s)"]})}),t.jsxs("td",{style:vn,children:[he==="pending"&&t.jsxs("span",{style:RS,children:[t.jsx(Aj,{style:{fontSize:"14px"}})," Pending"]}),he==="accepted"&&t.jsxs("span",{style:zS,children:[t.jsx(Wt,{style:{fontSize:"14px"}})," Accepted"]}),he==="cancelled"&&t.jsxs("span",{style:kS,children:[t.jsx(pu,{style:{fontSize:"14px"}})," Cancelled"]}),he==="expired"&&t.jsx("span",{style:DS,children:"Expired"})]}),t.jsx("td",{style:vn,children:new Date(le.created_at).toLocaleDateString()}),t.jsx("td",{style:vn,children:le.status==="pending"&&!ne&&t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>ee(le.id),disabled:W===le.id,style:yx,children:W===le.id?"...":"Resend"}),t.jsx("button",{onClick:()=>ie(le.id),style:{...yx,color:"#dc2626"},children:"Cancel"})]})})]},le.id)})})]})})]}),t.jsx(yS,{open:_,onClose:()=>z(!1),onSuccess:()=>{z(!1),H()},organizationId:O}),t.jsx(vS,{open:S,onClose:()=>E(!1),onSuccess:()=>{E(!1),H()},organizationId:O})]}):t.jsx("div",{style:ar,children:t.jsx(Md,{})})}const ar={minHeight:"100vh",background:"#f8fafc",padding:"24px"},ux={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},jS={display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(124, 58, 237, 0.25)"},SS={display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.25)"},fx={padding:"12px 20px",background:"#f1f5f9",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:"#475569"},hx={padding:"12px",background:"#f1f5f9",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},wS={padding:"12px 16px",background:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},TS={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},Ul={background:"#fff",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},CS={display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},_S={flex:1,minWidth:"200px",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},AS={padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",minWidth:"150px",background:"#fff"},Od={marginBottom:"32px"},mx={display:"flex",alignItems:"center",gap:"8px",fontSize:"18px",fontWeight:"600",color:"#1e3a5f",marginBottom:"16px"},Bd={background:"#fff",padding:"40px",borderRadius:"12px",textAlign:"center",color:"#6b7280",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},gx={background:"#fff",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},xx={width:"100%",borderCollapse:"collapse"},yn={padding:"14px 16px",textAlign:"left",fontWeight:"600",color:"#374151",fontSize:"13px",textTransform:"uppercase",letterSpacing:"0.5px"},vn={padding:"16px",color:"#4b5563"},px={padding:"2px 8px",background:"#f3e8ff",color:"#7c3aed",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},ES={padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",background:"#d1fae5",color:"#059669"},RS={display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",background:"#fef3c7",color:"#d97706"},zS={display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",background:"#d1fae5",color:"#059669"},kS={display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",background:"#fee2e2",color:"#dc2626"},DS={padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",background:"#f3f4f6",color:"#6b7280"},yx={padding:"6px 12px",background:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#374151"};function NS({eventId:s,roundId:i}){const[l,o]=w.useState([]),[d,h]=w.useState([]),[f,m]=w.useState([]),[g,x]=w.useState(!0),[p,v]=w.useState(null),[b,T]=w.useState("comparison");w.useEffect(()=>{i&&C()},[i,s]);const C=async()=>{x(!0);try{const[S,E,W]=await Promise.all([B.from("teams").select("*").eq("event_id",s).order("name"),B.from("round_criteria").select("*").eq("round_id",i).order("weight",{ascending:!1}),B.from("computed_results").select("*").eq("round_id",i).order("rank")]);S.data&&o(S.data),E.data&&h(E.data),W.data&&(m(W.data),W.data.length>0&&v(W.data[0].team_id))}catch(S){console.error("Failed to fetch data:",S)}finally{x(!1)}},A=S=>l.find(W=>String(W.id)===String(S))?.name||"Unknown Team",_=S=>S==null?"-":typeof S=="number"?S.toFixed(2):parseFloat(S).toFixed(2);if(g)return t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"Loading score breakdown..."});if(f.length===0)return t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:[t.jsx("h3",{style:{margin:"0 0 12px",color:"#374151"},children:"No Results Yet"}),t.jsx("p",{children:"Scores have not been computed for this round. Results will appear here once the event is locked."})]});const z=f.find(S=>String(S.team_id)===String(p));return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#1e3a5f"},children:"Score Breakdown"}),t.jsx("p",{style:{margin:"4px 0 0",color:"#6b7280",fontSize:"14px"},children:"Compare raw scores with normalized Z-scores"})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>T("comparison"),style:{padding:"8px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600",background:b==="comparison"?"#2563eb":"#f3f4f6",color:b==="comparison"?"#fff":"#6b7280"},children:"Comparison View"}),t.jsx("button",{onClick:()=>T("ranking"),style:{padding:"8px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600",background:b==="ranking"?"#2563eb":"#f3f4f6",color:b==="ranking"?"#fff":"#6b7280"},children:"Ranking Table"})]})]}),b==="comparison"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#374151",marginRight:"12px"},children:"Select Team:"}),t.jsx("select",{value:p||"",onChange:S=>v(S.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",minWidth:"200px"},children:f.map(S=>t.jsxs("option",{value:S.team_id,children:["#",S.rank," - ",A(S.team_id)]},S.team_id))})]}),z&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[t.jsxs("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"20px"},children:[t.jsx("h3",{style:{margin:"0 0 16px",fontSize:"16px",color:"#374151"},children:"Final Results"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsx(Wl,{label:"Rank",value:`#${z.rank}`,highlight:!0}),t.jsx(Wl,{label:"Percentile",value:`${_(z.percentile)}%`}),t.jsx(Wl,{label:"Final Score",value:_(z.final_score)}),t.jsx(Wl,{label:"Tied",value:z.is_tied?"Yes":"No"})]})]}),t.jsxs("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"20px"},children:[t.jsx("h3",{style:{margin:"0 0 16px",fontSize:"16px",color:"#374151"},children:"Per-Criterion Breakdown"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #e5e7eb"},children:[t.jsx("th",{style:{padding:"10px 8px",textAlign:"left",color:"#6b7280"},children:"Criterion"}),t.jsx("th",{style:{padding:"10px 8px",textAlign:"right",color:"#6b7280"},children:"Weight"}),t.jsx("th",{style:{padding:"10px 8px",textAlign:"right",color:"#dc2626"},children:"Raw"}),t.jsx("th",{style:{padding:"10px 8px",textAlign:"right",color:"#2563eb"},children:"Z-Score"}),t.jsx("th",{style:{padding:"10px 8px",textAlign:"right",color:"#059669"},children:"Weighted"})]})}),t.jsx("tbody",{children:d.map(S=>{const E=z.raw_scores||{},W=z.z_scores||{},N=z.weighted_z_scores||{};return t.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[t.jsx("td",{style:{padding:"10px 8px",fontWeight:"500"},children:S.name}),t.jsxs("td",{style:{padding:"10px 8px",textAlign:"right"},children:[S.weight,"%"]}),t.jsx("td",{style:{padding:"10px 8px",textAlign:"right",color:"#dc2626"},children:_(E[S.id])}),t.jsx("td",{style:{padding:"10px 8px",textAlign:"right",color:"#2563eb"},children:_(W[S.id])}),t.jsx("td",{style:{padding:"10px 8px",textAlign:"right",color:"#059669",fontWeight:"600"},children:_(N[S.id])})]},S.id)})})]})})]}),t.jsxs("div",{style:{background:"#fff7ed",borderRadius:"8px",padding:"20px",gridColumn:"1 / -1"},children:[t.jsx("h3",{style:{margin:"0 0 12px",fontSize:"16px",color:"#9a3412"},children:"Understanding Raw vs Normalized Scores"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 8px",fontSize:"14px",color:"#dc2626"},children:"Raw Scores"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#6b7280"},children:"The original points given by judges. These can be affected by different judging styles - some judges score higher or lower than others."})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 8px",fontSize:"14px",color:"#2563eb"},children:"Z-Scores"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#6b7280"},children:"Normalized scores that account for each judge's scoring patterns. A Z-score of 0 means average, positive means above average, negative means below."})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:"0 0 8px",fontSize:"14px",color:"#059669"},children:"Weighted Z-Scores"}),t.jsx("p",{style:{margin:0,fontSize:"13px",color:"#6b7280"},children:"Z-scores multiplied by the criterion weight. Higher weight criteria have more impact on the final ranking."})]})]})]})]})]}),b==="ranking"&&t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("th",{style:{padding:"12px 8px",textAlign:"left",fontWeight:"600",color:"#374151"},children:"Rank"}),t.jsx("th",{style:{padding:"12px 8px",textAlign:"left",fontWeight:"600",color:"#374151"},children:"Team"}),t.jsx("th",{style:{padding:"12px 8px",textAlign:"right",fontWeight:"600",color:"#374151"},children:"Final Score"}),t.jsx("th",{style:{padding:"12px 8px",textAlign:"right",fontWeight:"600",color:"#374151"},children:"Percentile"}),d.slice(0,3).map(S=>t.jsx("th",{style:{padding:"12px 8px",textAlign:"right",fontWeight:"600",color:"#374151"},children:S.name},S.id)),t.jsx("th",{style:{padding:"12px 8px",textAlign:"center",fontWeight:"600",color:"#374151"},children:"Tied"})]})}),t.jsx("tbody",{children:f.map((S,E)=>t.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",background:E<3?"#fefce8":"transparent"},children:[t.jsxs("td",{style:{padding:"12px 8px",fontWeight:"700",color:E===0?"#ca8a04":E===1?"#6b7280":E===2?"#a16207":"#374151"},children:["#",S.rank]}),t.jsx("td",{style:{padding:"12px 8px",fontWeight:"500"},children:A(S.team_id)}),t.jsx("td",{style:{padding:"12px 8px",textAlign:"right",fontWeight:"600",color:"#2563eb"},children:_(S.final_score)}),t.jsxs("td",{style:{padding:"12px 8px",textAlign:"right"},children:[_(S.percentile),"%"]}),d.slice(0,3).map(W=>t.jsx("td",{style:{padding:"12px 8px",textAlign:"right",color:"#6b7280"},children:_((S.weighted_z_scores||{})[W.id])},W.id)),t.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:S.is_tied?t.jsx("span",{style:{color:"#f59e0b",fontWeight:"600"},children:"Yes"}):t.jsx("span",{style:{color:"#10b981"},children:"No"})})]},S.id))})]})})]})}function Wl({label:s,value:i,highlight:l}){return t.jsxs("div",{style:{background:l?"#2563eb":"#fff",borderRadius:"8px",padding:"16px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"12px",color:l?"rgba(255,255,255,0.8)":"#6b7280",marginBottom:"4px"},children:s}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:l?"#fff":"#1e3a5f"},children:i})]})}function MS(){const[s,i]=w.useState("overview"),l=o=>{i(s===o?null:o)};return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#1e3a5f"},children:"How FairScore Works"}),t.jsx("p",{style:{margin:"8px 0 0",color:"#6b7280",fontSize:"14px"},children:"Our scoring system uses scientifically-proven statistical methods to ensure fair rankings"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsx(ja,{title:"Overview: Why Z-Score Normalization?",isExpanded:s==="overview",onToggle:()=>l("overview"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:'Different judges have different scoring tendencies. Some judges naturally score higher, while others are more conservative. Without normalization, teams assigned to "tough" judges would be unfairly disadvantaged.'}),t.jsxs("div",{style:{background:"#f0fdf4",padding:"16px",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#166534"},children:"The Solution"}),t.jsx("p",{style:{margin:0,color:"#166534",fontSize:"14px"},children:"Z-score normalization converts each judge's scores to a common scale based on their own scoring patterns. This eliminates bias from different judging styles while preserving the relative rankings each judge intended."})]})]})}),t.jsx(ja,{title:"Step 1: Collecting Raw Scores",isExpanded:s==="step1",onToggle:()=>l("step1"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:"Each judge evaluates teams on multiple criteria (e.g., Innovation, Execution, Presentation). Each criterion has an assigned weight reflecting its importance."}),t.jsxs("div",{style:{background:"#f8fafc",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px",color:"#374151",fontSize:"14px"},children:"Example:"}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",color:"#6b7280"},children:"Criterion"}),t.jsx("th",{style:{padding:"8px",textAlign:"right",color:"#6b7280"},children:"Weight"}),t.jsx("th",{style:{padding:"8px",textAlign:"right",color:"#6b7280"},children:"Score Range"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:"Innovation"}),t.jsx("td",{style:{padding:"8px",textAlign:"right"},children:"40%"}),t.jsx("td",{style:{padding:"8px",textAlign:"right"},children:"0-10"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:"Execution"}),t.jsx("td",{style:{padding:"8px",textAlign:"right"},children:"35%"}),t.jsx("td",{style:{padding:"8px",textAlign:"right"},children:"0-10"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"8px"},children:"Presentation"}),t.jsx("td",{style:{padding:"8px",textAlign:"right"},children:"25%"}),t.jsx("td",{style:{padding:"8px",textAlign:"right"},children:"0-10"})]})]})]})]})]})}),t.jsx(ja,{title:"Step 2: Computing Judge Statistics",isExpanded:s==="step2",onToggle:()=>l("step2"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:"For each judge, we calculate their personal scoring statistics:"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[t.jsx(vx,{title:"Mean (Average)",formula:"Mean = Sum of all scores / Number of scores",description:"The judge's typical score level",example:"If a judge gives scores 7, 8, 6, 9: Mean = 30/4 = 7.5"}),t.jsx(vx,{title:"Standard Deviation",formula:"SD = Square root of average squared differences from mean",description:"How spread out the judge's scores are",example:"Measures if judge uses full range or clusters scores together"})]})]})}),t.jsx(ja,{title:"Step 3: Z-Score Normalization",isExpanded:s==="step3",onToggle:()=>l("step3"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:"Each raw score is converted to a Z-score using the judge's own statistics:"}),t.jsxs("div",{style:{background:"#eff6ff",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#1d4ed8",marginBottom:"8px"},children:"Z = (Score - Judge Mean) / Judge SD"}),t.jsx("p",{style:{margin:0,color:"#3b82f6",fontSize:"14px"},children:`This converts the score to "standard deviations above/below this judge's average"`})]}),t.jsxs("div",{style:{background:"#f8fafc",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px",color:"#374151",fontSize:"14px"},children:"What Z-Scores Mean:"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#374151",fontSize:"14px",lineHeight:1.8},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Z = 0"}),": Exactly average for this judge"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Z = +1"}),": One standard deviation above average (top ~16%)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Z = +2"}),": Two standard deviations above (top ~2.5%)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Z = -1"}),": One standard deviation below average"]})]})]})]})}),t.jsx(ja,{title:"Step 4: Applying Weights",isExpanded:s==="step4",onToggle:()=>l("step4"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:"Each criterion's Z-score is multiplied by its weight to reflect importance:"}),t.jsxs("div",{style:{background:"#f0fdf4",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#166534",marginBottom:"8px"},children:"Weighted Z = Z-Score x (Weight / 100)"}),t.jsx("p",{style:{margin:0,color:"#16a34a",fontSize:"14px"},children:"Higher-weight criteria have more impact on the final score"})]}),t.jsxs("div",{style:{background:"#f8fafc",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px",color:"#374151",fontSize:"14px"},children:"Example:"}),t.jsxs("p",{style:{margin:0,color:"#6b7280",fontSize:"14px"},children:["If Innovation (40% weight) has Z = 1.5:",t.jsx("br",{}),"Weighted Z = 1.5 x 0.40 = 0.60"]})]})]})}),t.jsx(ja,{title:"Step 5: Final Aggregation & Ranking",isExpanded:s==="step5",onToggle:()=>l("step5"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:"The final score is the sum of all weighted Z-scores across all criteria:"}),t.jsxs("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#92400e",marginBottom:"8px"},children:"Final Score = Sum of all Weighted Z-Scores"}),t.jsx("p",{style:{margin:0,color:"#a16207",fontSize:"14px"},children:"Teams are ranked by their final score (highest = best)"})]})]})}),t.jsx(ja,{title:"Tie-Breaking Rules",isExpanded:s==="tiebreak",onToggle:()=>l("tiebreak"),children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsx("p",{style:{margin:0,color:"#374151",lineHeight:1.6},children:"When teams have identical final scores, we use these rules in order:"}),t.jsxs("ol",{style:{margin:0,paddingLeft:"20px",color:"#374151",fontSize:"14px",lineHeight:2},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Highest-weight criterion:"})," Compare Z-scores on the most important criterion"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Average raw total:"})," Compare the mean of all raw scores received"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Median raw total:"})," Compare the median of all raw scores received"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Judge count:"})," Team evaluated by more judges wins (more data = more reliable)"]})]})]})}),t.jsx(ja,{title:"Why This Method is Fair",isExpanded:s==="fairness",onToggle:()=>l("fairness"),children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[t.jsxs("div",{style:{background:"#f0fdf4",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#166534",fontSize:"14px"},children:"Eliminates Judge Bias"}),t.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"13px"},children:"Tough and lenient judges are normalized to the same scale"})]}),t.jsxs("div",{style:{background:"#eff6ff",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#1d4ed8",fontSize:"14px"},children:"Preserves Rankings"}),t.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"13px"},children:"Each judge's intended order of teams is maintained"})]}),t.jsxs("div",{style:{background:"#fef3c7",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#92400e",fontSize:"14px"},children:"Statistically Sound"}),t.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"13px"},children:"Z-score normalization is a well-established statistical technique"})]}),t.jsxs("div",{style:{background:"#fce7f3",padding:"16px",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#9d174d",fontSize:"14px"},children:"Fully Auditable"}),t.jsx("p",{style:{margin:0,color:"#6b7280",fontSize:"13px"},children:"Every calculation is logged and can be verified"})]})]})})]})]})}function ja({title:s,isExpanded:i,onToggle:l,children:o}){return t.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:[t.jsxs("button",{onClick:l,style:{width:"100%",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",background:i?"#f8fafc":"#fff",border:"none",cursor:"pointer",textAlign:"left"},children:[t.jsx("span",{style:{fontWeight:"600",color:"#1e3a5f",fontSize:"15px"},children:s}),t.jsx("span",{style:{fontSize:"20px",color:"#6b7280",transform:i?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"v"})]}),i&&t.jsx("div",{style:{padding:"20px",borderTop:"1px solid #e5e7eb"},children:o})]})}function vx({title:s,formula:i,description:l,example:o}){return t.jsxs("div",{style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"16px"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#1e3a5f",fontSize:"14px"},children:s}),t.jsx("div",{style:{background:"#f8fafc",padding:"8px 12px",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px",color:"#2563eb",marginBottom:"8px"},children:i}),t.jsx("p",{style:{margin:"0 0 4px",color:"#6b7280",fontSize:"13px"},children:l}),o&&t.jsx("p",{style:{margin:0,color:"#9ca3af",fontSize:"12px",fontStyle:"italic"},children:o})]})}function OS({eventId:s,roundId:i}){const[l,o]=w.useState([]),[d,h]=w.useState([]),[f,m]=w.useState(!0),[g,x]=w.useState(null);w.useEffect(()=>{i&&p()},[i,s]);const p=async()=>{m(!0);try{const{data:C}=await B.from("round_judge_assignments").select("judge_id, user_profiles(id, email, full_name)").eq("round_id",i);if(C){const _=C.map(z=>z.user_profiles).filter((z,S,E)=>z&&E.findIndex(W=>W?.id===z?.id)===S);o(_)}const{data:A}=await B.from("raw_evaluations").select("*").eq("round_id",i).eq("is_draft",!1);A&&h(A)}catch(C){console.error("Failed to fetch judge data:",C)}finally{m(!1)}},v=C=>{const A=d.filter(P=>P.judge_id===C);if(A.length===0)return null;const _=A.flatMap(P=>{const re=P.scores||{};return Object.values(re).map(te=>parseFloat(te)||0)}),z=_.length>0?_.reduce((P,re)=>P+re,0)/_.length:0,S=_.length>0?_.reduce((P,re)=>P+Math.pow(re-z,2),0)/_.length:0,E=Math.sqrt(S),W=E>0?1/(1+E/z):1,N=d.length>0?d.flatMap(P=>Object.values(P.scores||{}).map(re=>parseFloat(re)||0)).reduce((P,re)=>P+re,0)/d.flatMap(P=>Object.values(P.scores||{})).length:0,J=N>0?(z-N)/N:0,oe=new Set(A.map(P=>P.team_id)).size,U=new Set(d.map(P=>P.team_id)).size,ae=U>0?oe/U:0;return{evaluationCount:A.length,teamsJudged:oe,meanScore:z,stdDev:E,consistency:W*100,biasFactor:J*100,coverage:ae*100}},b=C=>Math.abs(C)<5?{label:"Neutral",color:"#10b981"}:C>15?{label:"Lenient",color:"#f59e0b"}:C<-15?{label:"Strict",color:"#dc2626"}:C>0?{label:"Slightly Lenient",color:"#84cc16"}:{label:"Slightly Strict",color:"#fb923c"},T=C=>C>=80?{label:"Excellent",color:"#10b981"}:C>=60?{label:"Good",color:"#84cc16"}:C>=40?{label:"Moderate",color:"#f59e0b"}:{label:"Low",color:"#dc2626"};return f?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"Loading judge analytics..."}):l.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:[t.jsx("h3",{style:{margin:"0 0 12px",color:"#374151"},children:"No Judge Data"}),t.jsx("p",{children:"No judges have been assigned to this round yet."})]}):t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#1e3a5f"},children:"Judge Analytics"}),t.jsx("p",{style:{margin:"8px 0 0",color:"#6b7280",fontSize:"14px"},children:"Contribution metrics, consistency scores, and bias detection"})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{margin:"0 0 16px",fontSize:"16px",color:"#374151"},children:"Judge Overview"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Judge"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:"Teams Judged"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:"Avg Score"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:"Std Dev"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:"Consistency"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:"Bias Indicator"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:"Coverage"})]})}),t.jsx("tbody",{children:l.map(C=>{const A=v(C.id);if(!A)return null;const _=b(A.biasFactor),z=T(A.consistency);return t.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",cursor:"pointer",background:g===C.id?"#eff6ff":"transparent"},onClick:()=>x(g===C.id?null:C.id),children:[t.jsxs("td",{style:{padding:"12px"},children:[t.jsx("div",{style:{fontWeight:"500"},children:C.full_name||"Unnamed Judge"}),t.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:C.email})]}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:A.teamsJudged}),t.jsx("td",{style:{padding:"12px",textAlign:"center",fontWeight:"600"},children:A.meanScore.toFixed(2)}),t.jsx("td",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:A.stdDev.toFixed(2)}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsxs("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600",background:`${z.color}20`,color:z.color},children:[z.label," (",A.consistency.toFixed(0),"%)"]})}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600",background:`${_.color}20`,color:_.color},children:_.label})}),t.jsxs("td",{style:{padding:"12px",textAlign:"center"},children:[t.jsx("div",{style:{width:"100%",height:"8px",background:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${A.coverage}%`,height:"100%",background:A.coverage>=80?"#10b981":A.coverage>=50?"#f59e0b":"#dc2626",borderRadius:"4px"}})}),t.jsxs("span",{style:{fontSize:"11px",color:"#6b7280"},children:[A.coverage.toFixed(0),"%"]})]})]},C.id)})})]})})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsx(Ld,{title:"Consistency Score",description:"Measures how consistently a judge scores across all evaluations. Higher is better - it means the judge uses the scoring scale in a predictable way.",interpretation:"Excellent (80%+): Very predictable scoring. Good (60-80%): Reliable. Moderate (40-60%): Some variability. Low (<40%): Highly variable."}),t.jsx(Ld,{title:"Bias Indicator",description:"Compares a judge's average score to the overall average. Shows if a judge tends to score higher (lenient) or lower (strict) than others.",interpretation:"Neutral: Within 5% of average. Lenient/Strict: Significantly above/below average. This is compensated by Z-score normalization."}),t.jsx(Ld,{title:"Coverage",description:"Percentage of total teams this judge has evaluated. Higher coverage means more comprehensive judging from this person.",interpretation:"High coverage judges provide scores for more teams, giving more data points for accurate rankings."})]}),t.jsxs("div",{style:{background:"#f0fdf4",borderRadius:"8px",padding:"20px",borderLeft:"4px solid #10b981"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#166534"},children:"Why Bias Detection Matters"}),t.jsx("p",{style:{margin:0,color:"#166534",fontSize:"14px",lineHeight:1.6},children:"These metrics help event administrators understand judging patterns, but they don't affect rankings. FairScore's Z-score normalization automatically compensates for different judging styles, ensuring fair results regardless of whether a judge is naturally lenient or strict."})]})]})}function Ld({title:s,description:i,interpretation:l}){return t.jsxs("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"16px"},children:[t.jsx("h4",{style:{margin:"0 0 8px",color:"#1e3a5f",fontSize:"14px"},children:s}),t.jsx("p",{style:{margin:"0 0 8px",color:"#6b7280",fontSize:"13px"},children:i}),t.jsx("p",{style:{margin:0,color:"#9ca3af",fontSize:"12px",fontStyle:"italic"},children:l})]})}const bx={create:"Created",update:"Updated",delete:"Deleted",status_change:"Status Changed",score_submit:"Score Submitted",score_override:"Score Override",lock:"Locked",publish:"Published",login:"Login",logout:"Logout",permission_change:"Permission Changed"},jx={events:"Event",teams:"Team",rounds:"Round",round_criteria:"Criterion",raw_evaluations:"Evaluation",computed_results:"Results",user_profiles:"User",organizations:"Organization"};function BS({eventId:s}){const[i,l]=w.useState([]),[o,d]=w.useState(!0),[h,f]=w.useState({action:"",resource:"",dateFrom:"",dateTo:"",search:""}),[m,g]=w.useState(0),[x,p]=w.useState(0),v=20;w.useEffect(()=>{b()},[s,h,m]);const b=async()=>{d(!0);try{let _=B.from("audit_logs").select("*, user_profiles(email, full_name)",{count:"exact"}).order("created_at",{ascending:!1}).range(m*v,(m+1)*v-1);h.action&&(_=_.eq("action",h.action)),h.resource&&(_=_.eq("resource_type",h.resource)),h.dateFrom&&(_=_.gte("created_at",h.dateFrom)),h.dateTo&&(_=_.lte("created_at",h.dateTo+"T23:59:59"));const{data:z,error:S,count:E}=await _;if(S)console.warn("Audit logs table may not exist:",S),l([]),p(0);else{let W=z||[];if(h.search){const N=h.search.toLowerCase();W=W.filter(J=>J.user_profiles?.email?.toLowerCase().includes(N)||J.user_profiles?.full_name?.toLowerCase().includes(N)||J.action?.toLowerCase().includes(N)||J.resource_type?.toLowerCase().includes(N))}l(W),p(E||0)}}catch(_){console.error("Failed to fetch audit logs:",_),l([])}finally{d(!1)}},T=_=>new Date(_).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),C=_=>({create:"#10b981",update:"#3b82f6",delete:"#dc2626",status_change:"#8b5cf6",score_submit:"#06b6d4",score_override:"#f59e0b",lock:"#d97706",publish:"#059669",login:"#6366f1",logout:"#6b7280"})[_]||"#6b7280",A=Math.ceil(x/v);return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#1e3a5f"},children:"Audit Trail"}),t.jsx("p",{style:{margin:"8px 0 0",color:"#6b7280",fontSize:"14px"},children:"Complete history of all actions in the system"})]}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",marginBottom:"20px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsx("input",{type:"text",placeholder:"Search by user or action...",value:h.search,onChange:_=>f({...h,search:_.target.value}),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",minWidth:"200px"}}),t.jsxs("select",{value:h.action,onChange:_=>f({...h,action:_.target.value}),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"",children:"All Actions"}),Object.entries(bx).map(([_,z])=>t.jsx("option",{value:_,children:z},_))]}),t.jsxs("select",{value:h.resource,onChange:_=>f({...h,resource:_.target.value}),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"",children:"All Resources"}),Object.entries(jx).map(([_,z])=>t.jsx("option",{value:_,children:z},_))]}),t.jsx("input",{type:"date",value:h.dateFrom,onChange:_=>f({...h,dateFrom:_.target.value}),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}}),t.jsx("input",{type:"date",value:h.dateTo,onChange:_=>f({...h,dateTo:_.target.value}),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"}}),t.jsx("button",{onClick:()=>f({action:"",resource:"",dateFrom:"",dateTo:"",search:""}),style:{padding:"8px 16px",background:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Clear Filters"})]}),o?t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"Loading audit logs..."}):i.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:[t.jsx("h3",{style:{margin:"0 0 12px",color:"#374151"},children:"No Audit Logs"}),t.jsx("p",{children:"No actions have been recorded yet, or no logs match your filters."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Timestamp"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"User"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Action"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Resource"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Details"})]})}),t.jsx("tbody",{children:i.map(_=>t.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[t.jsx("td",{style:{padding:"12px",whiteSpace:"nowrap",color:"#6b7280",fontSize:"13px"},children:T(_.created_at)}),t.jsxs("td",{style:{padding:"12px"},children:[t.jsx("div",{style:{fontWeight:"500"},children:_.user_profiles?.full_name||"Unknown"}),t.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:_.user_profiles?.email})]}),t.jsx("td",{style:{padding:"12px"},children:t.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"600",background:`${C(_.action)}20`,color:C(_.action)},children:bx[_.action]||_.action})}),t.jsxs("td",{style:{padding:"12px"},children:[t.jsx("span",{style:{color:"#374151"},children:jx[_.resource_type]||_.resource_type}),_.resource_id&&t.jsxs("span",{style:{fontSize:"11px",color:"#9ca3af",display:"block"},children:[_.resource_id.substring(0,8),"..."]})]}),t.jsxs("td",{style:{padding:"12px",maxWidth:"300px"},children:[_.reason&&t.jsx("div",{style:{fontSize:"13px",color:"#374151",marginBottom:"4px"},children:_.reason}),(_.old_value||_.new_value)&&t.jsxs("div",{style:{fontSize:"11px",color:"#6b7280"},children:[_.old_value&&t.jsxs("span",{children:["From: ",JSON.stringify(_.old_value).substring(0,50),"... "]}),_.new_value&&t.jsxs("span",{children:["To: ",JSON.stringify(_.new_value).substring(0,50),"..."]})]})]})]},_.id))})]})}),A>1&&t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",padding:"16px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsxs("span",{style:{color:"#6b7280",fontSize:"14px"},children:["Showing ",m*v+1,"-",Math.min((m+1)*v,x)," of ",x," entries"]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>g(Math.max(0,m-1)),disabled:m===0,style:{padding:"8px 16px",background:m===0?"#e5e7eb":"#2563eb",color:m===0?"#9ca3af":"#fff",border:"none",borderRadius:"6px",cursor:m===0?"not-allowed":"pointer",fontSize:"14px"},children:"Previous"}),t.jsx("button",{onClick:()=>g(Math.min(A-1,m+1)),disabled:m>=A-1,style:{padding:"8px 16px",background:m>=A-1?"#e5e7eb":"#2563eb",color:m>=A-1?"#9ca3af":"#fff",border:"none",borderRadius:"6px",cursor:m>=A-1?"not-allowed":"pointer",fontSize:"14px"},children:"Next"})]})]})]})]})}function LS({eventId:s,eventName:i,roundId:l}){const[o,d]=w.useState(null),[h,f]=w.useState(null),m=[{id:"scores_csv",title:"Score Results (CSV)",description:"Final rankings with scores, percentiles, and per-criterion breakdown",format:"CSV",icon:"table"},{id:"scores_pdf",title:"Score Results (PDF)",description:"Formatted report with rankings and score details",format:"PDF",icon:"document"},{id:"raw_scores_csv",title:"Raw Evaluations (CSV)",description:"All raw scores submitted by judges before normalization",format:"CSV",icon:"table"},{id:"audit_csv",title:"Audit Trail (CSV)",description:"Complete log of all actions taken during this event",format:"CSV",icon:"log"},{id:"judge_metrics_csv",title:"Judge Analytics (CSV)",description:"Judge contribution metrics, consistency scores, and bias indicators",format:"CSV",icon:"analytics"},{id:"full_report_pdf",title:"Full Transparency Report (PDF)",description:"Complete report with scores, methodology, judge metrics, and audit trail",format:"PDF",icon:"report"}],g=async A=>{d(A),f(null);try{let _=[],z="";switch(A){case"scores_csv":_=await x(),z=`${i.replace(/\s+/g,"_")}_scores.csv`,T(_,z);break;case"raw_scores_csv":_=await p(),z=`${i.replace(/\s+/g,"_")}_raw_scores.csv`,T(_,z);break;case"audit_csv":_=await v(),z=`${i.replace(/\s+/g,"_")}_audit_log.csv`,T(_,z);break;case"judge_metrics_csv":_=await b(),z=`${i.replace(/\s+/g,"_")}_judge_metrics.csv`,T(_,z);break;case"scores_pdf":case"full_report_pdf":await C(A);break;default:throw new Error("Unknown export type")}}catch(_){console.error("Export failed:",_),f(_.message||"Export failed")}finally{d(null)}},x=async()=>{const{data:A}=await B.from("computed_results").select("*, teams(name)").eq("round_id",l).order("rank"),{data:_}=await B.from("round_criteria").select("*").eq("round_id",l).order("weight",{ascending:!1}),z=["Rank","Team","Final Score","Percentile","Tied"];_?.forEach(E=>z.push(`${E.name} (Z-Score)`));const S=A?.map(E=>{const W=[E.rank,E.teams?.name||"Unknown",E.final_score?.toFixed(4)||"0",E.percentile?.toFixed(2)||"0",E.is_tied?"Yes":"No"];return _?.forEach(N=>{W.push((E.weighted_z_scores?.[N.id]||0).toFixed(4))}),W})||[];return[z,...S]},p=async()=>{const{data:A}=await B.from("raw_evaluations").select("*, teams(name), user_profiles(email, full_name)").eq("round_id",l).eq("is_draft",!1).order("created_at"),{data:_}=await B.from("round_criteria").select("*").eq("round_id",l).order("weight",{ascending:!1}),z=["Team","Judge","Submitted At"];_?.forEach(E=>z.push(E.name));const S=A?.map(E=>{const W=[E.teams?.name||"Unknown",E.user_profiles?.full_name||E.user_profiles?.email||"Unknown",new Date(E.created_at).toISOString()];return _?.forEach(N=>{W.push(E.scores?.[N.id]||"")}),W})||[];return[z,...S]},v=async()=>{const{data:A}=await B.from("audit_logs").select("*, user_profiles(email, full_name)").order("created_at",{ascending:!1}).limit(1e3),_=["Timestamp","User","Email","Action","Resource Type","Resource ID","Reason","Old Value","New Value"],z=A?.map(S=>[new Date(S.created_at).toISOString(),S.user_profiles?.full_name||"Unknown",S.user_profiles?.email||"",S.action,S.resource_type,S.resource_id,S.reason||"",JSON.stringify(S.old_value||{}),JSON.stringify(S.new_value||{})])||[];return[_,...z]},b=async()=>{const{data:A}=await B.from("raw_evaluations").select("*, user_profiles(id, email, full_name)").eq("round_id",l).eq("is_draft",!1),_={};A?.forEach(E=>{if(!E.user_profiles)return;const W=E.user_profiles.id;_[W]||(_[W]={name:E.user_profiles.full_name||"Unnamed",email:E.user_profiles.email,evaluations:[],scores:[]}),_[W].evaluations.push(E),Object.values(E.scores||{}).forEach(N=>{_[W].scores.push(parseFloat(N)||0)})});const z=["Judge Name","Email","Evaluations","Mean Score","Std Dev","Min Score","Max Score"],S=Object.values(_).map(E=>{const W=E.scores.length>0?E.scores.reduce((ae,P)=>ae+P,0)/E.scores.length:0,N=E.scores.length>0?E.scores.reduce((ae,P)=>ae+Math.pow(P-W,2),0)/E.scores.length:0,J=Math.sqrt(N),oe=E.scores.length>0?Math.min(...E.scores):0,U=E.scores.length>0?Math.max(...E.scores):0;return[E.name,E.email,E.evaluations.length,W.toFixed(2),J.toFixed(2),oe.toFixed(2),U.toFixed(2)]});return[z,...S]},T=(A,_)=>{const z=A.map(W=>W.map(N=>{const J=String(N);return J.includes(",")||J.includes('"')||J.includes(`
`)?`"${J.replace(/"/g,'""')}"`:J}).join(",")).join(`
`),S=new Blob([z],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a");E.href=URL.createObjectURL(S),E.download=_,E.click(),URL.revokeObjectURL(E.href)},C=async A=>{const _=await x(),z=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${i} - Score Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; }
          h1 { color: #1e3a5f; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #e5e7eb; padding: 8px; text-align: left; }
          th { background: #f8fafc; }
          .footer { margin-top: 40px; font-size: 12px; color: #6b7280; }
        </style>
      </head>
      <body>
        <h1>${i}</h1>
        <h2>Final Score Results</h2>
        <p>Generated: ${new Date().toLocaleString()}</p>
        <table>
          <thead>
            <tr>${_[0].map(W=>`<th>${W}</th>`).join("")}</tr>
          </thead>
          <tbody>
            ${_.slice(1).map(W=>`<tr>${W.map(N=>`<td>${N}</td>`).join("")}</tr>`).join("")}
          </tbody>
        </table>
        <div class="footer">
          <p>This report was generated by FairScore using Z-score normalization.</p>
          <p>Scoring methodology: Each judge's scores are normalized to account for individual scoring patterns,
          ensuring fair comparison across all participants.</p>
        </div>
      </body>
      </html>
    `,S=new Blob([z],{type:"text/html"}),E=document.createElement("a");E.href=URL.createObjectURL(S),E.download=`${i.replace(/\s+/g,"_")}_report.html`,E.click(),URL.revokeObjectURL(E.href),alert("Report generated! For PDF format, please print the HTML file and save as PDF.")};return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",color:"#1e3a5f"},children:"Export Reports"}),t.jsx("p",{style:{margin:"8px 0 0",color:"#6b7280",fontSize:"14px"},children:"Download score data, audit logs, and transparency reports"})]}),h&&t.jsx("div",{style:{padding:"12px 16px",background:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"20px"},children:h}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:m.map(A=>t.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",padding:"20px",background:"#fff"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsx("h3",{style:{margin:0,fontSize:"16px",color:"#1e3a5f"},children:A.title}),t.jsx("span",{style:{padding:"4px 8px",background:A.format==="CSV"?"#dcfce7":"#dbeafe",color:A.format==="CSV"?"#16a34a":"#2563eb",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:A.format})]}),t.jsx("p",{style:{margin:"0 0 16px",color:"#6b7280",fontSize:"14px",lineHeight:1.5},children:A.description}),t.jsx("button",{onClick:()=>g(A.id),disabled:o===A.id,style:{width:"100%",padding:"10px 16px",background:o===A.id?"#9ca3af":"#2563eb",color:"#fff",border:"none",borderRadius:"6px",cursor:o===A.id?"not-allowed":"pointer",fontWeight:"600",fontSize:"14px"},children:o===A.id?"Exporting...":"Download"})]},A.id))}),t.jsxs("div",{style:{marginTop:"24px",padding:"20px",background:"#f8fafc",borderRadius:"8px"},children:[t.jsx("h4",{style:{margin:"0 0 12px",color:"#374151"},children:"About Exported Data"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#6b7280",fontSize:"14px",lineHeight:1.8},children:[t.jsx("li",{children:"All exports include timestamps and are suitable for archival purposes"}),t.jsx("li",{children:"CSV files can be opened in Excel, Google Sheets, or any spreadsheet application"}),t.jsx("li",{children:"Audit logs maintain a complete chain of custody for all scoring decisions"}),t.jsx("li",{children:"Reports are timestamped and include methodology explanations"})]})]})]})}function VS(){const{eventId:s}=oo(),{user:i}=qt(),[l,o]=w.useState(null),[d,h]=w.useState("scores"),[f,m]=w.useState(!0),[g,x]=w.useState([]),[p,v]=w.useState(null);w.useEffect(()=>{b()},[s]);const b=async()=>{try{const{data:C,error:A}=await B.from("events").select("*").eq("id",s).single();if(A)throw A;o(C);const{data:_,error:z}=await B.from("rounds").select("*").eq("event_id",s).order("round_number");!z&&_&&(x(_),_.length>0&&v(_[0].id))}catch(C){console.error("Failed to fetch event data:",C)}finally{m(!1)}},T=[{id:"scores",label:"Score Breakdown"},{id:"formula",label:"How Scoring Works"},{id:"judges",label:"Judge Analytics"},{id:"audit",label:"Audit Trail"},{id:"export",label:"Export Reports"}];return f?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",color:"#6b7280"},children:"Loading transparency dashboard..."}):l?t.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx(Il,{to:`/events/${s}`,style:{color:"#6b7280",textDecoration:"none",fontSize:"14px",display:"inline-flex",alignItems:"center",gap:"4px",marginBottom:"12px"},children:" Back to Event"}),t.jsx("h1",{style:{margin:0,fontSize:"28px",color:"#1e3a5f"},children:"Transparency Dashboard"}),t.jsxs("p",{style:{margin:"8px 0 0",color:"#6b7280",fontSize:"16px"},children:[l.name," - Complete scoring transparency and audit information"]})]}),g.length>1&&t.jsxs("div",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("label",{style:{fontWeight:"600",color:"#374151"},children:"Round:"}),t.jsx("select",{value:p||"",onChange:C=>v(C.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px",background:"#fff"},children:g.map(C=>t.jsxs("option",{value:C.id,children:["Round ",C.round_number,": ",C.name||`Round ${C.round_number}`]},C.id))})]}),t.jsx("div",{style:{display:"flex",gap:"4px",marginBottom:"24px",borderBottom:"1px solid #e5e7eb",overflowX:"auto"},children:T.map(C=>t.jsx("button",{onClick:()=>h(C.id),style:{padding:"12px 20px",border:"none",background:"none",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:d===C.id?"#2563eb":"#6b7280",borderBottom:d===C.id?"2px solid #2563eb":"2px solid transparent",whiteSpace:"nowrap",transition:"all 0.2s"},children:C.label},C.id))}),t.jsxs("div",{style:{background:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",minHeight:"500px"},children:[d==="scores"&&t.jsx(NS,{eventId:s,roundId:p}),d==="formula"&&t.jsx(MS,{}),d==="judges"&&t.jsx(OS,{eventId:s,roundId:p}),d==="audit"&&t.jsx(BS,{eventId:s}),d==="export"&&t.jsx(LS,{eventId:s,eventName:l.name,roundId:p})]})]}):t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#6b7280"},children:[t.jsx("h2",{children:"Event not found"}),t.jsx(Il,{to:"/events",style:{color:"#2563eb"},children:"Back to Events"})]})}function US(){const[s]=Ip(),i=yt(),{user:l,refreshProfile:o}=qt(),[d,h]=w.useState(null),[f,m]=w.useState(!0),[g,x]=w.useState(!1),[p,v]=w.useState(null),[b,T]=w.useState(!1),C=s.get("token");w.useEffect(()=>{C?A():(v("Invalid invitation link"),m(!1))},[C]);const A=async()=>{try{const S=await es.getInvitationByToken(C);S?S.status!=="pending"?v(`This invitation has already been ${S.status}`):new Date(S.expires_at)<new Date?v("This invitation has expired"):h(S):v("Invitation not found")}catch{v("Failed to load invitation")}finally{m(!1)}},_=async()=>{if(!l){i(`/login?redirect=/accept-invitation?token=${C}`);return}x(!0),v(null);try{const S=await es.acceptInvitation(C);S.success?(T(!0),await o(),setTimeout(()=>{i("/admin/events")},2e3)):v(S.error||"Failed to accept invitation")}catch(S){v(S.message||"Failed to accept invitation")}finally{x(!1)}},z=d?wa[d.role]:null;return f?t.jsx(k,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)"},children:t.jsx(at,{sx:{color:"#7c3aed"}})}):b?t.jsx(k,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)"},children:t.jsxs(zt,{sx:{maxWidth:500,width:"90%",borderRadius:"20px",boxShadow:"0 20px 60px rgba(0,0,0,0.12)",textAlign:"center",p:4},children:[t.jsx(Wt,{sx:{fontSize:80,color:"#10b981",mb:2}}),t.jsx(L,{variant:"h4",fontWeight:700,color:"#1e293b",mb:1,children:"Welcome Aboard!"}),t.jsxs(L,{color:"#64748b",mb:3,children:["You've successfully joined ",d?.organizations?.name]}),t.jsx(L,{color:"#9ca3af",fontSize:"0.9rem",children:"Redirecting to your dashboard..."})]})}):t.jsx(k,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)",p:3},children:t.jsxs(zt,{sx:{maxWidth:600,width:"100%",borderRadius:"20px",boxShadow:"0 20px 60px rgba(0,0,0,0.12)",overflow:"hidden"},children:[t.jsxs(k,{sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",p:4,textAlign:"center"},children:[t.jsx(L,{variant:"h4",fontWeight:700,color:"white",mb:1,children:"You're Invited!"}),t.jsx(L,{color:"#e0d4fc",children:"Join FairScore to collaborate on events"})]}),t.jsx(ro,{sx:{p:4},children:p?t.jsx(Oe,{severity:"error",icon:t.jsx(Ej,{}),sx:{mb:3},children:p}):d&&t.jsxs(t.Fragment,{children:[t.jsxs(k,{sx:{mb:4},children:[t.jsx(L,{color:"#64748b",fontSize:"0.85rem",mb:1,children:"Invited by"}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(k,{sx:{width:48,height:48,borderRadius:"50%",background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Kl,{sx:{color:"white"}})}),t.jsxs(k,{children:[t.jsx(L,{fontWeight:600,color:"#1e293b",children:d.user_profiles?.full_name||d.user_profiles?.email||"Admin"}),t.jsx(L,{color:"#64748b",fontSize:"0.9rem",children:d.organizations?.name})]})]})]}),d.message&&t.jsx(k,{sx:{background:"#f8fafc",borderLeft:"4px solid #7c3aed",p:2,borderRadius:"0 8px 8px 0",mb:4},children:t.jsxs(L,{color:"#4b5563",fontStyle:"italic",children:['"',d.message,'"']})}),t.jsx(lo,{sx:{my:3}}),t.jsxs(k,{sx:{mb:4},children:[t.jsx(L,{color:"#64748b",fontSize:"0.85rem",mb:1,children:"Your Role"}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(k,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:z?.color}}),t.jsx(L,{fontWeight:700,color:"#1e293b",fontSize:"1.1rem",children:z?.displayName})]}),t.jsx(L,{color:"#64748b",fontSize:"0.9rem",mt:.5,children:z?.description})]}),t.jsxs(k,{sx:{mb:4},children:[t.jsxs(L,{color:"#64748b",fontSize:"0.85rem",mb:1,children:["Event Access (",d.event_ids?.length||0," events)"]}),t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:d.event_ids?.map((S,E)=>t.jsx(fe,{icon:t.jsx(Xp,{}),label:`Event ${E+1}`,sx:{backgroundColor:"#f3e8ff",color:"#7c3aed",fontWeight:600}},S))})]}),t.jsxs(k,{sx:{display:"flex",gap:2},children:[t.jsx(se,{fullWidth:!0,variant:"outlined",onClick:()=>i("/"),sx:{textTransform:"none",py:1.5,fontWeight:600,borderRadius:"12px",borderColor:"#e2e8f0",color:"#64748b"},children:"Decline"}),t.jsx(se,{fullWidth:!0,variant:"contained",onClick:_,disabled:g,startIcon:g?t.jsx(at,{size:20,color:"inherit"}):null,sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",py:1.5,fontWeight:700,borderRadius:"12px",boxShadow:"0 4px 14px rgba(124, 58, 237, 0.3)","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)"}},children:g?"Accepting...":l?"Accept Invitation":"Sign In to Accept"})]}),!l&&t.jsxs(L,{color:"#9ca3af",fontSize:"0.85rem",textAlign:"center",mt:2,children:["Don't have an account?"," ",t.jsx(se,{onClick:()=>i(`/register?redirect=/accept-invitation?token=${C}`),sx:{textTransform:"none",p:0,minWidth:"auto"},children:"Sign up"})]})]})})]})})}function WS(){const s=yt(),[i,l]=w.useState([]),[o,d]=w.useState(!0),[h,f]=w.useState(null);w.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await es.getSharedEvents();l(x)}catch{f("Failed to load shared events")}finally{d(!1)}},g=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?t.jsxs(k,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)"},children:[t.jsx(ss,{}),t.jsx(k,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:t.jsx(at,{sx:{color:"#7c3aed"}})})]}):t.jsxs(k,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)"},children:[t.jsx(ss,{}),t.jsxs(k,{sx:{maxWidth:"1400px",mx:"auto",px:4,py:8},children:[t.jsxs(k,{sx:{mb:6},children:[t.jsx(L,{variant:"h3",sx:{fontWeight:800,background:"linear-gradient(135deg, #7c3aed 0%, #3b82f6 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1.5,fontSize:"2.5rem"},children:"Shared With Me"}),t.jsx(L,{variant:"body1",sx:{color:"#64748b",fontSize:"1.1rem"},children:"Events that have been shared with you by other organizations"})]}),h&&t.jsx(Oe,{severity:"error",sx:{mb:4},children:h}),i.length===0?t.jsxs(zt,{sx:{p:8,textAlign:"center",borderRadius:"20px",boxShadow:"0 10px 40px rgba(0,0,0,0.08)"},children:[t.jsx(Xp,{sx:{fontSize:64,color:"#cbd5e1",mb:2}}),t.jsx(L,{variant:"h5",fontWeight:700,color:"#1e293b",mb:1,children:"No Shared Events Yet"}),t.jsx(L,{color:"#64748b",children:"When someone shares an event with you, it will appear here."})]}):t.jsx(k,{sx:{display:"flex",flexWrap:"wrap",gap:3},children:i.map(x=>{const p=wa[x.role];return t.jsx(zt,{sx:{width:"360px",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",transition:"all 0.3s ease",cursor:"pointer","&:hover":{boxShadow:"0 12px 35px rgba(124, 58, 237, 0.2)",transform:"translateY(-4px)"}},onClick:()=>s(`/admin/event/${x.event_id}`),children:t.jsxs(ro,{sx:{p:3},children:[t.jsx(L,{variant:"h6",fontWeight:700,color:"#1e293b",mb:2,children:x.event_name}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[t.jsx(k,{sx:{width:32,height:32,borderRadius:"8px",background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Kl,{sx:{color:"white",fontSize:18}})}),t.jsxs(k,{children:[t.jsx(L,{fontSize:"0.85rem",color:"#64748b",children:"Shared by"}),t.jsx(L,{fontWeight:600,color:"#1e293b",fontSize:"0.9rem",children:x.shared_by_name||x.shared_by_email})]})]}),t.jsxs(L,{color:"#64748b",fontSize:"0.9rem",mb:2,children:["From: ",x.organization_name]}),t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(fe,{label:p?.displayName||x.role,size:"small",sx:{backgroundColor:p?.color+"20",color:p?.color,fontWeight:600}}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:.5,color:"#9ca3af"},children:[t.jsx(Rj,{sx:{fontSize:16}}),t.jsx(L,{fontSize:"0.8rem",children:g(x.granted_at)})]})]})]})},x.event_id)})})]})]})}const bu=w.createContext({});function ju(s){const i=w.useRef(null);return i.current===null&&(i.current=s()),i.current}const co=w.createContext(null),Su=w.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class qS extends w.Component{getSnapshotBeforeUpdate(i){const l=this.props.childRef.current;if(l&&i.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=l.offsetHeight||0,o.width=l.offsetWidth||0,o.top=l.offsetTop,o.left=l.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PS({children:s,isPresent:i}){const l=w.useId(),o=w.useRef(null),d=w.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=w.useContext(Su);return w.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:x}=d.current;if(i||!o.current||!f||!m)return;o.current.dataset.motionPopId=l;const p=document.createElement("style");return h&&(p.nonce=h),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            top: ${g}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[i]),t.jsx(qS,{isPresent:i,childRef:o,sizeRef:d,children:w.cloneElement(s,{ref:o})})}const HS=({children:s,initial:i,isPresent:l,onExitComplete:o,custom:d,presenceAffectsLayout:h,mode:f})=>{const m=ju(FS),g=w.useId(),x=w.useCallback(v=>{m.set(v,!0);for(const b of m.values())if(!b)return;o&&o()},[m,o]),p=w.useMemo(()=>({id:g,initial:i,isPresent:l,custom:d,onExitComplete:x,register:v=>(m.set(v,!1),()=>m.delete(v))}),h?[Math.random(),x]:[l,x]);return w.useMemo(()=>{m.forEach((v,b)=>m.set(b,!1))},[l]),w.useEffect(()=>{!l&&!m.size&&o&&o()},[l]),f==="popLayout"&&(s=t.jsx(PS,{isPresent:l,children:s})),t.jsx(co.Provider,{value:p,children:s})};function FS(){return new Map}function n0(s=!0){const i=w.useContext(co);if(i===null)return[!0,null];const{isPresent:l,onExitComplete:o,register:d}=i,h=w.useId();w.useEffect(()=>{s&&d(h)},[s]);const f=w.useCallback(()=>s&&o&&o(h),[h,o,s]);return!l&&o?[!1,f]:[!0]}const ql=s=>s.key||"";function Sx(s){const i=[];return w.Children.forEach(s,l=>{w.isValidElement(l)&&i.push(l)}),i}const wu=typeof window<"u",a0=wu?w.useLayoutEffect:w.useEffect,s0=({children:s,custom:i,initial:l=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:h="sync",propagate:f=!1})=>{const[m,g]=n0(f),x=w.useMemo(()=>Sx(s),[s]),p=f&&!m?[]:x.map(ql),v=w.useRef(!0),b=w.useRef(x),T=ju(()=>new Map),[C,A]=w.useState(x),[_,z]=w.useState(x);a0(()=>{v.current=!1,b.current=x;for(let W=0;W<_.length;W++){const N=ql(_[W]);p.includes(N)?T.delete(N):T.get(N)!==!0&&T.set(N,!1)}},[_,p.length,p.join("-")]);const S=[];if(x!==C){let W=[...x];for(let N=0;N<_.length;N++){const J=_[N],oe=ql(J);p.includes(oe)||(W.splice(N,0,J),S.push(J))}h==="wait"&&S.length&&(W=S),z(Sx(W)),A(x);return}const{forceRender:E}=w.useContext(bu);return t.jsx(t.Fragment,{children:_.map(W=>{const N=ql(W),J=f&&!m?!1:x===_||p.includes(N),oe=()=>{if(T.has(N))T.set(N,!0);else return;let U=!0;T.forEach(ae=>{ae||(U=!1)}),U&&(E?.(),z(b.current),f&&g?.(),o&&o())};return t.jsx(HS,{isPresent:J,initial:!v.current||l?void 0:!1,custom:J?void 0:i,presenceAffectsLayout:d,mode:h,onExitComplete:J?void 0:oe,children:W},N)})})},en=s=>s;let i0=en;function Tu(s){let i;return()=>(i===void 0&&(i=s()),i)}const Is=(s,i,l)=>{const o=i-s;return o===0?1:(l-s)/o},Zn=s=>s*1e3,Xn=s=>s/1e3,YS={useManualTiming:!1};function GS(s){let i=new Set,l=new Set,o=!1,d=!1;const h=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(x){h.has(x)&&(g.schedule(x),s()),x(f)}const g={schedule:(x,p=!1,v=!1)=>{const T=v&&o?i:l;return p&&h.add(x),T.has(x)||T.add(x),x},cancel:x=>{l.delete(x),h.delete(x)},process:x=>{if(f=x,o){d=!0;return}o=!0,[i,l]=[l,i],i.forEach(m),i.clear(),o=!1,d&&(d=!1,g.process(x))}};return g}const Pl=["read","resolveKeyframes","update","preRender","render","postRender"],JS=40;function r0(s,i){let l=!1,o=!0;const d={delta:0,timestamp:0,isProcessing:!1},h=()=>l=!0,f=Pl.reduce((z,S)=>(z[S]=GS(h),z),{}),{read:m,resolveKeyframes:g,update:x,preRender:p,render:v,postRender:b}=f,T=()=>{const z=performance.now();l=!1,d.delta=o?1e3/60:Math.max(Math.min(z-d.timestamp,JS),1),d.timestamp=z,d.isProcessing=!0,m.process(d),g.process(d),x.process(d),p.process(d),v.process(d),b.process(d),d.isProcessing=!1,l&&i&&(o=!1,s(T))},C=()=>{l=!0,o=!0,d.isProcessing||s(T)};return{schedule:Pl.reduce((z,S)=>{const E=f[S];return z[S]=(W,N=!1,J=!1)=>(l||C(),E.schedule(W,N,J)),z},{}),cancel:z=>{for(let S=0;S<Pl.length;S++)f[Pl[S]].cancel(z)},state:d,steps:f}}const{schedule:Ze,cancel:Ca,state:St,steps:Vd}=r0(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0),l0=w.createContext({strict:!1}),wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qs={};for(const s in wx)Qs[s]={isEnabled:i=>wx[s].some(l=>!!i[l])};function ZS(s){for(const i in s)Qs[i]={...Qs[i],...s[i]}}const XS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $l(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||XS.has(s)}let o0=s=>!$l(s);function KS(s){s&&(o0=i=>i.startsWith("on")?!$l(i):s(i))}try{KS(require("@emotion/is-prop-valid").default)}catch{}function IS(s,i,l){const o={};for(const d in s)d==="values"&&typeof s.values=="object"||(o0(d)||l===!0&&$l(d)||!i&&!$l(d)||s.draggable&&d.startsWith("onDrag"))&&(o[d]=s[d]);return o}function QS(s){if(typeof Proxy>"u")return s;const i=new Map,l=(...o)=>s(...o);return new Proxy(l,{get:(o,d)=>d==="create"?s:(i.has(d)||i.set(d,s(d)),i.get(d))})}const uo=w.createContext({});function xr(s){return typeof s=="string"||Array.isArray(s)}function fo(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const Cu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_u=["initial",...Cu];function ho(s){return fo(s.animate)||_u.some(i=>xr(s[i]))}function c0(s){return!!(ho(s)||s.variants)}function $S(s,i){if(ho(s)){const{initial:l,animate:o}=s;return{initial:l===!1||xr(l)?l:void 0,animate:xr(o)?o:void 0}}return s.inherit!==!1?i:{}}function e2(s){const{initial:i,animate:l}=$S(s,w.useContext(uo));return w.useMemo(()=>({initial:i,animate:l}),[Tx(i),Tx(l)])}function Tx(s){return Array.isArray(s)?s.join(" "):s}const t2=Symbol.for("motionComponentSymbol");function Ys(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function n2(s,i,l){return w.useCallback(o=>{o&&s.onMount&&s.onMount(o),i&&(o?i.mount(o):i.unmount()),l&&(typeof l=="function"?l(o):Ys(l)&&(l.current=o))},[i])}const Au=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),a2="framerAppearId",d0="data-"+Au(a2),{schedule:Eu}=r0(queueMicrotask,!1),u0=w.createContext({});function s2(s,i,l,o,d){var h,f;const{visualElement:m}=w.useContext(uo),g=w.useContext(l0),x=w.useContext(co),p=w.useContext(Su).reducedMotion,v=w.useRef(null);o=o||g.renderer,!v.current&&o&&(v.current=o(s,{visualState:i,parent:m,props:l,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:p}));const b=v.current,T=w.useContext(u0);b&&!b.projection&&d&&(b.type==="html"||b.type==="svg")&&i2(v.current,l,d,T);const C=w.useRef(!1);w.useInsertionEffect(()=>{b&&C.current&&b.update(l,x)});const A=l[d0],_=w.useRef(!!A&&!(!((h=window.MotionHandoffIsComplete)===null||h===void 0)&&h.call(window,A))&&((f=window.MotionHasOptimisedAnimation)===null||f===void 0?void 0:f.call(window,A)));return a0(()=>{b&&(C.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Eu.render(b.render),_.current&&b.animationState&&b.animationState.animateChanges())}),w.useEffect(()=>{b&&(!_.current&&b.animationState&&b.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)===null||z===void 0||z.call(window,A)}),_.current=!1))}),b}function i2(s,i,l,o){const{layoutId:d,layout:h,drag:f,dragConstraints:m,layoutScroll:g,layoutRoot:x}=i;s.projection=new l(s.latestValues,i["data-framer-portal-id"]?void 0:f0(s.parent)),s.projection.setOptions({layoutId:d,layout:h,alwaysMeasureLayout:!!f||m&&Ys(m),visualElement:s,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:x})}function f0(s){if(s)return s.options.allowProjection!==!1?s.projection:f0(s.parent)}function r2({preloadedFeatures:s,createVisualElement:i,useRender:l,useVisualState:o,Component:d}){var h,f;s&&ZS(s);function m(x,p){let v;const b={...w.useContext(Su),...x,layoutId:l2(x)},{isStatic:T}=b,C=e2(x),A=o(x,T);if(!T&&wu){o2();const _=c2(b);v=_.MeasureLayout,C.visualElement=s2(d,A,b,i,_.ProjectionNode)}return t.jsxs(uo.Provider,{value:C,children:[v&&C.visualElement?t.jsx(v,{visualElement:C.visualElement,...b}):null,l(d,x,n2(A,C.visualElement,p),A,T,C.visualElement)]})}m.displayName=`motion.${typeof d=="string"?d:`create(${(f=(h=d.displayName)!==null&&h!==void 0?h:d.name)!==null&&f!==void 0?f:""})`}`;const g=w.forwardRef(m);return g[t2]=d,g}function l2({layoutId:s}){const i=w.useContext(bu).id;return i&&s!==void 0?i+"-"+s:s}function o2(s,i){w.useContext(l0).strict}function c2(s){const{drag:i,layout:l}=Qs;if(!i&&!l)return{};const o={...i,...l};return{MeasureLayout:i?.isEnabled(s)||l?.isEnabled(s)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const d2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ru(s){return typeof s!="string"||s.includes("-")?!1:!!(d2.indexOf(s)>-1||/[A-Z]/u.test(s))}function Cx(s){const i=[{},{}];return s?.values.forEach((l,o)=>{i[0][o]=l.get(),i[1][o]=l.getVelocity()}),i}function zu(s,i,l,o){if(typeof i=="function"){const[d,h]=Cx(o);i=i(l!==void 0?l:s.custom,d,h)}if(typeof i=="string"&&(i=s.variants&&s.variants[i]),typeof i=="function"){const[d,h]=Cx(o);i=i(l!==void 0?l:s.custom,d,h)}return i}const eu=s=>Array.isArray(s),u2=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),f2=s=>eu(s)?s[s.length-1]||0:s,Et=s=>!!(s&&s.getVelocity);function Gl(s){const i=Et(s)?s.get():s;return u2(i)?i.toValue():i}function h2({scrapeMotionValuesFromProps:s,createRenderState:i,onUpdate:l},o,d,h){const f={latestValues:m2(o,d,h,s),renderState:i()};return l&&(f.onMount=m=>l({props:o,current:m,...f}),f.onUpdate=m=>l(m)),f}const h0=s=>(i,l)=>{const o=w.useContext(uo),d=w.useContext(co),h=()=>h2(s,i,o,d);return l?h():ju(h)};function m2(s,i,l,o){const d={},h=o(s,{});for(const b in h)d[b]=Gl(h[b]);let{initial:f,animate:m}=s;const g=ho(s),x=c0(s);i&&x&&!g&&s.inherit!==!1&&(f===void 0&&(f=i.initial),m===void 0&&(m=i.animate));let p=l?l.initial===!1:!1;p=p||f===!1;const v=p?m:f;if(v&&typeof v!="boolean"&&!fo(v)){const b=Array.isArray(v)?v:[v];for(let T=0;T<b.length;T++){const C=zu(s,b[T]);if(C){const{transitionEnd:A,transition:_,...z}=C;for(const S in z){let E=z[S];if(Array.isArray(E)){const W=p?E.length-1:0;E=E[W]}E!==null&&(d[S]=E)}for(const S in A)d[S]=A[S]}}}return d}const ti=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],is=new Set(ti),m0=s=>i=>typeof i=="string"&&i.startsWith(s),g0=m0("--"),g2=m0("var(--"),ku=s=>g2(s)?x2.test(s.split("/*")[0].trim()):!1,x2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,x0=(s,i)=>i&&typeof s=="number"?i.transform(s):s,Kn=(s,i,l)=>l>i?i:l<s?s:l,ni={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},pr={...ni,transform:s=>Kn(0,1,s)},Hl={...ni,default:1},jr=s=>({test:i=>typeof i=="string"&&i.endsWith(s)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${s}`}),Sa=jr("deg"),Rn=jr("%"),ve=jr("px"),p2=jr("vh"),y2=jr("vw"),_x={...Rn,parse:s=>Rn.parse(s)/100,transform:s=>Rn.transform(s*100)},v2={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},b2={rotate:Sa,rotateX:Sa,rotateY:Sa,rotateZ:Sa,scale:Hl,scaleX:Hl,scaleY:Hl,scaleZ:Hl,skew:Sa,skewX:Sa,skewY:Sa,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:pr,originX:_x,originY:_x,originZ:ve},Ax={...ni,transform:Math.round},Du={...v2,...b2,zIndex:Ax,size:ve,fillOpacity:pr,strokeOpacity:pr,numOctaves:Ax},j2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S2=ti.length;function w2(s,i,l){let o="",d=!0;for(let h=0;h<S2;h++){const f=ti[h],m=s[f];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(f.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||l){const x=x0(m,Du[f]);if(!g){d=!1;const p=j2[f]||f;o+=`${p}(${x}) `}l&&(i[f]=x)}}return o=o.trim(),l?o=l(i,d?"":o):d&&(o="none"),o}function Nu(s,i,l){const{style:o,vars:d,transformOrigin:h}=s;let f=!1,m=!1;for(const g in i){const x=i[g];if(is.has(g)){f=!0;continue}else if(g0(g)){d[g]=x;continue}else{const p=x0(x,Du[g]);g.startsWith("origin")?(m=!0,h[g]=p):o[g]=p}}if(i.transform||(f||l?o.transform=w2(i,s.transform,l):o.transform&&(o.transform="none")),m){const{originX:g="50%",originY:x="50%",originZ:p=0}=h;o.transformOrigin=`${g} ${x} ${p}`}}const T2={offset:"stroke-dashoffset",array:"stroke-dasharray"},C2={offset:"strokeDashoffset",array:"strokeDasharray"};function _2(s,i,l=1,o=0,d=!0){s.pathLength=1;const h=d?T2:C2;s[h.offset]=ve.transform(-o);const f=ve.transform(i),m=ve.transform(l);s[h.array]=`${f} ${m}`}function Ex(s,i,l){return typeof s=="string"?s:ve.transform(i+l*s)}function A2(s,i,l){const o=Ex(i,s.x,s.width),d=Ex(l,s.y,s.height);return`${o} ${d}`}function Mu(s,{attrX:i,attrY:l,attrScale:o,originX:d,originY:h,pathLength:f,pathSpacing:m=1,pathOffset:g=0,...x},p,v){if(Nu(s,x,v),p){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:T,dimensions:C}=s;b.transform&&(C&&(T.transform=b.transform),delete b.transform),C&&(d!==void 0||h!==void 0||T.transform)&&(T.transformOrigin=A2(C,d!==void 0?d:.5,h!==void 0?h:.5)),i!==void 0&&(b.x=i),l!==void 0&&(b.y=l),o!==void 0&&(b.scale=o),f!==void 0&&_2(b,f,m,g,!1)}const Ou=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),p0=()=>({...Ou(),attrs:{}}),Bu=s=>typeof s=="string"&&s.toLowerCase()==="svg";function y0(s,{style:i,vars:l},o,d){Object.assign(s.style,i,d&&d.getProjectionStyles(o));for(const h in l)s.style.setProperty(h,l[h])}const v0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b0(s,i,l,o){y0(s,i,void 0,o);for(const d in i.attrs)s.setAttribute(v0.has(d)?d:Au(d),i.attrs[d])}const eo={};function E2(s){Object.assign(eo,s)}function j0(s,{layout:i,layoutId:l}){return is.has(s)||s.startsWith("origin")||(i||l!==void 0)&&(!!eo[s]||s==="opacity")}function Lu(s,i,l){var o;const{style:d}=s,h={};for(const f in d)(Et(d[f])||i.style&&Et(i.style[f])||j0(f,s)||((o=l?.getValue(f))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(h[f]=d[f]);return h}function S0(s,i,l){const o=Lu(s,i,l);for(const d in s)if(Et(s[d])||Et(i[d])){const h=ti.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;o[h]=s[d]}return o}function R2(s,i){try{i.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}const Rx=["x","y","width","height","cx","cy","r"],z2={useVisualState:h0({scrapeMotionValuesFromProps:S0,createRenderState:p0,onUpdate:({props:s,prevProps:i,current:l,renderState:o,latestValues:d})=>{if(!l)return;let h=!!s.drag;if(!h){for(const m in d)if(is.has(m)){h=!0;break}}if(!h)return;let f=!i;if(i)for(let m=0;m<Rx.length;m++){const g=Rx[m];s[g]!==i[g]&&(f=!0)}f&&Ze.read(()=>{R2(l,o),Ze.render(()=>{Mu(o,d,Bu(l.tagName),s.transformTemplate),b0(l,o)})})}})},k2={useVisualState:h0({scrapeMotionValuesFromProps:Lu,createRenderState:Ou})};function w0(s,i,l){for(const o in i)!Et(i[o])&&!j0(o,l)&&(s[o]=i[o])}function D2({transformTemplate:s},i){return w.useMemo(()=>{const l=Ou();return Nu(l,i,s),Object.assign({},l.vars,l.style)},[i])}function N2(s,i){const l=s.style||{},o={};return w0(o,l,s),Object.assign(o,D2(s,i)),o}function M2(s,i){const l={},o=N2(s,i);return s.drag&&s.dragListener!==!1&&(l.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(l.tabIndex=0),l.style=o,l}function O2(s,i,l,o){const d=w.useMemo(()=>{const h=p0();return Mu(h,i,Bu(o),s.transformTemplate),{...h.attrs,style:{...h.style}}},[i]);if(s.style){const h={};w0(h,s.style,s),d.style={...h,...d.style}}return d}function B2(s=!1){return(l,o,d,{latestValues:h},f)=>{const g=(Ru(l)?O2:M2)(o,h,f,l),x=IS(o,typeof l=="string",s),p=l!==w.Fragment?{...x,...g,ref:d}:{},{children:v}=o,b=w.useMemo(()=>Et(v)?v.get():v,[v]);return w.createElement(l,{...p,children:b})}}function L2(s,i){return function(o,{forwardMotionProps:d}={forwardMotionProps:!1}){const f={...Ru(o)?z2:k2,preloadedFeatures:s,useRender:B2(d),createVisualElement:i,Component:o};return r2(f)}}function T0(s,i){if(!Array.isArray(i))return!1;const l=i.length;if(l!==s.length)return!1;for(let o=0;o<l;o++)if(i[o]!==s[o])return!1;return!0}function mo(s,i,l){const o=s.getProps();return zu(o,i,l!==void 0?l:o.custom,s)}const V2=Tu(()=>window.ScrollTimeline!==void 0);class U2{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>"finished"in i?i.finished:i))}getAll(i){return this.animations[0][i]}setAll(i,l){for(let o=0;o<this.animations.length;o++)this.animations[o][i]=l}attachTimeline(i,l){const o=this.animations.map(d=>{if(V2()&&d.attachTimeline)return d.attachTimeline(i);if(typeof l=="function")return l(d)});return()=>{o.forEach((d,h)=>{d&&d(),this.animations[h].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let l=0;l<this.animations.length;l++)i=Math.max(i,this.animations[l].duration);return i}runAll(i){this.animations.forEach(l=>l[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class W2 extends U2{then(i,l){return Promise.all(this.animations).then(i).catch(l)}}function Vu(s,i){return s?s[i]||s.default||s:void 0}const tu=2e4;function C0(s){let i=0;const l=50;let o=s.next(i);for(;!o.done&&i<tu;)i+=l,o=s.next(i);return i>=tu?1/0:i}function Uu(s){return typeof s=="function"}function zx(s,i){s.timeline=i,s.onfinish=null}const Wu=s=>Array.isArray(s)&&typeof s[0]=="number",q2={linearEasing:void 0};function P2(s,i){const l=Tu(s);return()=>{var o;return(o=q2[i])!==null&&o!==void 0?o:l()}}const to=P2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_0=(s,i,l=10)=>{let o="";const d=Math.max(Math.round(i/l),2);for(let h=0;h<d;h++)o+=s(Is(0,d-1,h))+", ";return`linear(${o.substring(0,o.length-2)})`};function A0(s){return!!(typeof s=="function"&&to()||!s||typeof s=="string"&&(s in nu||to())||Wu(s)||Array.isArray(s)&&s.every(A0))}const ir=([s,i,l,o])=>`cubic-bezier(${s}, ${i}, ${l}, ${o})`,nu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ir([0,.65,.55,1]),circOut:ir([.55,0,1,.45]),backIn:ir([.31,.01,.66,-.59]),backOut:ir([.33,1.53,.69,.99])};function E0(s,i){if(s)return typeof s=="function"&&to()?_0(s,i):Wu(s)?ir(s):Array.isArray(s)?s.map(l=>E0(l,i)||nu.easeOut):nu[s]}const bn={x:!1,y:!1};function R0(){return bn.x||bn.y}function H2(s,i,l){var o;if(s instanceof Element)return[s];if(typeof s=="string"){let d=document;const h=(o=void 0)!==null&&o!==void 0?o:d.querySelectorAll(s);return h?Array.from(h):[]}return Array.from(s)}function z0(s,i){const l=H2(s),o=new AbortController,d={passive:!0,...i,signal:o.signal};return[l,d,()=>o.abort()]}function kx(s){return i=>{i.pointerType==="touch"||R0()||s(i)}}function F2(s,i,l={}){const[o,d,h]=z0(s,l),f=kx(m=>{const{target:g}=m,x=i(m);if(typeof x!="function"||!g)return;const p=kx(v=>{x(v),g.removeEventListener("pointerleave",p)});g.addEventListener("pointerleave",p,d)});return o.forEach(m=>{m.addEventListener("pointerenter",f,d)}),h}const k0=(s,i)=>i?s===i?!0:k0(s,i.parentElement):!1,qu=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,Y2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G2(s){return Y2.has(s.tagName)||s.tabIndex!==-1}const rr=new WeakSet;function Dx(s){return i=>{i.key==="Enter"&&s(i)}}function Ud(s,i){s.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const J2=(s,i)=>{const l=s.currentTarget;if(!l)return;const o=Dx(()=>{if(rr.has(l))return;Ud(l,"down");const d=Dx(()=>{Ud(l,"up")}),h=()=>Ud(l,"cancel");l.addEventListener("keyup",d,i),l.addEventListener("blur",h,i)});l.addEventListener("keydown",o,i),l.addEventListener("blur",()=>l.removeEventListener("keydown",o),i)};function Nx(s){return qu(s)&&!R0()}function Z2(s,i,l={}){const[o,d,h]=z0(s,l),f=m=>{const g=m.currentTarget;if(!Nx(m)||rr.has(g))return;rr.add(g);const x=i(m),p=(T,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!Nx(T)||!rr.has(g))&&(rr.delete(g),typeof x=="function"&&x(T,{success:C}))},v=T=>{p(T,l.useGlobalTarget||k0(g,T.target))},b=T=>{p(T,!1)};window.addEventListener("pointerup",v,d),window.addEventListener("pointercancel",b,d)};return o.forEach(m=>{!G2(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(l.useGlobalTarget?window:m).addEventListener("pointerdown",f,d),m.addEventListener("focus",x=>J2(x,d),d)}),h}function X2(s){return s==="x"||s==="y"?bn[s]?null:(bn[s]=!0,()=>{bn[s]=!1}):bn.x||bn.y?null:(bn.x=bn.y=!0,()=>{bn.x=bn.y=!1})}const D0=new Set(["width","height","top","left","right","bottom",...ti]);let Jl;function K2(){Jl=void 0}const zn={now:()=>(Jl===void 0&&zn.set(St.isProcessing||YS.useManualTiming?St.timestamp:performance.now()),Jl),set:s=>{Jl=s,queueMicrotask(K2)}};function Pu(s,i){s.indexOf(i)===-1&&s.push(i)}function Hu(s,i){const l=s.indexOf(i);l>-1&&s.splice(l,1)}class Fu{constructor(){this.subscriptions=[]}add(i){return Pu(this.subscriptions,i),()=>Hu(this.subscriptions,i)}notify(i,l,o){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](i,l,o);else for(let h=0;h<d;h++){const f=this.subscriptions[h];f&&f(i,l,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function N0(s,i){return i?s*(1e3/i):0}const Mx=30,I2=s=>!isNaN(parseFloat(s));class Q2{constructor(i,l={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,d=!0)=>{const h=zn.now();this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),d&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=l.owner}setCurrent(i){this.current=i,this.updatedAt=zn.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=I2(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,l){this.events[i]||(this.events[i]=new Fu);const o=this.events[i].add(l);return i==="change"?()=>{o(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,l){this.passiveEffect=i,this.stopPassiveEffect=l}set(i,l=!0){!l||!this.passiveEffect?this.updateAndNotify(i,l):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,l,o){this.set(l),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,l=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>Mx)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,Mx);return N0(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(i){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=i(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yr(s,i){return new Q2(s,i)}function $2(s,i,l){s.hasValue(i)?s.getValue(i).set(l):s.addValue(i,yr(l))}function ew(s,i){const l=mo(s,i);let{transitionEnd:o={},transition:d={},...h}=l||{};h={...h,...o};for(const f in h){const m=f2(h[f]);$2(s,f,m)}}function tw(s){return!!(Et(s)&&s.add)}function au(s,i){const l=s.getValue("willChange");if(tw(l))return l.add(i)}function M0(s){return s.props[d0]}const O0=(s,i,l)=>(((1-3*l+3*i)*s+(3*l-6*i))*s+3*i)*s,nw=1e-7,aw=12;function sw(s,i,l,o,d){let h,f,m=0;do f=i+(l-i)/2,h=O0(f,o,d)-s,h>0?l=f:i=f;while(Math.abs(h)>nw&&++m<aw);return f}function Sr(s,i,l,o){if(s===i&&l===o)return en;const d=h=>sw(h,0,1,s,l);return h=>h===0||h===1?h:O0(d(h),i,o)}const B0=s=>i=>i<=.5?s(2*i)/2:(2-s(2*(1-i)))/2,L0=s=>i=>1-s(1-i),V0=Sr(.33,1.53,.69,.99),Yu=L0(V0),U0=B0(Yu),W0=s=>(s*=2)<1?.5*Yu(s):.5*(2-Math.pow(2,-10*(s-1))),Gu=s=>1-Math.sin(Math.acos(s)),q0=L0(Gu),P0=B0(Gu),H0=s=>/^0[^.\s]+$/u.test(s);function iw(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||H0(s):!0}const or=s=>Math.round(s*1e5)/1e5,Ju=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rw(s){return s==null}const lw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zu=(s,i)=>l=>!!(typeof l=="string"&&lw.test(l)&&l.startsWith(s)||i&&!rw(l)&&Object.prototype.hasOwnProperty.call(l,i)),F0=(s,i,l)=>o=>{if(typeof o!="string")return o;const[d,h,f,m]=o.match(Ju);return{[s]:parseFloat(d),[i]:parseFloat(h),[l]:parseFloat(f),alpha:m!==void 0?parseFloat(m):1}},ow=s=>Kn(0,255,s),Wd={...ni,transform:s=>Math.round(ow(s))},$a={test:Zu("rgb","red"),parse:F0("red","green","blue"),transform:({red:s,green:i,blue:l,alpha:o=1})=>"rgba("+Wd.transform(s)+", "+Wd.transform(i)+", "+Wd.transform(l)+", "+or(pr.transform(o))+")"};function cw(s){let i="",l="",o="",d="";return s.length>5?(i=s.substring(1,3),l=s.substring(3,5),o=s.substring(5,7),d=s.substring(7,9)):(i=s.substring(1,2),l=s.substring(2,3),o=s.substring(3,4),d=s.substring(4,5),i+=i,l+=l,o+=o,d+=d),{red:parseInt(i,16),green:parseInt(l,16),blue:parseInt(o,16),alpha:d?parseInt(d,16)/255:1}}const su={test:Zu("#"),parse:cw,transform:$a.transform},Gs={test:Zu("hsl","hue"),parse:F0("hue","saturation","lightness"),transform:({hue:s,saturation:i,lightness:l,alpha:o=1})=>"hsla("+Math.round(s)+", "+Rn.transform(or(i))+", "+Rn.transform(or(l))+", "+or(pr.transform(o))+")"},At={test:s=>$a.test(s)||su.test(s)||Gs.test(s),parse:s=>$a.test(s)?$a.parse(s):Gs.test(s)?Gs.parse(s):su.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?$a.transform(s):Gs.transform(s)},dw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uw(s){var i,l;return isNaN(s)&&typeof s=="string"&&(((i=s.match(Ju))===null||i===void 0?void 0:i.length)||0)+(((l=s.match(dw))===null||l===void 0?void 0:l.length)||0)>0}const Y0="number",G0="color",fw="var",hw="var(",Ox="${}",mw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vr(s){const i=s.toString(),l=[],o={color:[],number:[],var:[]},d=[];let h=0;const m=i.replace(mw,g=>(At.test(g)?(o.color.push(h),d.push(G0),l.push(At.parse(g))):g.startsWith(hw)?(o.var.push(h),d.push(fw),l.push(g)):(o.number.push(h),d.push(Y0),l.push(parseFloat(g))),++h,Ox)).split(Ox);return{values:l,split:m,indexes:o,types:d}}function J0(s){return vr(s).values}function Z0(s){const{split:i,types:l}=vr(s),o=i.length;return d=>{let h="";for(let f=0;f<o;f++)if(h+=i[f],d[f]!==void 0){const m=l[f];m===Y0?h+=or(d[f]):m===G0?h+=At.transform(d[f]):h+=d[f]}return h}}const gw=s=>typeof s=="number"?0:s;function xw(s){const i=J0(s);return Z0(s)(i.map(gw))}const _a={test:uw,parse:J0,createTransformer:Z0,getAnimatableNone:xw},pw=new Set(["brightness","contrast","saturate","opacity"]);function yw(s){const[i,l]=s.slice(0,-1).split("(");if(i==="drop-shadow")return s;const[o]=l.match(Ju)||[];if(!o)return s;const d=l.replace(o,"");let h=pw.has(i)?1:0;return o!==l&&(h*=100),i+"("+h+d+")"}const vw=/\b([a-z-]*)\(.*?\)/gu,iu={..._a,getAnimatableNone:s=>{const i=s.match(vw);return i?i.map(yw).join(" "):s}},bw={...Du,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:iu,WebkitFilter:iu},Xu=s=>bw[s];function X0(s,i){let l=Xu(s);return l!==iu&&(l=_a),l.getAnimatableNone?l.getAnimatableNone(i):void 0}const jw=new Set(["auto","none","0"]);function Sw(s,i,l){let o=0,d;for(;o<s.length&&!d;){const h=s[o];typeof h=="string"&&!jw.has(h)&&vr(h).values.length&&(d=s[o]),o++}if(d&&l)for(const h of i)s[h]=X0(l,d)}const Bx=s=>s===ni||s===ve,Lx=(s,i)=>parseFloat(s.split(", ")[i]),Vx=(s,i)=>(l,{transform:o})=>{if(o==="none"||!o)return 0;const d=o.match(/^matrix3d\((.+)\)$/u);if(d)return Lx(d[1],i);{const h=o.match(/^matrix\((.+)\)$/u);return h?Lx(h[1],s):0}},ww=new Set(["x","y","z"]),Tw=ti.filter(s=>!ww.has(s));function Cw(s){const i=[];return Tw.forEach(l=>{const o=s.getValue(l);o!==void 0&&(i.push([l,o.get()]),o.set(l.startsWith("scale")?1:0))}),i}const $s={width:({x:s},{paddingLeft:i="0",paddingRight:l="0"})=>s.max-s.min-parseFloat(i)-parseFloat(l),height:({y:s},{paddingTop:i="0",paddingBottom:l="0"})=>s.max-s.min-parseFloat(i)-parseFloat(l),top:(s,{top:i})=>parseFloat(i),left:(s,{left:i})=>parseFloat(i),bottom:({y:s},{top:i})=>parseFloat(i)+(s.max-s.min),right:({x:s},{left:i})=>parseFloat(i)+(s.max-s.min),x:Vx(4,13),y:Vx(5,14)};$s.translateX=$s.x;$s.translateY=$s.y;const ts=new Set;let ru=!1,lu=!1;function K0(){if(lu){const s=Array.from(ts).filter(o=>o.needsMeasurement),i=new Set(s.map(o=>o.element)),l=new Map;i.forEach(o=>{const d=Cw(o);d.length&&(l.set(o,d),o.render())}),s.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const d=l.get(o);d&&d.forEach(([h,f])=>{var m;(m=o.getValue(h))===null||m===void 0||m.set(f)})}),s.forEach(o=>o.measureEndState()),s.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}lu=!1,ru=!1,ts.forEach(s=>s.complete()),ts.clear()}function I0(){ts.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(lu=!0)})}function _w(){I0(),K0()}class Ku{constructor(i,l,o,d,h,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=l,this.name=o,this.motionValue=d,this.element=h,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ts.add(this),ru||(ru=!0,Ze.read(I0),Ze.resolveKeyframes(K0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:l,element:o,motionValue:d}=this;for(let h=0;h<i.length;h++)if(i[h]===null)if(h===0){const f=d?.get(),m=i[i.length-1];if(f!==void 0)i[0]=f;else if(o&&l){const g=o.readValue(l,m);g!=null&&(i[0]=g)}i[0]===void 0&&(i[0]=m),d&&f===void 0&&d.set(i[0])}else i[h]=i[h-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ts.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ts.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Q0=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),Aw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ew(s){const i=Aw.exec(s);if(!i)return[,];const[,l,o,d]=i;return[`--${l??o}`,d]}function $0(s,i,l=1){const[o,d]=Ew(s);if(!o)return;const h=window.getComputedStyle(i).getPropertyValue(o);if(h){const f=h.trim();return Q0(f)?parseFloat(f):f}return ku(d)?$0(d,i,l+1):d}const ey=s=>i=>i.test(s),Rw={test:s=>s==="auto",parse:s=>s},ty=[ni,ve,Rn,Sa,y2,p2,Rw],Ux=s=>ty.find(ey(s));class ny extends Ku{constructor(i,l,o,d,h){super(i,l,o,d,h,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:l,name:o}=this;if(!l||!l.current)return;super.readKeyframes();for(let g=0;g<i.length;g++){let x=i[g];if(typeof x=="string"&&(x=x.trim(),ku(x))){const p=$0(x,l.current);p!==void 0&&(i[g]=p),g===i.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!D0.has(o)||i.length!==2)return;const[d,h]=i,f=Ux(d),m=Ux(h);if(f!==m)if(Bx(f)&&Bx(m))for(let g=0;g<i.length;g++){const x=i[g];typeof x=="string"&&(i[g]=parseFloat(x))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:l}=this,o=[];for(let d=0;d<i.length;d++)iw(i[d])&&o.push(d);o.length&&Sw(i,o,l)}measureInitialState(){const{element:i,unresolvedKeyframes:l,name:o}=this;if(!i||!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$s[o](i.measureViewportBox(),window.getComputedStyle(i.current)),l[0]=this.measuredOrigin;const d=l[l.length-1];d!==void 0&&i.getValue(o,d).jump(d,!1)}measureEndState(){var i;const{element:l,name:o,unresolvedKeyframes:d}=this;if(!l||!l.current)return;const h=l.getValue(o);h&&h.jump(this.measuredOrigin,!1);const f=d.length-1,m=d[f];d[f]=$s[o](l.measureViewportBox(),window.getComputedStyle(l.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((i=this.removedTransforms)===null||i===void 0)&&i.length&&this.removedTransforms.forEach(([g,x])=>{l.getValue(g).set(x)}),this.resolveNoneKeyframes()}}const Wx=(s,i)=>i==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(_a.test(s)||s==="0")&&!s.startsWith("url("));function zw(s){const i=s[0];if(s.length===1)return!0;for(let l=0;l<s.length;l++)if(s[l]!==i)return!0}function kw(s,i,l,o){const d=s[0];if(d===null)return!1;if(i==="display"||i==="visibility")return!0;const h=s[s.length-1],f=Wx(d,i),m=Wx(h,i);return!f||!m?!1:zw(s)||(l==="spring"||Uu(l))&&o}const Dw=s=>s!==null;function go(s,{repeat:i,repeatType:l="loop"},o){const d=s.filter(Dw),h=i&&l!=="loop"&&i%2===1?0:d.length-1;return!h||o===void 0?d[h]:o}const Nw=40;class ay{constructor({autoplay:i=!0,delay:l=0,type:o="keyframes",repeat:d=0,repeatDelay:h=0,repeatType:f="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zn.now(),this.options={autoplay:i,delay:l,type:o,repeat:d,repeatDelay:h,repeatType:f,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Nw?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_w(),this._resolved}onKeyframesResolved(i,l){this.resolvedAt=zn.now(),this.hasAttemptedResolve=!0;const{name:o,type:d,velocity:h,delay:f,onComplete:m,onUpdate:g,isGenerator:x}=this.options;if(!x&&!kw(i,o,d,h))if(f)this.options.duration=0;else{g&&g(go(i,this.options,l)),m&&m(),this.resolveFinishedPromise();return}const p=this.initPlayback(i,l);p!==!1&&(this._resolved={keyframes:i,finalKeyframe:l,...p},this.onPostResolved())}onPostResolved(){}then(i,l){return this.currentFinishedPromise.then(i,l)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const Ie=(s,i,l)=>s+(i-s)*l;function qd(s,i,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?s+(i-s)*6*l:l<1/2?i:l<2/3?s+(i-s)*(2/3-l)*6:s}function Mw({hue:s,saturation:i,lightness:l,alpha:o}){s/=360,i/=100,l/=100;let d=0,h=0,f=0;if(!i)d=h=f=l;else{const m=l<.5?l*(1+i):l+i-l*i,g=2*l-m;d=qd(g,m,s+1/3),h=qd(g,m,s),f=qd(g,m,s-1/3)}return{red:Math.round(d*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:o}}function no(s,i){return l=>l>0?i:s}const Pd=(s,i,l)=>{const o=s*s,d=l*(i*i-o)+o;return d<0?0:Math.sqrt(d)},Ow=[su,$a,Gs],Bw=s=>Ow.find(i=>i.test(s));function qx(s){const i=Bw(s);if(!i)return!1;let l=i.parse(s);return i===Gs&&(l=Mw(l)),l}const Px=(s,i)=>{const l=qx(s),o=qx(i);if(!l||!o)return no(s,i);const d={...l};return h=>(d.red=Pd(l.red,o.red,h),d.green=Pd(l.green,o.green,h),d.blue=Pd(l.blue,o.blue,h),d.alpha=Ie(l.alpha,o.alpha,h),$a.transform(d))},Lw=(s,i)=>l=>i(s(l)),wr=(...s)=>s.reduce(Lw),ou=new Set(["none","hidden"]);function Vw(s,i){return ou.has(s)?l=>l<=0?s:i:l=>l>=1?i:s}function Uw(s,i){return l=>Ie(s,i,l)}function Iu(s){return typeof s=="number"?Uw:typeof s=="string"?ku(s)?no:At.test(s)?Px:Pw:Array.isArray(s)?sy:typeof s=="object"?At.test(s)?Px:Ww:no}function sy(s,i){const l=[...s],o=l.length,d=s.map((h,f)=>Iu(h)(h,i[f]));return h=>{for(let f=0;f<o;f++)l[f]=d[f](h);return l}}function Ww(s,i){const l={...s,...i},o={};for(const d in l)s[d]!==void 0&&i[d]!==void 0&&(o[d]=Iu(s[d])(s[d],i[d]));return d=>{for(const h in o)l[h]=o[h](d);return l}}function qw(s,i){var l;const o=[],d={color:0,var:0,number:0};for(let h=0;h<i.values.length;h++){const f=i.types[h],m=s.indexes[f][d[f]],g=(l=s.values[m])!==null&&l!==void 0?l:0;o[h]=g,d[f]++}return o}const Pw=(s,i)=>{const l=_a.createTransformer(i),o=vr(s),d=vr(i);return o.indexes.var.length===d.indexes.var.length&&o.indexes.color.length===d.indexes.color.length&&o.indexes.number.length>=d.indexes.number.length?ou.has(s)&&!d.values.length||ou.has(i)&&!o.values.length?Vw(s,i):wr(sy(qw(o,d),d.values),l):no(s,i)};function iy(s,i,l){return typeof s=="number"&&typeof i=="number"&&typeof l=="number"?Ie(s,i,l):Iu(s)(s,i)}const Hw=5;function ry(s,i,l){const o=Math.max(i-Hw,0);return N0(l-s(o),i-o)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hd=.001;function Fw({duration:s=tt.duration,bounce:i=tt.bounce,velocity:l=tt.velocity,mass:o=tt.mass}){let d,h,f=1-i;f=Kn(tt.minDamping,tt.maxDamping,f),s=Kn(tt.minDuration,tt.maxDuration,Xn(s)),f<1?(d=x=>{const p=x*f,v=p*s,b=p-l,T=cu(x,f),C=Math.exp(-v);return Hd-b/T*C},h=x=>{const v=x*f*s,b=v*l+l,T=Math.pow(f,2)*Math.pow(x,2)*s,C=Math.exp(-v),A=cu(Math.pow(x,2),f);return(-d(x)+Hd>0?-1:1)*((b-T)*C)/A}):(d=x=>{const p=Math.exp(-x*s),v=(x-l)*s+1;return-Hd+p*v},h=x=>{const p=Math.exp(-x*s),v=(l-x)*(s*s);return p*v});const m=5/s,g=Gw(d,h,m);if(s=Zn(s),isNaN(g))return{stiffness:tt.stiffness,damping:tt.damping,duration:s};{const x=Math.pow(g,2)*o;return{stiffness:x,damping:f*2*Math.sqrt(o*x),duration:s}}}const Yw=12;function Gw(s,i,l){let o=l;for(let d=1;d<Yw;d++)o=o-s(o)/i(o);return o}function cu(s,i){return s*Math.sqrt(1-i*i)}const Jw=["duration","bounce"],Zw=["stiffness","damping","mass"];function Hx(s,i){return i.some(l=>s[l]!==void 0)}function Xw(s){let i={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...s};if(!Hx(s,Zw)&&Hx(s,Jw))if(s.visualDuration){const l=s.visualDuration,o=2*Math.PI/(l*1.2),d=o*o,h=2*Kn(.05,1,1-(s.bounce||0))*Math.sqrt(d);i={...i,mass:tt.mass,stiffness:d,damping:h}}else{const l=Fw(s);i={...i,...l,mass:tt.mass},i.isResolvedFromDuration=!0}return i}function ly(s=tt.visualDuration,i=tt.bounce){const l=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:i}:s;let{restSpeed:o,restDelta:d}=l;const h=l.keyframes[0],f=l.keyframes[l.keyframes.length-1],m={done:!1,value:h},{stiffness:g,damping:x,mass:p,duration:v,velocity:b,isResolvedFromDuration:T}=Xw({...l,velocity:-Xn(l.velocity||0)}),C=b||0,A=x/(2*Math.sqrt(g*p)),_=f-h,z=Xn(Math.sqrt(g/p)),S=Math.abs(_)<5;o||(o=S?tt.restSpeed.granular:tt.restSpeed.default),d||(d=S?tt.restDelta.granular:tt.restDelta.default);let E;if(A<1){const N=cu(z,A);E=J=>{const oe=Math.exp(-A*z*J);return f-oe*((C+A*z*_)/N*Math.sin(N*J)+_*Math.cos(N*J))}}else if(A===1)E=N=>f-Math.exp(-z*N)*(_+(C+z*_)*N);else{const N=z*Math.sqrt(A*A-1);E=J=>{const oe=Math.exp(-A*z*J),U=Math.min(N*J,300);return f-oe*((C+A*z*_)*Math.sinh(U)+N*_*Math.cosh(U))/N}}const W={calculatedDuration:T&&v||null,next:N=>{const J=E(N);if(T)m.done=N>=v;else{let oe=0;A<1&&(oe=N===0?Zn(C):ry(E,N,J));const U=Math.abs(oe)<=o,ae=Math.abs(f-J)<=d;m.done=U&&ae}return m.value=m.done?f:J,m},toString:()=>{const N=Math.min(C0(W),tu),J=_0(oe=>W.next(N*oe).value,N,30);return N+"ms "+J}};return W}function Fx({keyframes:s,velocity:i=0,power:l=.8,timeConstant:o=325,bounceDamping:d=10,bounceStiffness:h=500,modifyTarget:f,min:m,max:g,restDelta:x=.5,restSpeed:p}){const v=s[0],b={done:!1,value:v},T=U=>m!==void 0&&U<m||g!==void 0&&U>g,C=U=>m===void 0?g:g===void 0||Math.abs(m-U)<Math.abs(g-U)?m:g;let A=l*i;const _=v+A,z=f===void 0?_:f(_);z!==_&&(A=z-v);const S=U=>-A*Math.exp(-U/o),E=U=>z+S(U),W=U=>{const ae=S(U),P=E(U);b.done=Math.abs(ae)<=x,b.value=b.done?z:P};let N,J;const oe=U=>{T(b.value)&&(N=U,J=ly({keyframes:[b.value,C(b.value)],velocity:ry(E,U,b.value),damping:d,stiffness:h,restDelta:x,restSpeed:p}))};return oe(0),{calculatedDuration:null,next:U=>{let ae=!1;return!J&&N===void 0&&(ae=!0,W(U),oe(U)),N!==void 0&&U>=N?J.next(U-N):(!ae&&W(U),b)}}}const Kw=Sr(.42,0,1,1),Iw=Sr(0,0,.58,1),oy=Sr(.42,0,.58,1),Qw=s=>Array.isArray(s)&&typeof s[0]!="number",$w={linear:en,easeIn:Kw,easeInOut:oy,easeOut:Iw,circIn:Gu,circInOut:P0,circOut:q0,backIn:Yu,backInOut:U0,backOut:V0,anticipate:W0},Yx=s=>{if(Wu(s)){i0(s.length===4);const[i,l,o,d]=s;return Sr(i,l,o,d)}else if(typeof s=="string")return $w[s];return s};function e3(s,i,l){const o=[],d=l||iy,h=s.length-1;for(let f=0;f<h;f++){let m=d(s[f],s[f+1]);if(i){const g=Array.isArray(i)?i[f]||en:i;m=wr(g,m)}o.push(m)}return o}function t3(s,i,{clamp:l=!0,ease:o,mixer:d}={}){const h=s.length;if(i0(h===i.length),h===1)return()=>i[0];if(h===2&&i[0]===i[1])return()=>i[1];const f=s[0]===s[1];s[0]>s[h-1]&&(s=[...s].reverse(),i=[...i].reverse());const m=e3(i,o,d),g=m.length,x=p=>{if(f&&p<s[0])return i[0];let v=0;if(g>1)for(;v<s.length-2&&!(p<s[v+1]);v++);const b=Is(s[v],s[v+1],p);return m[v](b)};return l?p=>x(Kn(s[0],s[h-1],p)):x}function n3(s,i){const l=s[s.length-1];for(let o=1;o<=i;o++){const d=Is(0,i,o);s.push(Ie(l,1,d))}}function a3(s){const i=[0];return n3(i,s.length-1),i}function s3(s,i){return s.map(l=>l*i)}function i3(s,i){return s.map(()=>i||oy).splice(0,s.length-1)}function ao({duration:s=300,keyframes:i,times:l,ease:o="easeInOut"}){const d=Qw(o)?o.map(Yx):Yx(o),h={done:!1,value:i[0]},f=s3(l&&l.length===i.length?l:a3(i),s),m=t3(f,i,{ease:Array.isArray(d)?d:i3(i,d)});return{calculatedDuration:s,next:g=>(h.value=m(g),h.done=g>=s,h)}}const r3=s=>{const i=({timestamp:l})=>s(l);return{start:()=>Ze.update(i,!0),stop:()=>Ca(i),now:()=>St.isProcessing?St.timestamp:zn.now()}},l3={decay:Fx,inertia:Fx,tween:ao,keyframes:ao,spring:ly},o3=s=>s/100;class Qu extends ay{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:l,motionValue:o,element:d,keyframes:h}=this.options,f=d?.KeyframeResolver||Ku,m=(g,x)=>this.onKeyframesResolved(g,x);this.resolver=new f(h,m,l,o,d),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:l="keyframes",repeat:o=0,repeatDelay:d=0,repeatType:h,velocity:f=0}=this.options,m=Uu(l)?l:l3[l]||ao;let g,x;m!==ao&&typeof i[0]!="number"&&(g=wr(o3,iy(i[0],i[1])),i=[0,100]);const p=m({...this.options,keyframes:i});h==="mirror"&&(x=m({...this.options,keyframes:[...i].reverse(),velocity:-f})),p.calculatedDuration===null&&(p.calculatedDuration=C0(p));const{calculatedDuration:v}=p,b=v+d,T=b*(o+1)-d;return{generator:p,mirroredGenerator:x,mapPercentToKeyframes:g,calculatedDuration:v,resolvedDuration:b,totalDuration:T}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,l=!1){const{resolved:o}=this;if(!o){const{keyframes:U}=this.options;return{done:!0,value:U[U.length-1]}}const{finalKeyframe:d,generator:h,mirroredGenerator:f,mapPercentToKeyframes:m,keyframes:g,calculatedDuration:x,totalDuration:p,resolvedDuration:v}=o;if(this.startTime===null)return h.next(0);const{delay:b,repeat:T,repeatType:C,repeatDelay:A,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-p/this.speed,this.startTime)),l?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const z=this.currentTime-b*(this.speed>=0?1:-1),S=this.speed>=0?z<0:z>p;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,W=h;if(T){const U=Math.min(this.currentTime,p)/v;let ae=Math.floor(U),P=U%1;!P&&U>=1&&(P=1),P===1&&ae--,ae=Math.min(ae,T+1),!!(ae%2)&&(C==="reverse"?(P=1-P,A&&(P-=A/v)):C==="mirror"&&(W=f)),E=Kn(0,1,P)*v}const N=S?{done:!1,value:g[0]}:W.next(E);m&&(N.value=m(N.value));let{done:J}=N;!S&&x!==null&&(J=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const oe=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return oe&&d!==void 0&&(N.value=go(g,this.options,d)),_&&_(N.value),oe&&this.finish(),N}get duration(){const{resolved:i}=this;return i?Xn(i.calculatedDuration):0}get time(){return Xn(this.currentTime)}set time(i){i=Zn(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const l=this.playbackSpeed!==i;this.playbackSpeed=i,l&&(this.time=Xn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=r3,onPlay:l,startTime:o}=this.options;this.driver||(this.driver=i(h=>this.tick(h))),l&&l();const d=this.driver.now();this.holdTime!==null?this.startTime=d-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=d):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var i;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(i=this.currentTime)!==null&&i!==void 0?i:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}}const c3=new Set(["opacity","clipPath","filter","transform"]);function d3(s,i,l,{delay:o=0,duration:d=300,repeat:h=0,repeatType:f="loop",ease:m="easeInOut",times:g}={}){const x={[i]:l};g&&(x.offset=g);const p=E0(m,d);return Array.isArray(p)&&(x.easing=p),s.animate(x,{delay:o,duration:d,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"})}const u3=Tu(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),so=10,f3=2e4;function h3(s){return Uu(s.type)||s.type==="spring"||!A0(s.ease)}function m3(s,i){const l=new Qu({...i,keyframes:s,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:s[0]};const d=[];let h=0;for(;!o.done&&h<f3;)o=l.sample(h),d.push(o.value),h+=so;return{times:void 0,keyframes:d,duration:h-so,ease:"linear"}}const cy={anticipate:W0,backInOut:U0,circInOut:P0};function g3(s){return s in cy}class Gx extends ay{constructor(i){super(i);const{name:l,motionValue:o,element:d,keyframes:h}=this.options;this.resolver=new ny(h,(f,m)=>this.onKeyframesResolved(f,m),l,o,d),this.resolver.scheduleResolve()}initPlayback(i,l){let{duration:o=300,times:d,ease:h,type:f,motionValue:m,name:g,startTime:x}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof h=="string"&&to()&&g3(h)&&(h=cy[h]),h3(this.options)){const{onComplete:v,onUpdate:b,motionValue:T,element:C,...A}=this.options,_=m3(i,A);i=_.keyframes,i.length===1&&(i[1]=i[0]),o=_.duration,d=_.times,h=_.ease,f="keyframes"}const p=d3(m.owner.current,g,i,{...this.options,duration:o,times:d,ease:h});return p.startTime=x??this.calcStartTime(),this.pendingTimeline?(zx(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:v}=this.options;m.set(go(i,this.options,l)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:o,times:d,type:f,ease:h,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:l}=i;return Xn(l)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:l}=i;return Xn(l.currentTime||0)}set time(i){const{resolved:l}=this;if(!l)return;const{animation:o}=l;o.currentTime=Zn(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:l}=i;return l.playbackRate}set speed(i){const{resolved:l}=this;if(!l)return;const{animation:o}=l;o.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:l}=i;return l.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:l}=i;return l.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:l}=this;if(!l)return en;const{animation:o}=l;zx(o,i)}return en}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:l}=i;l.playState==="finished"&&this.updateFinishedPromise(),l.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:l}=i;l.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:l,keyframes:o,duration:d,type:h,ease:f,times:m}=i;if(l.playState==="idle"||l.playState==="finished")return;if(this.time){const{motionValue:x,onUpdate:p,onComplete:v,element:b,...T}=this.options,C=new Qu({...T,keyframes:o,duration:d,type:h,ease:f,times:m,isGenerator:!0}),A=Zn(this.time);x.setWithVelocity(C.sample(A-so).value,C.sample(A).value,so)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:l,name:o,repeatDelay:d,repeatType:h,damping:f,type:m}=i;if(!l||!l.owner||!(l.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:x}=l.owner.getProps();return u3()&&o&&c3.has(o)&&!g&&!x&&!d&&h!=="mirror"&&f!==0&&m!=="inertia"}}const x3={type:"spring",stiffness:500,damping:25,restSpeed:10},p3=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),y3={type:"keyframes",duration:.8},v3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b3=(s,{keyframes:i})=>i.length>2?y3:is.has(s)?s.startsWith("scale")?p3(i[1]):x3:v3;function j3({when:s,delay:i,delayChildren:l,staggerChildren:o,staggerDirection:d,repeat:h,repeatType:f,repeatDelay:m,from:g,elapsed:x,...p}){return!!Object.keys(p).length}const $u=(s,i,l,o={},d,h)=>f=>{const m=Vu(o,s)||{},g=m.delay||o.delay||0;let{elapsed:x=0}=o;x=x-Zn(g);let p={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:i.getVelocity(),...m,delay:-x,onUpdate:b=>{i.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{f(),m.onComplete&&m.onComplete()},name:s,motionValue:i,element:h?void 0:d};j3(m)||(p={...p,...b3(s,p)}),p.duration&&(p.duration=Zn(p.duration)),p.repeatDelay&&(p.repeatDelay=Zn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(v=!0)),v&&!h&&i.get()!==void 0){const b=go(p.keyframes,m);if(b!==void 0)return Ze.update(()=>{p.onUpdate(b),p.onComplete()}),new W2([])}return!h&&Gx.supports(p)?new Gx(p):new Qu(p)};function S3({protectedKeys:s,needsAnimating:i},l){const o=s.hasOwnProperty(l)&&i[l]!==!0;return i[l]=!1,o}function dy(s,i,{delay:l=0,transitionOverride:o,type:d}={}){var h;let{transition:f=s.getDefaultTransition(),transitionEnd:m,...g}=i;o&&(f=o);const x=[],p=d&&s.animationState&&s.animationState.getState()[d];for(const v in g){const b=s.getValue(v,(h=s.latestValues[v])!==null&&h!==void 0?h:null),T=g[v];if(T===void 0||p&&S3(p,v))continue;const C={delay:l,...Vu(f||{},v)};let A=!1;if(window.MotionHandoffAnimation){const z=M0(s);if(z){const S=window.MotionHandoffAnimation(z,v,Ze);S!==null&&(C.startTime=S,A=!0)}}au(s,v),b.start($u(v,b,T,s.shouldReduceMotion&&D0.has(v)?{type:!1}:C,s,A));const _=b.animation;_&&x.push(_)}return m&&Promise.all(x).then(()=>{Ze.update(()=>{m&&ew(s,m)})}),x}function du(s,i,l={}){var o;const d=mo(s,i,l.type==="exit"?(o=s.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:h=s.getDefaultTransition()||{}}=d||{};l.transitionOverride&&(h=l.transitionOverride);const f=d?()=>Promise.all(dy(s,d,l)):()=>Promise.resolve(),m=s.variantChildren&&s.variantChildren.size?(x=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:b}=h;return w3(s,i,p+x,v,b,l)}:()=>Promise.resolve(),{when:g}=h;if(g){const[x,p]=g==="beforeChildren"?[f,m]:[m,f];return x().then(()=>p())}else return Promise.all([f(),m(l.delay)])}function w3(s,i,l=0,o=0,d=1,h){const f=[],m=(s.variantChildren.size-1)*o,g=d===1?(x=0)=>x*o:(x=0)=>m-x*o;return Array.from(s.variantChildren).sort(T3).forEach((x,p)=>{x.notify("AnimationStart",i),f.push(du(x,i,{...h,delay:l+g(p)}).then(()=>x.notify("AnimationComplete",i)))}),Promise.all(f)}function T3(s,i){return s.sortNodePosition(i)}function C3(s,i,l={}){s.notify("AnimationStart",i);let o;if(Array.isArray(i)){const d=i.map(h=>du(s,h,l));o=Promise.all(d)}else if(typeof i=="string")o=du(s,i,l);else{const d=typeof i=="function"?mo(s,i,l.custom):i;o=Promise.all(dy(s,d,l))}return o.then(()=>{s.notify("AnimationComplete",i)})}const _3=_u.length;function uy(s){if(!s)return;if(!s.isControllingVariants){const l=s.parent?uy(s.parent)||{}:{};return s.props.initial!==void 0&&(l.initial=s.props.initial),l}const i={};for(let l=0;l<_3;l++){const o=_u[l],d=s.props[o];(xr(d)||d===!1)&&(i[o]=d)}return i}const A3=[...Cu].reverse(),E3=Cu.length;function R3(s){return i=>Promise.all(i.map(({animation:l,options:o})=>C3(s,l,o)))}function z3(s){let i=R3(s),l=Jx(),o=!0;const d=g=>(x,p)=>{var v;const b=mo(s,p,g==="exit"?(v=s.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:T,transitionEnd:C,...A}=b;x={...x,...A,...C}}return x};function h(g){i=g(s)}function f(g){const{props:x}=s,p=uy(s.parent)||{},v=[],b=new Set;let T={},C=1/0;for(let _=0;_<E3;_++){const z=A3[_],S=l[z],E=x[z]!==void 0?x[z]:p[z],W=xr(E),N=z===g?S.isActive:null;N===!1&&(C=_);let J=E===p[z]&&E!==x[z]&&W;if(J&&o&&s.manuallyAnimateOnMount&&(J=!1),S.protectedKeys={...T},!S.isActive&&N===null||!E&&!S.prevProp||fo(E)||typeof E=="boolean")continue;const oe=k3(S.prevProp,E);let U=oe||z===g&&S.isActive&&!J&&W||_>C&&W,ae=!1;const P=Array.isArray(E)?E:[E];let re=P.reduce(d(z),{});N===!1&&(re={});const{prevResolvedValues:te={}}=S,me={...te,...re},X=I=>{U=!0,b.has(I)&&(ae=!0,b.delete(I)),S.needsAnimating[I]=!0;const H=s.getValue(I);H&&(H.liveStyle=!1)};for(const I in me){const H=re[I],ee=te[I];if(T.hasOwnProperty(I))continue;let ie=!1;eu(H)&&eu(ee)?ie=!T0(H,ee):ie=H!==ee,ie?H!=null?X(I):b.add(I):H!==void 0&&b.has(I)?X(I):S.protectedKeys[I]=!0}S.prevProp=E,S.prevResolvedValues=re,S.isActive&&(T={...T,...re}),o&&s.blockInitialAnimation&&(U=!1),U&&(!(J&&oe)||ae)&&v.push(...P.map(I=>({animation:I,options:{type:z}})))}if(b.size){const _={};b.forEach(z=>{const S=s.getBaseTarget(z),E=s.getValue(z);E&&(E.liveStyle=!0),_[z]=S??null}),v.push({animation:_})}let A=!!v.length;return o&&(x.initial===!1||x.initial===x.animate)&&!s.manuallyAnimateOnMount&&(A=!1),o=!1,A?i(v):Promise.resolve()}function m(g,x){var p;if(l[g].isActive===x)return Promise.resolve();(p=s.variantChildren)===null||p===void 0||p.forEach(b=>{var T;return(T=b.animationState)===null||T===void 0?void 0:T.setActive(g,x)}),l[g].isActive=x;const v=f(g);for(const b in l)l[b].protectedKeys={};return v}return{animateChanges:f,setActive:m,setAnimateFunction:h,getState:()=>l,reset:()=>{l=Jx(),o=!0}}}function k3(s,i){return typeof i=="string"?i!==s:Array.isArray(i)?!T0(i,s):!1}function Za(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jx(){return{animate:Za(!0),whileInView:Za(),whileHover:Za(),whileTap:Za(),whileDrag:Za(),whileFocus:Za(),exit:Za()}}class Aa{constructor(i){this.isMounted=!1,this.node=i}update(){}}class D3 extends Aa{constructor(i){super(i),i.animationState||(i.animationState=z3(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();fo(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:l}=this.node.prevProps||{};i!==l&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)===null||i===void 0||i.call(this)}}let N3=0;class M3 extends Aa{constructor(){super(...arguments),this.id=N3++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:l}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const d=this.node.animationState.setActive("exit",!i);l&&!i&&d.then(()=>l(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const O3={animation:{Feature:D3},exit:{Feature:M3}};function br(s,i,l,o={passive:!0}){return s.addEventListener(i,l,o),()=>s.removeEventListener(i,l)}function Tr(s){return{point:{x:s.pageX,y:s.pageY}}}const B3=s=>i=>qu(i)&&s(i,Tr(i));function cr(s,i,l,o){return br(s,i,B3(l),o)}const Zx=(s,i)=>Math.abs(s-i);function L3(s,i){const l=Zx(s.x,i.x),o=Zx(s.y,i.y);return Math.sqrt(l**2+o**2)}class fy{constructor(i,l,{transformPagePoint:o,contextWindow:d,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Yd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=L3(v.offset,{x:0,y:0})>=3;if(!b&&!T)return;const{point:C}=v,{timestamp:A}=St;this.history.push({...C,timestamp:A});const{onStart:_,onMove:z}=this.handlers;b||(_&&_(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Fd(b,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Yd(v.type==="pointercancel"?this.lastMoveEventInfo:Fd(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,_),C&&C(v,_)},!qu(i))return;this.dragSnapToOrigin=h,this.handlers=l,this.transformPagePoint=o,this.contextWindow=d||window;const f=Tr(i),m=Fd(f,this.transformPagePoint),{point:g}=m,{timestamp:x}=St;this.history=[{...g,timestamp:x}];const{onSessionStart:p}=l;p&&p(i,Yd(m,this.history)),this.removeListeners=wr(cr(this.contextWindow,"pointermove",this.handlePointerMove),cr(this.contextWindow,"pointerup",this.handlePointerUp),cr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Ca(this.updatePoint)}}function Fd(s,i){return i?{point:i(s.point)}:s}function Xx(s,i){return{x:s.x-i.x,y:s.y-i.y}}function Yd({point:s},i){return{point:s,delta:Xx(s,hy(i)),offset:Xx(s,V3(i)),velocity:U3(i,.1)}}function V3(s){return s[0]}function hy(s){return s[s.length-1]}function U3(s,i){if(s.length<2)return{x:0,y:0};let l=s.length-1,o=null;const d=hy(s);for(;l>=0&&(o=s[l],!(d.timestamp-o.timestamp>Zn(i)));)l--;if(!o)return{x:0,y:0};const h=Xn(d.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const f={x:(d.x-o.x)/h,y:(d.y-o.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}const my=1e-4,W3=1-my,q3=1+my,gy=.01,P3=0-gy,H3=0+gy;function tn(s){return s.max-s.min}function F3(s,i,l){return Math.abs(s-i)<=l}function Kx(s,i,l,o=.5){s.origin=o,s.originPoint=Ie(i.min,i.max,s.origin),s.scale=tn(l)/tn(i),s.translate=Ie(l.min,l.max,s.origin)-s.originPoint,(s.scale>=W3&&s.scale<=q3||isNaN(s.scale))&&(s.scale=1),(s.translate>=P3&&s.translate<=H3||isNaN(s.translate))&&(s.translate=0)}function dr(s,i,l,o){Kx(s.x,i.x,l.x,o?o.originX:void 0),Kx(s.y,i.y,l.y,o?o.originY:void 0)}function Ix(s,i,l){s.min=l.min+i.min,s.max=s.min+tn(i)}function Y3(s,i,l){Ix(s.x,i.x,l.x),Ix(s.y,i.y,l.y)}function Qx(s,i,l){s.min=i.min-l.min,s.max=s.min+tn(i)}function ur(s,i,l){Qx(s.x,i.x,l.x),Qx(s.y,i.y,l.y)}function G3(s,{min:i,max:l},o){return i!==void 0&&s<i?s=o?Ie(i,s,o.min):Math.max(s,i):l!==void 0&&s>l&&(s=o?Ie(l,s,o.max):Math.min(s,l)),s}function $x(s,i,l){return{min:i!==void 0?s.min+i:void 0,max:l!==void 0?s.max+l-(s.max-s.min):void 0}}function J3(s,{top:i,left:l,bottom:o,right:d}){return{x:$x(s.x,l,d),y:$x(s.y,i,o)}}function ep(s,i){let l=i.min-s.min,o=i.max-s.max;return i.max-i.min<s.max-s.min&&([l,o]=[o,l]),{min:l,max:o}}function Z3(s,i){return{x:ep(s.x,i.x),y:ep(s.y,i.y)}}function X3(s,i){let l=.5;const o=tn(s),d=tn(i);return d>o?l=Is(i.min,i.max-o,s.min):o>d&&(l=Is(s.min,s.max-d,i.min)),Kn(0,1,l)}function K3(s,i){const l={};return i.min!==void 0&&(l.min=i.min-s.min),i.max!==void 0&&(l.max=i.max-s.min),l}const uu=.35;function I3(s=uu){return s===!1?s=0:s===!0&&(s=uu),{x:tp(s,"left","right"),y:tp(s,"top","bottom")}}function tp(s,i,l){return{min:np(s,i),max:np(s,l)}}function np(s,i){return typeof s=="number"?s:s[i]||0}const ap=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:ap(),y:ap()}),sp=()=>({min:0,max:0}),rt=()=>({x:sp(),y:sp()});function hn(s){return[s("x"),s("y")]}function xy({top:s,left:i,right:l,bottom:o}){return{x:{min:i,max:l},y:{min:s,max:o}}}function Q3({x:s,y:i}){return{top:i.min,right:s.max,bottom:i.max,left:s.min}}function $3(s,i){if(!i)return s;const l=i({x:s.left,y:s.top}),o=i({x:s.right,y:s.bottom});return{top:l.y,left:l.x,bottom:o.y,right:o.x}}function Gd(s){return s===void 0||s===1}function fu({scale:s,scaleX:i,scaleY:l}){return!Gd(s)||!Gd(i)||!Gd(l)}function Xa(s){return fu(s)||py(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function py(s){return ip(s.x)||ip(s.y)}function ip(s){return s&&s!=="0%"}function io(s,i,l){const o=s-l,d=i*o;return l+d}function rp(s,i,l,o,d){return d!==void 0&&(s=io(s,d,o)),io(s,l,o)+i}function hu(s,i=0,l=1,o,d){s.min=rp(s.min,i,l,o,d),s.max=rp(s.max,i,l,o,d)}function yy(s,{x:i,y:l}){hu(s.x,i.translate,i.scale,i.originPoint),hu(s.y,l.translate,l.scale,l.originPoint)}const lp=.999999999999,op=1.0000000000001;function eT(s,i,l,o=!1){const d=l.length;if(!d)return;i.x=i.y=1;let h,f;for(let m=0;m<d;m++){h=l[m],f=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Xs(s,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,yy(s,f)),o&&Xa(h.latestValues)&&Xs(s,h.latestValues))}i.x<op&&i.x>lp&&(i.x=1),i.y<op&&i.y>lp&&(i.y=1)}function Zs(s,i){s.min=s.min+i,s.max=s.max+i}function cp(s,i,l,o,d=.5){const h=Ie(s.min,s.max,d);hu(s,i,l,h,o)}function Xs(s,i){cp(s.x,i.x,i.scaleX,i.scale,i.originX),cp(s.y,i.y,i.scaleY,i.scale,i.originY)}function vy(s,i){return xy($3(s.getBoundingClientRect(),i))}function tT(s,i,l){const o=vy(s,l),{scroll:d}=i;return d&&(Zs(o.x,d.offset.x),Zs(o.y,d.offset.y)),o}const by=({current:s})=>s?s.ownerDocument.defaultView:null,nT=new WeakMap;class aT{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=i}start(i,{snapToCursor:l=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const d=p=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(Tr(p).point)},h=(p,v)=>{const{drag:b,dragPropagation:T,onDragStart:C}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=X2(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(_=>{let z=this.getAxisMotionValue(_).get()||0;if(Rn.test(z)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[_];E&&(z=tn(E)*(parseFloat(z)/100))}}this.originPoint[_]=z}),C&&Ze.postRender(()=>C(p,v)),au(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(p,v)=>{const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:C,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=v;if(T&&this.currentDirection===null){this.currentDirection=sT(_),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,_),this.updateAxis("y",v.point,_),this.visualElement.render(),A&&A(p,v)},m=(p,v)=>this.stop(p,v),g=()=>hn(p=>{var v;return this.getAnimationState(p)==="paused"&&((v=this.getAxisMotionValue(p).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new fy(i,{onSessionStart:d,onStart:h,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:by(this.visualElement)})}stop(i,l){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Ze.postRender(()=>h(i,l))}cancel(){this.isDragging=!1;const{projection:i,animationState:l}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(i,l,o){const{drag:d}=this.getProps();if(!o||!Fl(i,d,this.currentDirection))return;const h=this.getAxisMotionValue(i);let f=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(f=G3(f,this.constraints[i],this.elastic[i])),h.set(f)}resolveConstraints(){var i;const{dragConstraints:l,dragElastic:o}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)===null||i===void 0?void 0:i.layout,h=this.constraints;l&&Ys(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&d?this.constraints=J3(d.layoutBox,l):this.constraints=!1,this.elastic=I3(o),h!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&hn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=K3(d.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:l}=this.getProps();if(!i||!Ys(i))return!1;const o=i.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const h=tT(o,d.root,this.visualElement.getTransformPagePoint());let f=Z3(d.layout.layoutBox,h);if(l){const m=l(Q3(f));this.hasMutatedConstraints=!!m,m&&(f=xy(m))}return f}startAnimation(i){const{drag:l,dragMomentum:o,dragElastic:d,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},x=hn(p=>{if(!Fl(p,l,this.currentDirection))return;let v=g&&g[p]||{};f&&(v={min:0,max:0});const b=d?200:1e6,T=d?40:1e7,C={type:"inertia",velocity:o?i[p]:0,bounceStiffness:b,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...h,...v};return this.startAxisValueAnimation(p,C)});return Promise.all(x).then(m)}startAxisValueAnimation(i,l){const o=this.getAxisMotionValue(i);return au(this.visualElement,i),o.start($u(i,o,0,l,this.visualElement,!1))}stopAnimation(){hn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){hn(i=>{var l;return(l=this.getAxisMotionValue(i).animation)===null||l===void 0?void 0:l.pause()})}getAnimationState(i){var l;return(l=this.getAxisMotionValue(i).animation)===null||l===void 0?void 0:l.state}getAxisMotionValue(i){const l=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),d=o[l];return d||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){hn(l=>{const{drag:o}=this.getProps();if(!Fl(l,o,this.currentDirection))return;const{projection:d}=this.visualElement,h=this.getAxisMotionValue(l);if(d&&d.layout){const{min:f,max:m}=d.layout.layoutBox[l];h.set(i[l]-Ie(f,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:l}=this.getProps(),{projection:o}=this.visualElement;if(!Ys(l)||!o||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};hn(f=>{const m=this.getAxisMotionValue(f);if(m&&this.constraints!==!1){const g=m.get();d[f]=X3({min:g,max:g},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),hn(f=>{if(!Fl(f,i,null))return;const m=this.getAxisMotionValue(f),{min:g,max:x}=this.constraints[f];m.set(Ie(g,x,d[f]))})}addListeners(){if(!this.visualElement.current)return;nT.set(this.visualElement,this);const i=this.visualElement.current,l=cr(i,"pointerdown",g=>{const{drag:x,dragListener:p=!0}=this.getProps();x&&p&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();Ys(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,h=d.addEventListener("measure",o);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),Ze.read(o);const f=br(window,"resize",()=>this.scalePositionWithinConstraints()),m=d.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(hn(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=g[p].translate,v.set(v.get()+g[p].translate))}),this.visualElement.render())});return()=>{f(),l(),h(),m&&m()}}getProps(){const i=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:o=!1,dragPropagation:d=!1,dragConstraints:h=!1,dragElastic:f=uu,dragMomentum:m=!0}=i;return{...i,drag:l,dragDirectionLock:o,dragPropagation:d,dragConstraints:h,dragElastic:f,dragMomentum:m}}}function Fl(s,i,l){return(i===!0||i===s)&&(l===null||l===s)}function sT(s,i=10){let l=null;return Math.abs(s.y)>i?l="y":Math.abs(s.x)>i&&(l="x"),l}class iT extends Aa{constructor(i){super(i),this.removeGroupControls=en,this.removeListeners=en,this.controls=new aT(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const dp=s=>(i,l)=>{s&&Ze.postRender(()=>s(i,l))};class rT extends Aa{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(i){this.session=new fy(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:by(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:l,onPan:o,onPanEnd:d}=this.node.getProps();return{onSessionStart:dp(i),onStart:dp(l),onMove:o,onEnd:(h,f)=>{delete this.session,d&&Ze.postRender(()=>d(h,f))}}}mount(){this.removePointerDownListener=cr(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function up(s,i){return i.max===i.min?0:s/(i.max-i.min)*100}const sr={correct:(s,i)=>{if(!i.target)return s;if(typeof s=="string")if(ve.test(s))s=parseFloat(s);else return s;const l=up(s,i.target.x),o=up(s,i.target.y);return`${l}% ${o}%`}},lT={correct:(s,{treeScale:i,projectionDelta:l})=>{const o=s,d=_a.parse(s);if(d.length>5)return o;const h=_a.createTransformer(s),f=typeof d[0]!="number"?1:0,m=l.x.scale*i.x,g=l.y.scale*i.y;d[0+f]/=m,d[1+f]/=g;const x=Ie(m,g,.5);return typeof d[2+f]=="number"&&(d[2+f]/=x),typeof d[3+f]=="number"&&(d[3+f]/=x),h(d)}};class oT extends w.Component{componentDidMount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:o,layoutId:d}=this.props,{projection:h}=i;E2(cT),h&&(l.group&&l.group.add(h),o&&o.register&&d&&o.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Zl.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:l,visualElement:o,drag:d,isPresent:h}=this.props,f=o.projection;return f&&(f.isPresent=h,d||i.layoutDependency!==l||l===void 0?f.willUpdate():this.safeToRemove(),i.isPresent!==h&&(h?f.promote():f.relegate()||Ze.postRender(()=>{const m=f.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),Eu.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:o}=this.props,{projection:d}=i;d&&(d.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(d),o&&o.deregister&&o.deregister(d))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function jy(s){const[i,l]=n0(),o=w.useContext(bu);return t.jsx(oT,{...s,layoutGroup:o,switchLayoutGroup:w.useContext(u0),isPresent:i,safeToRemove:l})}const cT={borderRadius:{...sr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomLeftRadius:sr,borderBottomRightRadius:sr,boxShadow:lT};function dT(s,i,l){const o=Et(s)?s:yr(s);return o.start($u("",o,i,l)),o.animation}function uT(s){return s instanceof SVGElement&&s.tagName!=="svg"}const fT=(s,i)=>s.depth-i.depth;class hT{constructor(){this.children=[],this.isDirty=!1}add(i){Pu(this.children,i),this.isDirty=!0}remove(i){Hu(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(fT),this.isDirty=!1,this.children.forEach(i)}}function mT(s,i){const l=zn.now(),o=({timestamp:d})=>{const h=d-l;h>=i&&(Ca(o),s(h-i))};return Ze.read(o,!0),()=>Ca(o)}const Sy=["TopLeft","TopRight","BottomLeft","BottomRight"],gT=Sy.length,fp=s=>typeof s=="string"?parseFloat(s):s,hp=s=>typeof s=="number"||ve.test(s);function xT(s,i,l,o,d,h){d?(s.opacity=Ie(0,l.opacity!==void 0?l.opacity:1,pT(o)),s.opacityExit=Ie(i.opacity!==void 0?i.opacity:1,0,yT(o))):h&&(s.opacity=Ie(i.opacity!==void 0?i.opacity:1,l.opacity!==void 0?l.opacity:1,o));for(let f=0;f<gT;f++){const m=`border${Sy[f]}Radius`;let g=mp(i,m),x=mp(l,m);if(g===void 0&&x===void 0)continue;g||(g=0),x||(x=0),g===0||x===0||hp(g)===hp(x)?(s[m]=Math.max(Ie(fp(g),fp(x),o),0),(Rn.test(x)||Rn.test(g))&&(s[m]+="%")):s[m]=x}(i.rotate||l.rotate)&&(s.rotate=Ie(i.rotate||0,l.rotate||0,o))}function mp(s,i){return s[i]!==void 0?s[i]:s.borderRadius}const pT=wy(0,.5,q0),yT=wy(.5,.95,en);function wy(s,i,l){return o=>o<s?0:o>i?1:l(Is(s,i,o))}function gp(s,i){s.min=i.min,s.max=i.max}function fn(s,i){gp(s.x,i.x),gp(s.y,i.y)}function xp(s,i){s.translate=i.translate,s.scale=i.scale,s.originPoint=i.originPoint,s.origin=i.origin}function pp(s,i,l,o,d){return s-=i,s=io(s,1/l,o),d!==void 0&&(s=io(s,1/d,o)),s}function vT(s,i=0,l=1,o=.5,d,h=s,f=s){if(Rn.test(i)&&(i=parseFloat(i),i=Ie(f.min,f.max,i/100)-f.min),typeof i!="number")return;let m=Ie(h.min,h.max,o);s===h&&(m-=i),s.min=pp(s.min,i,l,m,d),s.max=pp(s.max,i,l,m,d)}function yp(s,i,[l,o,d],h,f){vT(s,i[l],i[o],i[d],i.scale,h,f)}const bT=["x","scaleX","originX"],jT=["y","scaleY","originY"];function vp(s,i,l,o){yp(s.x,i,bT,l?l.x:void 0,o?o.x:void 0),yp(s.y,i,jT,l?l.y:void 0,o?o.y:void 0)}function bp(s){return s.translate===0&&s.scale===1}function Ty(s){return bp(s.x)&&bp(s.y)}function jp(s,i){return s.min===i.min&&s.max===i.max}function ST(s,i){return jp(s.x,i.x)&&jp(s.y,i.y)}function Sp(s,i){return Math.round(s.min)===Math.round(i.min)&&Math.round(s.max)===Math.round(i.max)}function Cy(s,i){return Sp(s.x,i.x)&&Sp(s.y,i.y)}function wp(s){return tn(s.x)/tn(s.y)}function Tp(s,i){return s.translate===i.translate&&s.scale===i.scale&&s.originPoint===i.originPoint}class wT{constructor(){this.members=[]}add(i){Pu(this.members,i),i.scheduleRender()}remove(i){if(Hu(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(i){const l=this.members.findIndex(d=>i===d);if(l===0)return!1;let o;for(let d=l;d>=0;d--){const h=this.members[d];if(h.isPresent!==!1){o=h;break}}return o?(this.promote(o),!0):!1}promote(i,l){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,l&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:d}=i.options;d===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:l,resumingFrom:o}=i;l.onExitComplete&&l.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TT(s,i,l){let o="";const d=s.x.translate/i.x,h=s.y.translate/i.y,f=l?.z||0;if((d||h||f)&&(o=`translate3d(${d}px, ${h}px, ${f}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),l){const{transformPerspective:x,rotate:p,rotateX:v,rotateY:b,skewX:T,skewY:C}=l;x&&(o=`perspective(${x}px) ${o}`),p&&(o+=`rotate(${p}deg) `),v&&(o+=`rotateX(${v}deg) `),b&&(o+=`rotateY(${b}deg) `),T&&(o+=`skewX(${T}deg) `),C&&(o+=`skewY(${C}deg) `)}const m=s.x.scale*i.x,g=s.y.scale*i.y;return(m!==1||g!==1)&&(o+=`scale(${m}, ${g})`),o||"none"}const Ka={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lr=typeof window<"u"&&window.MotionDebug!==void 0,Jd=["","X","Y","Z"],CT={visibility:"hidden"},Cp=1e3;let _T=0;function Zd(s,i,l,o){const{latestValues:d}=i;d[s]&&(l[s]=d[s],i.setStaticValue(s,0),o&&(o[s]=0))}function _y(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:i}=s.options;if(!i)return;const l=M0(i);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:d,layoutId:h}=s.options;window.MotionCancelOptimisedAnimation(l,"transform",Ze,!(d||h))}const{parent:o}=s;o&&!o.hasCheckedOptimisedAppear&&_y(o)}function Ay({attachResizeListener:s,defaultParent:i,measureScroll:l,checkIsScrollRoot:o,resetTransform:d}){return class{constructor(f={},m=i?.()){this.id=_T++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lr&&(Ka.totalNodes=Ka.resolvedTargetDeltas=Ka.recalculatedProjection=0),this.nodes.forEach(RT),this.nodes.forEach(MT),this.nodes.forEach(OT),this.nodes.forEach(zT),lr&&window.MotionDebug.record(Ka)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new hT)}addEventListener(f,m){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Fu),this.eventHandlers.get(f).add(m)}notifyListeners(f,...m){const g=this.eventHandlers.get(f);g&&g.notify(...m)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uT(f),this.instance=f;const{layoutId:g,layout:x,visualElement:p}=this.options;if(p&&!p.current&&p.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(x||g)&&(this.isLayoutDirty=!0),s){let v;const b=()=>this.root.updateBlockedByResize=!1;s(f,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=mT(b,250),Zl.hasAnimatedSinceResize&&(Zl.hasAnimatedSinceResize=!1,this.nodes.forEach(Ap))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&p&&(g||x)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeTargetChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||WT,{onLayoutAnimationStart:_,onLayoutAnimationComplete:z}=p.getProps(),S=!this.targetLayout||!Cy(this.targetLayout,C)||T,E=!b&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||b&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,E);const W={...Vu(A,"layout"),onPlay:_,onComplete:z};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else b||Ap(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ca(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BT),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_y(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_p);return}this.isUpdating||this.nodes.forEach(DT),this.isUpdating=!1,this.nodes.forEach(NT),this.nodes.forEach(AT),this.nodes.forEach(ET),this.clearAllSnapshots();const m=zn.now();St.delta=Kn(0,1e3/60,m-St.timestamp),St.timestamp=m,St.isProcessing=!0,Vd.update.process(St),Vd.preRender.process(St),Vd.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kT),this.sharedNodes.forEach(LT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(m=!1),m){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!d)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Ty(this.projectionDelta),g=this.getTransformTemplate(),x=g?g(this.latestValues,""):void 0,p=x!==this.prevTransformTemplateValue;f&&(m||Xa(this.latestValues)||p)&&(d(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return f&&(g=this.removeTransform(g)),qT(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:m}=this.options;if(!m)return rt();const g=m.measureViewportBox();if(!(((f=this.scroll)===null||f===void 0?void 0:f.wasRoot)||this.path.some(PT))){const{scroll:p}=this.root;p&&(Zs(g.x,p.offset.x),Zs(g.y,p.offset.y))}return g}removeElementScroll(f){var m;const g=rt();if(fn(g,f),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return g;for(let x=0;x<this.path.length;x++){const p=this.path[x],{scroll:v,options:b}=p;p!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&fn(g,f),Zs(g.x,v.offset.x),Zs(g.y,v.offset.y))}return g}applyTransform(f,m=!1){const g=rt();fn(g,f);for(let x=0;x<this.path.length;x++){const p=this.path[x];!m&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Xs(g,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Xa(p.latestValues)&&Xs(g,p.latestValues)}return Xa(this.latestValues)&&Xs(g,this.latestValues),g}removeTransform(f){const m=rt();fn(m,f);for(let g=0;g<this.path.length;g++){const x=this.path[g];if(!x.instance||!Xa(x.latestValues))continue;fu(x.latestValues)&&x.updateSnapshot();const p=rt(),v=x.measurePageBox();fn(p,v),vp(m,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,p)}return Xa(this.latestValues)&&vp(m,this.latestValues),m}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var m;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==g;if(!(f||x&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ur(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),yy(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ur(this.relativeTargetOrigin,this.target,T.target),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lr&&Ka.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fu(this.parent.latestValues)||py(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const m=this.getLead(),g=!!this.resumingFrom||this!==m;let x=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(x=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===St.timestamp&&(x=!1),x)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;fn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;eT(this.layoutCorrected,this.treeScale,this.path,g),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=rt());const{target:C}=m;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xp(this.prevProjectionDelta.x,this.projectionDelta.x),xp(this.prevProjectionDelta.y,this.projectionDelta.y)),dr(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!Tp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),lr&&Ka.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Js(),this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js()}setAnimationOrigin(f,m=!1){const g=this.snapshot,x=g?g.latestValues:{},p={...this.latestValues},v=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=rt(),T=g?g.source:void 0,C=this.layout?this.layout.source:void 0,A=T!==C,_=this.getStack(),z=!_||_.members.length<=1,S=!!(A&&!z&&this.options.crossfade===!0&&!this.path.some(UT));this.animationProgress=0;let E;this.mixTargetDelta=W=>{const N=W/1e3;Ep(v.x,f.x,N),Ep(v.y,f.y,N),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ur(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VT(this.relativeTarget,this.relativeTargetOrigin,b,N),E&&ST(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=rt()),fn(E,this.relativeTarget)),A&&(this.animationValues=p,xT(p,x,this.latestValues,N,S,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ca(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Zl.hasAnimatedSinceResize=!0,this.currentAnimation=dT(0,Cp,{...f,onUpdate:m=>{this.mixTargetDelta(m),f.onUpdate&&f.onUpdate(m)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:m,target:g,layout:x,latestValues:p}=f;if(!(!m||!g||!x)){if(this!==f&&this.layout&&x&&Ey(this.options.animationType,this.layout.layoutBox,x.layoutBox)){g=this.target||rt();const v=tn(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+v;const b=tn(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+b}fn(m,g),Xs(m,p),dr(this.projectionDeltaWithTransform,this.layoutCorrected,m,p)}}registerSharedNode(f,m){this.sharedNodes.has(f)||this.sharedNodes.set(f,new wT),this.sharedNodes.get(f).add(m);const x=m.options.initialPromotionConfig;m.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(m):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:m}=this.options;return m?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:m}=this.options;return m?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:m,preserveFollowOpacity:g}={}){const x=this.getStack();x&&x.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let m=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const x={};g.z&&Zd("z",f,x,this.animationValues);for(let p=0;p<Jd.length;p++)Zd(`rotate${Jd[p]}`,f,x,this.animationValues),Zd(`skew${Jd[p]}`,f,x,this.animationValues);f.render();for(const p in x)f.setStaticValue(p,x[p]),this.animationValues&&(this.animationValues[p]=x[p]);f.scheduleRender()}getProjectionStyles(f){var m,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CT;const x={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,x.opacity="",x.pointerEvents=Gl(f?.pointerEvents)||"",x.transform=p?p(this.latestValues,""):"none",x;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Gl(f?.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(A.transform=p?p({},""):"none",this.hasProjected=!1),A}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),x.transform=TT(this.projectionDeltaWithTransform,this.treeScale,b),p&&(x.transform=p(b,x.transform));const{x:T,y:C}=this.projectionDelta;x.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,v.animationValues?x.opacity=v===this?(g=(m=b.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:x.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const A in eo){if(b[A]===void 0)continue;const{correct:_,applyTo:z}=eo[A],S=x.transform==="none"?b[A]:_(b[A],v);if(z){const E=z.length;for(let W=0;W<E;W++)x[z[W]]=S}else x[A]=S}return this.options.layoutId&&(x.pointerEvents=v===this?Gl(f?.pointerEvents)||"":"none"),x}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var m;return(m=f.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(_p),this.root.sharedNodes.clear()}}}function AT(s){s.updateLayout()}function ET(s){var i;const l=((i=s.resumeFrom)===null||i===void 0?void 0:i.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&l&&s.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:d}=s.layout,{animationType:h}=s.options,f=l.source!==s.layout.source;h==="size"?hn(v=>{const b=f?l.measuredBox[v]:l.layoutBox[v],T=tn(b);b.min=o[v].min,b.max=b.min+T}):Ey(h,l.layoutBox,o)&&hn(v=>{const b=f?l.measuredBox[v]:l.layoutBox[v],T=tn(o[v]);b.max=b.min+T,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[v].max=s.relativeTarget[v].min+T)});const m=Js();dr(m,o,l.layoutBox);const g=Js();f?dr(g,s.applyTransform(d,!0),l.measuredBox):dr(g,o,l.layoutBox);const x=!Ty(m);let p=!1;if(!s.resumeFrom){const v=s.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const C=rt();ur(C,l.layoutBox,b.layoutBox);const A=rt();ur(A,o,T.layoutBox),Cy(C,A)||(p=!0),v.options.layoutRoot&&(s.relativeTarget=A,s.relativeTargetOrigin=C,s.relativeParent=v)}}}s.notifyListeners("didUpdate",{layout:o,snapshot:l,delta:g,layoutDelta:m,hasLayoutChanged:x,hasRelativeTargetChanged:p})}else if(s.isLead()){const{onExitComplete:o}=s.options;o&&o()}s.options.transition=void 0}function RT(s){lr&&Ka.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function zT(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function kT(s){s.clearSnapshot()}function _p(s){s.clearMeasurements()}function DT(s){s.isLayoutDirty=!1}function NT(s){const{visualElement:i}=s.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),s.resetTransform()}function Ap(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function MT(s){s.resolveTargetDelta()}function OT(s){s.calcProjection()}function BT(s){s.resetSkewAndRotation()}function LT(s){s.removeLeadSnapshot()}function Ep(s,i,l){s.translate=Ie(i.translate,0,l),s.scale=Ie(i.scale,1,l),s.origin=i.origin,s.originPoint=i.originPoint}function Rp(s,i,l,o){s.min=Ie(i.min,l.min,o),s.max=Ie(i.max,l.max,o)}function VT(s,i,l,o){Rp(s.x,i.x,l.x,o),Rp(s.y,i.y,l.y,o)}function UT(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const WT={duration:.45,ease:[.4,0,.1,1]},zp=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),kp=zp("applewebkit/")&&!zp("chrome/")?Math.round:en;function Dp(s){s.min=kp(s.min),s.max=kp(s.max)}function qT(s){Dp(s.x),Dp(s.y)}function Ey(s,i,l){return s==="position"||s==="preserve-aspect"&&!F3(wp(i),wp(l),.2)}function PT(s){var i;return s!==s.root&&((i=s.scroll)===null||i===void 0?void 0:i.wasRoot)}const HT=Ay({attachResizeListener:(s,i)=>br(s,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xd={current:void 0},Ry=Ay({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Xd.current){const s=new HT({});s.mount(window),s.setOptions({layoutScroll:!0}),Xd.current=s}return Xd.current},resetTransform:(s,i)=>{s.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),FT={pan:{Feature:rT},drag:{Feature:iT,ProjectionNode:Ry,MeasureLayout:jy}};function Np(s,i,l){const{props:o}=s;s.animationState&&o.whileHover&&s.animationState.setActive("whileHover",l==="Start");const d="onHover"+l,h=o[d];h&&Ze.postRender(()=>h(i,Tr(i)))}class YT extends Aa{mount(){const{current:i}=this.node;i&&(this.unmount=F2(i,l=>(Np(this.node,l,"Start"),o=>Np(this.node,o,"End"))))}unmount(){}}class GT extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wr(br(this.node.current,"focus",()=>this.onFocus()),br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mp(s,i,l){const{props:o}=s;s.animationState&&o.whileTap&&s.animationState.setActive("whileTap",l==="Start");const d="onTap"+(l==="End"?"":l),h=o[d];h&&Ze.postRender(()=>h(i,Tr(i)))}class JT extends Aa{mount(){const{current:i}=this.node;i&&(this.unmount=Z2(i,l=>(Mp(this.node,l,"Start"),(o,{success:d})=>Mp(this.node,o,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mu=new WeakMap,Kd=new WeakMap,ZT=s=>{const i=mu.get(s.target);i&&i(s)},XT=s=>{s.forEach(ZT)};function KT({root:s,...i}){const l=s||document;Kd.has(l)||Kd.set(l,{});const o=Kd.get(l),d=JSON.stringify(i);return o[d]||(o[d]=new IntersectionObserver(XT,{root:s,...i})),o[d]}function IT(s,i,l){const o=KT(i);return mu.set(s,l),o.observe(s),()=>{mu.delete(s),o.unobserve(s)}}const QT={some:0,all:1};class $T extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:l,margin:o,amount:d="some",once:h}=i,f={root:l?l.current:void 0,rootMargin:o,threshold:typeof d=="number"?d:QT[d]},m=g=>{const{isIntersecting:x}=g;if(this.isInView===x||(this.isInView=x,h&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),b=x?p:v;b&&b(g)};return IT(this.node.current,f,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:l}=this.node;["amount","margin","root"].some(eC(i,l))&&this.startObserver()}unmount(){}}function eC({viewport:s={}},{viewport:i={}}={}){return l=>s[l]!==i[l]}const tC={inView:{Feature:$T},tap:{Feature:JT},focus:{Feature:GT},hover:{Feature:YT}},nC={layout:{ProjectionNode:Ry,MeasureLayout:jy}},gu={current:null},zy={current:!1};function aC(){if(zy.current=!0,!!wu)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),i=()=>gu.current=s.matches;s.addListener(i),i()}else gu.current=!1}const sC=[...ty,At,_a],iC=s=>sC.find(ey(s)),Op=new WeakMap;function rC(s,i,l){for(const o in i){const d=i[o],h=l[o];if(Et(d))s.addValue(o,d);else if(Et(h))s.addValue(o,yr(d,{owner:s}));else if(h!==d)if(s.hasValue(o)){const f=s.getValue(o);f.liveStyle===!0?f.jump(d):f.hasAnimated||f.set(d)}else{const f=s.getStaticValue(o);s.addValue(o,yr(f!==void 0?f:d,{owner:s}))}}for(const o in l)i[o]===void 0&&s.removeValue(o);return i}const Bp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lC{scrapeMotionValuesFromProps(i,l,o){return{}}constructor({parent:i,props:l,presenceContext:o,reducedMotionConfig:d,blockInitialAnimation:h,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ku,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=zn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Ze.render(this.render,!1,!0))};const{latestValues:g,renderState:x,onUpdate:p}=f;this.onUpdate=p,this.latestValues=g,this.baseTarget={...g},this.initialValues=l.initial?{...g}:{},this.renderState=x,this.parent=i,this.props=l,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=d,this.options=m,this.blockInitialAnimation=!!h,this.isControllingVariants=ho(l),this.isVariantNode=c0(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(l,{},this);for(const T in b){const C=b[T];g[T]!==void 0&&Et(C)&&C.set(g[T],!1)}}mount(i){this.current=i,Op.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,o)=>this.bindToMotionValue(o,l)),zy.current||aC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Op.delete(this.current),this.projection&&this.projection.unmount(),Ca(this.notifyUpdate),Ca(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const l=this.features[i];l&&(l.unmount(),l.isMounted=!1)}this.current=null}bindToMotionValue(i,l){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const o=is.has(i),d=l.on("change",m=>{this.latestValues[i]=m,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),h=l.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,i,l)),this.valueSubscriptions.set(i,()=>{d(),h(),f&&f(),l.owner&&l.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Qs){const l=Qs[i];if(!l)continue;const{isEnabled:o,Feature:d}=l;if(!this.features[i]&&d&&o(this.props)&&(this.features[i]=new d(this)),this.features[i]){const h=this.features[i];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,l){this.latestValues[i]=l}update(i,l){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let o=0;o<Bp.length;o++){const d=Bp[o];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const h="on"+d,f=i[h];f&&(this.propEventSubscriptions[d]=this.on(d,f))}this.prevMotionValues=rC(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(i),()=>l.variantChildren.delete(i)}addValue(i,l){const o=this.values.get(i);l!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,l),this.values.set(i,l),this.latestValues[i]=l.get())}removeValue(i){this.values.delete(i);const l=this.valueSubscriptions.get(i);l&&(l(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,l){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&l!==void 0&&(o=yr(l===null?void 0:l,{owner:this}),this.addValue(i,o)),o}readValue(i,l){var o;let d=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:(o=this.getBaseTargetFromProps(this.props,i))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,i,this.options);return d!=null&&(typeof d=="string"&&(Q0(d)||H0(d))?d=parseFloat(d):!iC(d)&&_a.test(l)&&(d=X0(i,l)),this.setBaseTarget(i,Et(d)?d.get():d)),Et(d)?d.get():d}setBaseTarget(i,l){this.baseTarget[i]=l}getBaseTarget(i){var l;const{initial:o}=this.props;let d;if(typeof o=="string"||typeof o=="object"){const f=zu(this.props,o,(l=this.presenceContext)===null||l===void 0?void 0:l.custom);f&&(d=f[i])}if(o&&d!==void 0)return d;const h=this.getBaseTargetFromProps(this.props,i);return h!==void 0&&!Et(h)?h:this.initialValues[i]!==void 0&&d===void 0?void 0:this.baseTarget[i]}on(i,l){return this.events[i]||(this.events[i]=new Fu),this.events[i].add(l)}notify(i,...l){this.events[i]&&this.events[i].notify(...l)}}class ky extends lC{constructor(){super(...arguments),this.KeyframeResolver=ny}sortInstanceNodePosition(i,l){return i.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(i,l){return i.style?i.style[l]:void 0}removeValueFromRenderState(i,{vars:l,style:o}){delete l[i],delete o[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Et(i)&&(this.childSubscription=i.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function oC(s){return window.getComputedStyle(s)}class cC extends ky{constructor(){super(...arguments),this.type="html",this.renderInstance=y0}readValueFromInstance(i,l){if(is.has(l)){const o=Xu(l);return o&&o.default||0}else{const o=oC(i),d=(g0(l)?o.getPropertyValue(l):o[l])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:l}){return vy(i,l)}build(i,l,o){Nu(i,l,o.transformTemplate)}scrapeMotionValuesFromProps(i,l,o){return Lu(i,l,o)}}class dC extends ky{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(i,l){return i[l]}readValueFromInstance(i,l){if(is.has(l)){const o=Xu(l);return o&&o.default||0}return l=v0.has(l)?l:Au(l),i.getAttribute(l)}scrapeMotionValuesFromProps(i,l,o){return S0(i,l,o)}build(i,l,o){Mu(i,l,this.isSVGTag,o.transformTemplate)}renderInstance(i,l,o,d){b0(i,l,o,d)}mount(i){this.isSVGTag=Bu(i.tagName),super.mount(i)}}const uC=(s,i)=>Ru(s)?new dC(i):new cC(i,{allowProjection:s!==w.Fragment}),fC=L2({...O3,...tC,...FT,...nC},uC),Jn=QS(fC),hC=s=>{switch(s){case 1:return{bg:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",color:"#000",icon:""};case 2:return{bg:"linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)",color:"#000",icon:""};case 3:return{bg:"linear-gradient(135deg, #CD7F32 0%, #8B4513 100%)",color:"#fff",icon:""};default:return{bg:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",color:"#334155",icon:null}}},mC=(s,i,l)=>{const o={};i.forEach(f=>{o[f.id]={team_id:f.id,team_name:f.name,category:f.category_id,total_raw:0,evaluation_count:0,avg_score:0,max_possible:0,percentage:0,last_updated:null}}),s.forEach(f=>{if(!f.is_draft&&f.scores){const m=f.team_id;if(!o[m])return;let g=0,x=0;Object.entries(f.scores).forEach(([v,b])=>{g+=parseFloat(b)||0;const T=l.find(C=>C.id===v);T&&(x+=T.max_marks)}),o[m].total_raw+=g,o[m].max_possible+=x,o[m].evaluation_count+=1;const p=new Date(f.submitted_at);(!o[m].last_updated||p>o[m].last_updated)&&(o[m].last_updated=p)}}),Object.values(o).forEach(f=>{f.evaluation_count>0&&(f.avg_score=f.total_raw/f.evaluation_count,f.percentage=f.max_possible>0?f.total_raw/f.max_possible*100:0)});const d=Object.values(o).filter(f=>f.evaluation_count>0).sort((f,m)=>m.avg_score-f.avg_score);d.forEach((f,m)=>{f.rank=m+1});const h=Object.values(o).filter(f=>f.evaluation_count===0);return h.forEach(f=>{f.rank=null}),[...d,...h]};function gC({roundId:s,eventId:i}){const[l,o]=w.useState([]),[d,h]=w.useState([]),[f,m]=w.useState([]),[g,x]=w.useState([]),[p,v]=w.useState({}),[b,T]=w.useState(!0),[C,A]=w.useState(!1),[_,z]=w.useState(null),[S,E]=w.useState(null);w.useEffect(()=>{s&&W()},[s]),w.useEffect(()=>{if(!s)return;const U=B.channel(`leaderboard-${s}`).on("postgres_changes",{event:"*",schema:"public",table:"round_evaluations",filter:`round_id=eq.${s}`},ae=>{console.log("Evaluation change:",ae),N(ae)}).subscribe(ae=>{console.log("Realtime subscription status:",ae),A(ae==="SUBSCRIBED")});return()=>{B.removeChannel(U)}},[s]),w.useEffect(()=>{if(l.length>0&&d.length>0){const U={};g.forEach(P=>{U[P.team_id]=P.rank}),v(U);const ae=mC(f,l,d);x(ae),z(new Date)}},[f,l,d]);async function W(){T(!0);try{const{data:U}=await B.from("rounds").select("*, events(name)").eq("id",s).maybeSingle();E(U);const{data:ae}=await B.from("teams").select("*").eq("event_id",i);o(ae||[]);const{data:P}=await B.from("round_criteria").select("*").eq("round_id",s).order("display_order");h(P||[]);const{data:re}=await B.from("round_evaluations").select("*").eq("round_id",s);m(re||[])}catch(U){console.error("Error loading leaderboard data:",U)}T(!1)}function N(U){U.eventType==="INSERT"?m(ae=>[...ae,U.new]):U.eventType==="UPDATE"?m(ae=>ae.map(P=>P.id===U.new.id?U.new:P)):U.eventType==="DELETE"&&m(ae=>ae.filter(P=>P.id!==U.old.id)),z(new Date)}function J(U,ae){const P=p[U];return!P||!ae?"none":P>ae?"up":P<ae?"down":"none"}const oe=w.useMemo(()=>{const U=g.filter(re=>re.evaluation_count>0).length,ae=f.filter(re=>!re.is_draft).length,P=f.filter(re=>re.is_draft).length;return{evaluated:U,totalEvals:ae,draftEvals:P,totalTeams:l.length}},[g,f,l]);return b?t.jsx(k,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:8},children:t.jsx(at,{})}):t.jsxs(ze,{elevation:0,sx:{borderRadius:"16px",overflow:"hidden",border:"1px solid",borderColor:"divider"},children:[t.jsxs(k,{sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",p:3,color:"white"},children:[t.jsxs(k,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(hr,{sx:{fontSize:32}}),t.jsxs(k,{children:[t.jsx(L,{variant:"h5",fontWeight:700,children:"Live Leaderboard"}),t.jsxs(L,{variant:"body2",sx:{opacity:.9},children:[S?.name,"  ",S?.events?.name]})]})]}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Xl,{title:C?"Live updates active":"Connecting...",children:t.jsx(fe,{icon:t.jsx(zj,{sx:{fontSize:12,color:C?"#4ade80":"#fbbf24"}}),label:C?"LIVE":"Connecting",size:"small",sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white",fontWeight:600}})}),t.jsx(Qe,{onClick:W,sx:{color:"white"},children:t.jsx(ns,{})})]})]}),t.jsxs(k,{sx:{display:"flex",gap:3,flexWrap:"wrap"},children:[t.jsxs(k,{children:[t.jsx(L,{variant:"caption",sx:{opacity:.8},children:"Teams Evaluated"}),t.jsxs(L,{variant:"h6",fontWeight:700,children:[oe.evaluated," / ",oe.totalTeams]})]}),t.jsxs(k,{children:[t.jsx(L,{variant:"caption",sx:{opacity:.8},children:"Submissions"}),t.jsx(L,{variant:"h6",fontWeight:700,children:oe.totalEvals})]}),t.jsxs(k,{children:[t.jsx(L,{variant:"caption",sx:{opacity:.8},children:"Drafts"}),t.jsx(L,{variant:"h6",fontWeight:700,children:oe.draftEvals})]}),_&&t.jsxs(k,{sx:{ml:"auto"},children:[t.jsx(L,{variant:"caption",sx:{opacity:.8},children:"Last Update"}),t.jsx(L,{variant:"body2",fontWeight:500,children:_.toLocaleTimeString()})]})]})]}),t.jsx(k,{sx:{p:2},children:g.length===0?t.jsx(Oe,{severity:"info",sx:{m:2},children:"No evaluations submitted yet. Rankings will appear here as judges submit scores."}):t.jsx(s0,{children:g.map((U,ae)=>{const P=hC(U.rank),re=J(U.team_id,U.rank);return t.jsx(Jn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:ae*.05},layout:!0,children:t.jsxs(ze,{elevation:U.rank&&U.rank<=3?2:0,sx:{display:"flex",alignItems:"center",p:2,mb:1.5,borderRadius:"12px",border:"1px solid",borderColor:U.rank&&U.rank<=3?"transparent":"divider",background:U.rank&&U.rank<=3?P.bg:"#fff",transition:"all 0.3s ease","&:hover":{transform:"translateX(4px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},children:[t.jsx(k,{sx:{width:48,height:48,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",mr:2,background:U.rank&&U.rank<=3?"rgba(255,255,255,0.3)":"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",fontWeight:700,fontSize:U.rank&&U.rank<=3?"1.5rem":"1.1rem",color:P.color},children:P.icon||U.rank||"-"}),t.jsxs(k,{sx:{flex:1},children:[t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[t.jsx(L,{variant:"subtitle1",fontWeight:700,sx:{color:U.rank&&U.rank<=3?P.color:"text.primary"},children:U.team_name}),re==="up"&&t.jsx(Jn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:t.jsx(xu,{sx:{color:"#22c55e",fontSize:20}})}),re==="down"&&t.jsx(Jn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:t.jsx(kj,{sx:{color:"#ef4444",fontSize:20}})})]}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(mr,{variant:"determinate",value:U.percentage,sx:{flex:1,height:8,borderRadius:4,bgcolor:U.rank&&U.rank<=3?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.08)","& .MuiLinearProgress-bar":{borderRadius:4,background:U.rank&&U.rank<=3?"rgba(255,255,255,0.9)":"linear-gradient(90deg, #7c3aed 0%, #a855f7 100%)"}}}),t.jsxs(L,{variant:"caption",fontWeight:600,sx:{minWidth:45,color:U.rank&&U.rank<=3?P.color:"text.secondary"},children:[U.percentage.toFixed(1),"%"]})]})]}),t.jsxs(k,{sx:{textAlign:"right",ml:2},children:[t.jsx(L,{variant:"h6",fontWeight:700,sx:{color:U.rank&&U.rank<=3?P.color:"text.primary"},children:U.avg_score.toFixed(1)}),t.jsxs(L,{variant:"caption",sx:{color:U.rank&&U.rank<=3?P.color:"text.secondary",opacity:.8},children:["avg  ",U.evaluation_count," evals"]})]})]})},U.team_id)})})})]})}function xC(){const{eventId:s}=oo(),i=yt(),[l,o]=w.useState(null),[d,h]=w.useState([]),[f,m]=w.useState(""),[g,x]=w.useState(!0);w.useEffect(()=>{s&&p()},[s]);async function p(){x(!0);try{const{data:v}=await B.from("events").select("*").eq("id",s).maybeSingle();o(v);const{data:b}=await B.from("rounds").select("*").eq("event_id",s).order("round_number");if(h(b||[]),b&&b.length>0){const T=b.find(C=>C.status==="active")||b[0];m(T.id)}}catch(v){console.error("Error loading event data:",v)}x(!1)}return g?t.jsx(k,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)"},children:t.jsx(at,{sx:{color:"#7c3aed"}})}):l?t.jsxs(k,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)"},children:[t.jsx(ze,{elevation:0,sx:{borderRadius:0,borderBottom:"1px solid",borderColor:"divider",background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",position:"sticky",top:0,zIndex:100},children:t.jsx(Yl,{maxWidth:"lg",children:t.jsxs(k,{sx:{py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(Qe,{onClick:()=>i(`/admin/event/${s}`),children:t.jsx(Dj,{})}),t.jsxs(k,{children:[t.jsxs(Nj,{separator:"",sx:{mb:.5},children:[t.jsx(ex,{href:"/admin/events",underline:"hover",color:"inherit",sx:{fontSize:"0.875rem"},children:"Events"}),t.jsx(ex,{href:`/admin/event/${s}`,underline:"hover",color:"inherit",sx:{fontSize:"0.875rem"},children:l.name}),t.jsx(L,{color:"text.primary",sx:{fontSize:"0.875rem"},children:"Live Leaderboard"})]}),t.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(Zp,{sx:{color:"#7c3aed"}}),t.jsx(L,{variant:"h5",fontWeight:700,color:"text.primary",children:"Live Leaderboard"})]})]})]}),t.jsxs(It,{size:"small",sx:{minWidth:200},children:[t.jsx(Qt,{children:"Select Round"}),t.jsx($t,{value:f,label:"Select Round",onChange:v=>m(v.target.value),children:d.map(v=>t.jsxs(lt,{value:v.id,children:[v.name,v.status==="active"&&" (Active)",v.is_computed&&" "]},v.id))})]})]})})}),t.jsx(Yl,{maxWidth:"lg",sx:{py:4},children:d.length===0?t.jsx(Oe,{severity:"info",children:"No rounds created yet. Create a round to start tracking live scores."}):f?t.jsx(gC,{roundId:f,eventId:s}):t.jsx(Oe,{severity:"info",children:"Select a round to view the live leaderboard."})})]}):t.jsx(Yl,{maxWidth:"md",sx:{py:4},children:t.jsx(Oe,{severity:"error",children:"Event not found"})})}const pC=({slides:s,mode:i="spotlight",autoPlay:l=!1,autoPlayInterval:o=5e3})=>{const[d,h]=w.useState(0),[f,m]=w.useState(l),[g,x]=w.useState(1);w.useEffect(()=>{let _;return f&&(_=setInterval(()=>{p()},o)),()=>clearInterval(_)},[d,f,o]);const p=()=>{x(1),h(_=>(_+1)%s.length)},v=()=>{x(-1),h(_=>(_-1+s.length)%s.length)},b=()=>{m(!f)},T={enter:_=>({x:_>0?1e3:-1e3,opacity:0,scale:.8,rotateY:_>0?45:-45}),center:{zIndex:1,x:0,opacity:1,scale:1,rotateY:0,transition:{duration:.8,type:"spring",bounce:.3}},exit:_=>({zIndex:0,x:_<0?1e3:-1e3,opacity:0,scale:.8,rotateY:_<0?45:-45,transition:{duration:.6}})},C={initial:{scale:.5,opacity:0,filter:"blur(10px)"},animate:{scale:1,opacity:1,filter:"blur(0px)",transition:{duration:.8,ease:"easeOut",type:"spring",stiffness:100}},exit:{scale:1.5,opacity:0,filter:"blur(20px)",transition:{duration:.5}}},A=s[d];return A?t.jsxs(k,{sx:{position:"relative",width:"100%",height:"600px",overflow:"hidden",background:i==="reveal"?"radial-gradient(circle at center, #1e293b 0%, #0f172a 100%)":"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,boxShadow:"0 20px 50px rgba(0,0,0,0.1)"},children:[t.jsxs(k,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",zIndex:0,pointerEvents:"none"},children:[t.jsx(Jn.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},style:{position:"absolute",top:"-20%",left:"-10%",width:"60%",height:"60%",background:i==="reveal"?"radial-gradient(circle, rgba(99,102,241,0.15) 0%, rgba(0,0,0,0) 70%)":"radial-gradient(circle, rgba(56,189,248,0.2) 0%, rgba(255,255,255,0) 70%)",borderRadius:"50%"}}),t.jsx(Jn.div,{animate:{rotate:[360,0],scale:[1,1.3,1]},transition:{duration:25,repeat:1/0,ease:"linear"},style:{position:"absolute",bottom:"-20%",right:"-10%",width:"70%",height:"70%",background:i==="reveal"?"radial-gradient(circle, rgba(236,72,153,0.15) 0%, rgba(0,0,0,0) 70%)":"radial-gradient(circle, rgba(168,85,247,0.2) 0%, rgba(255,255,255,0) 70%)",borderRadius:"50%"}})]}),t.jsx(k,{sx:{width:"80%",maxWidth:"900px",zIndex:1,position:"relative",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(s0,{mode:"wait",custom:g,children:t.jsx(Jn.div,{custom:g,variants:i==="reveal"?C:T,initial:i==="reveal"?"initial":"enter",animate:i==="reveal"?"animate":"center",exit:"exit",style:{width:"100%",height:"80%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",perspective:"1000px"},children:t.jsxs(ze,{elevation:i==="reveal"?24:10,sx:{p:{xs:3,md:6},width:"100%",maxWidth:"800px",borderRadius:4,background:i==="reveal"?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:i==="reveal"?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(255,255,255,0.8)",color:i==="reveal"?"white":"text.primary",textAlign:"center",position:"relative",overflow:"hidden"},children:[i==="reveal"&&A.rank&&t.jsxs(Jn.div,{initial:{scale:0,opacity:0,rotate:-180},animate:{scale:1,opacity:1,rotate:0},transition:{delay:.3,type:"spring"},style:{position:"absolute",top:-10,right:40},children:[t.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2583/2583344.png",alt:"Rank Badge",style:{width:80,height:80,filter:"drop-shadow(0 4px 6px rgba(0,0,0,0.3))"}}),t.jsx(L,{variant:"h4",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontWeight:900,color:"#b45309",textShadow:"0 1px 2px rgba(255,255,255,0.5)"},children:A.rank})]}),t.jsx(fe,{label:A.category||"General",sx:{mb:2,fontWeight:600,background:i==="reveal"?"linear-gradient(45deg, #f43f5e, #ec4899)":"linear-gradient(45deg, #3b82f6, #8b5cf6)",color:"white",px:1}}),t.jsx(k,{sx:{display:"flex",justifyContent:"center",mb:3},children:t.jsx(Jn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:t.jsx(Vp,{src:A.image,alt:A.title,sx:{width:120,height:120,border:i==="reveal"?"4px solid #fbbf24":"4px solid white",boxShadow:i==="reveal"?"0 0 20px rgba(251, 191, 36, 0.5)":"0 10px 25px rgba(0,0,0,0.1)"},children:!A.image&&t.jsx(Pp,{sx:{fontSize:60}})})})}),t.jsx(L,{variant:"h3",component:"h2",sx:{fontWeight:800,mb:1,background:i==="reveal"?"linear-gradient(to right, #fbbf24, #f59e0b)":"linear-gradient(to right, #1e293b, #334155)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:A.title}),t.jsx(L,{variant:"h6",sx:{mb:3,opacity:.8,fontWeight:500},children:A.subtitle}),t.jsx(L,{variant:"body1",sx:{mb:4,lineHeight:1.6,maxWidth:"600px",mx:"auto",opacity:.9},children:A.description}),i==="reveal"&&A.score&&t.jsx(Jn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring"},children:t.jsxs(k,{sx:{display:"inline-block",p:2,px:4,background:"rgba(255,255,255,0.1)",borderRadius:3,border:"1px solid rgba(255,255,255,0.2)"},children:[t.jsx(L,{variant:"overline",sx:{display:"block",mb:-1,opacity:.7},children:"Total Score"}),t.jsx(L,{variant:"h2",sx:{fontWeight:900,color:"#4ade80"},children:A.score})]})}),A.action&&t.jsx(se,{variant:"contained",size:"large",endIcon:t.jsx(tx,{}),onClick:A.onAction,sx:{mt:4,borderRadius:10,px:4,background:i==="reveal"?"#f59e0b":"#2563eb","&:hover":{background:i==="reveal"?"#d97706":"#1d4ed8"}},children:A.actionLabel||"View Details"})]})},d)})}),t.jsxs(k,{sx:{position:"absolute",width:"100%",top:"50%",transform:"translateY(-50%)",display:"flex",justifyContent:"space-between",px:{xs:1,md:4},zIndex:10,pointerEvents:"none"},children:[t.jsx(Qe,{onClick:v,sx:{pointerEvents:"auto",bgcolor:i==="reveal"?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.8)",color:i==="reveal"?"white":"primary.main","&:hover":{bgcolor:i==="reveal"?"rgba(255,255,255,0.2)":"white"},backdropFilter:"blur(5px)",width:56,height:56},children:t.jsx(Mj,{})}),t.jsx(Qe,{onClick:p,sx:{pointerEvents:"auto",bgcolor:i==="reveal"?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.8)",color:i==="reveal"?"white":"primary.main","&:hover":{bgcolor:i==="reveal"?"rgba(255,255,255,0.2)":"white"},backdropFilter:"blur(5px)",width:56,height:56},children:t.jsx(tx,{})})]}),t.jsxs(k,{sx:{position:"absolute",bottom:20,left:"50%",transform:"translateX(-50%)",display:"flex",gap:1,alignItems:"center",zIndex:10,background:"rgba(0,0,0,0.2)",backdropFilter:"blur(10px)",borderRadius:10,p:1,px:2},children:[t.jsx(Qe,{size:"small",onClick:b,sx:{color:"white"},children:f?t.jsx(Oj,{}):t.jsx(yu,{})}),s.map((_,z)=>t.jsx(k,{onClick:()=>{x(z>d?1:-1),h(z)},sx:{width:z===d?24:8,height:8,borderRadius:4,bgcolor:z===d?i==="reveal"?"#fbbf24":"#2563eb":"rgba(255,255,255,0.5)",transition:"all 0.3s ease",cursor:"pointer"}},z))]})]}):null},yC=()=>{const[s,i]=w.useState("spotlight"),l=(h,f)=>{f!==null&&i(f)},o=[{title:"EcoTrack",subtitle:"Sustainable Living App",category:"Software",description:"An AI-powered application that tracks individual carbon footprints and suggests personalized actionable steps to reduce environmental impact. Features include receipt scanning and gamified challenges.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800&q=80",action:!0,onAction:()=>alert("Viewing EcoTrack Details")},{title:"Solarify",subtitle:"High-Efficiency Solar Panels",category:"Hardware",description:"Next-generation solar panels utilizing perovskite cells to achieve 35% higher efficiency than traditional silicon panels. Designed for easy installation in urban environments.",image:"https://images.unsplash.com/photo-1509391366360-2e959784a276?w=800&q=80",action:!0,onAction:()=>alert("Viewing Solarify Details")},{title:"MedConnect",subtitle:"Telemedicine Platform",category:"Healthcare",description:"Bridging the gap between rural patients and urban specialists through secure, high-definition video consultations and integrated health record sharing.",image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800&q=80",action:!0,onAction:()=>alert("Viewing MedConnect Details")}],d=[{title:"Winner: EcoTrack",subtitle:"Grand Prize Winner",rank:"1st",score:"98.5",category:"Software",description:"Outstanding innovation in sustainability technology with potential for massive global impact.",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=800&q=80",action:!0,actionLabel:"View Scoring Breakdown",onAction:()=>alert("Viewing Scoring Breakdown")},{title:"Runner-up: Solarify",subtitle:"Best Hardware Solution",rank:"2nd",score:"96.2",category:"Hardware",description:"Revolutionary hardware design tackling the pressing energy crisis.",image:"https://images.unsplash.com/photo-1509391366360-2e959784a276?w=800&q=80",action:!0,actionLabel:"View Scoring Breakdown",onAction:()=>alert("Viewing Scoring Breakdown")},{title:"Finalist: MedConnect",subtitle:"Social Impact Award",rank:"3rd",score:"94.8",category:"Healthcare",description:"Highly commended for addressing critical healthcare accessibility issues.",image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800&q=80",action:!0,actionLabel:"View Scoring Breakdown",onAction:()=>alert("Viewing Scoring Breakdown")}];return t.jsxs(k,{sx:{minHeight:"100vh",background:"#f8fafc"},children:[t.jsx(ss,{breadcrumb:"Showcase"}),t.jsxs(Yl,{maxWidth:"xl",sx:{py:4},children:[t.jsxs(k,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,flexWrap:"wrap",gap:2},children:[t.jsxs(k,{children:[t.jsx(L,{variant:"h4",sx:{fontWeight:800,color:"#1e293b"},children:s==="spotlight"?"Project Spotlight":"Live Results Reveal"}),t.jsx(L,{variant:"body1",sx:{color:"#64748b"},children:s==="spotlight"?"Browse through the amazing submissions.":"The moment we have all been waiting for."})]}),t.jsx(ze,{elevation:0,sx:{border:"1px solid #e2e8f0",p:.5,borderRadius:2},children:t.jsxs(Bj,{value:s,exclusive:!0,onChange:l,"aria-label":"slide mode",size:"small",children:[t.jsx(nx,{value:"spotlight",sx:{px:3,fontWeight:600},children:"Spotlight"}),t.jsx(nx,{value:"reveal",sx:{px:3,fontWeight:600},children:"Reveal"})]})})]}),t.jsx(pC,{slides:s==="spotlight"?o:d,mode:s,autoPlay:!1}),t.jsxs(k,{sx:{mt:8,textAlign:"center",maxWidth:"600px",mx:"auto"},children:[t.jsx(L,{variant:"h6",sx:{mb:2,fontWeight:700},children:"Instructions"}),t.jsx(L,{variant:"body2",color:"text.secondary",children:'Use the toggle above to switch between "Spotlight Mode" (for project galleries) and "Reveal Mode" (for announcing winners). The animations and styles automatically adapt to provide the best experience for each context.'})]})]})]})},vC=({targetId:s="main-content",children:i="Skip to main content"})=>{const l=o=>{o.preventDefault();const d=document.getElementById(s);d&&(d.focus(),d.scrollIntoView({behavior:"smooth"}))};return t.jsx("a",{href:`#${s}`,className:"skip-link",onClick:l,style:{position:"absolute",top:"-100px",left:"50%",transform:"translateX(-50%)",background:"var(--primary-color, #2563eb)",color:"white",padding:"12px 24px",borderRadius:"0 0 8px 8px",fontWeight:"600",fontSize:"14px",zIndex:1e4,textDecoration:"none",transition:"top 0.2s ease"},onFocus:o=>{o.target.style.top="0"},onBlur:o=>{o.target.style.top="-100px"},children:i})};function bC({error:s,onRetry:i}){return t.jsx(k,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",gap:3},children:s?t.jsxs(t.Fragment,{children:[t.jsx(Oe,{severity:"error",sx:{mb:2,maxWidth:400},children:s}),t.jsx(se,{variant:"contained",startIcon:t.jsx(ns,{}),onClick:i,sx:{background:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)",textTransform:"none",px:4,py:1.5,fontWeight:600,borderRadius:"12px","&:hover":{background:"linear-gradient(135deg, #6d28d9 0%, #5b21b6 100%)"}},children:"Try Again"})]}):t.jsxs(t.Fragment,{children:[t.jsx(at,{size:48,sx:{color:"#7c3aed"}}),t.jsx(L,{variant:"body1",sx:{color:"#64748b",fontWeight:500},children:"Loading JudgeFlow..."})]})})}function jC(){const{user:s,loading:i,authError:l,retry:o}=qt();return l&&!i?t.jsx(bC,{error:l,onRetry:o}):t.jsxs(qj,{children:[t.jsx(vC,{targetId:"main-content"}),t.jsx("main",{id:"main-content",tabIndex:"-1",style:{outline:"none"},children:t.jsxs(Pj,{children:[t.jsx(Je,{path:"/",element:t.jsx(v1,{})}),t.jsx(Je,{path:"/how-it-works",element:t.jsx(b1,{})}),t.jsx(Je,{path:"/features",element:t.jsx(j1,{})}),t.jsx(Je,{path:"/algorithm",element:t.jsx(S1,{})}),t.jsx(Je,{path:"/showcase",element:t.jsx(yC,{})}),t.jsx(Je,{path:"/privacy",element:t.jsx(hS,{})}),t.jsx(Je,{path:"/terms",element:t.jsx(mS,{})}),t.jsx(Je,{path:"/data-retention",element:t.jsx(gS,{})}),t.jsx(Je,{path:"/unauthorized",element:t.jsx(xS,{})}),t.jsx(Je,{path:"/accept-invitation",element:t.jsx(US,{})}),t.jsx(Je,{path:"/shared-events",element:t.jsx(pn,{children:t.jsx(WS,{})})}),t.jsx(Je,{path:"/login",element:s?t.jsx(En,{to:"/admin/events"}):t.jsx(w1,{})}),t.jsx(Je,{path:"/register",element:s?t.jsx(En,{to:"/admin/events"}):t.jsx(_1,{})}),t.jsx(Je,{path:"/admin",element:t.jsx(pn,{role:"admin",children:t.jsx(En,{to:"/admin/events",replace:!0})})}),t.jsx(Je,{path:"/admin/events",element:t.jsx(pn,{role:"admin",children:t.jsx(M1,{})})}),t.jsx(Je,{path:"/admin/event/:eventId",element:t.jsx(pn,{role:"admin",children:t.jsx(iS,{})})}),t.jsx(Je,{path:"/admin/event/:eventId/results",element:t.jsx(pn,{role:"admin",children:t.jsx(fS,{})})}),t.jsx(Je,{path:"/categories",element:t.jsx(pn,{role:"admin",children:t.jsx(A1,{})})}),t.jsx(Je,{path:"/admin/users",element:t.jsx(pn,{role:"admin",children:t.jsx(bS,{})})}),t.jsx(Je,{path:"/admin/event/:eventId/transparency",element:t.jsx(pn,{role:"admin",children:t.jsx(VS,{})})}),t.jsx(Je,{path:"/admin/event/:eventId/leaderboard",element:t.jsx(pn,{role:"admin",children:t.jsx(xC,{})})}),t.jsx(Je,{path:"/judge-dashboard",element:t.jsx(rS,{})}),t.jsx(Je,{path:"/judge",element:t.jsx(pn,{role:"judge",children:t.jsx(E1,{})})}),t.jsx(Je,{path:"/results",element:t.jsx(pn,{children:t.jsx(N1,{})})}),t.jsx(Je,{path:"*",element:t.jsx(En,{to:"/",replace:!0})})]})})]})}function SC(){return t.jsx(y1,{children:t.jsx(p1,{children:t.jsx(d1,{children:t.jsx(jC,{})})})})}const wC=c1.createRoot(document.getElementById("root"));wC.render(t.jsx(Kp.StrictMode,{children:t.jsx(SC,{})}));
